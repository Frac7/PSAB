(this.webpackJsonppsab=this.webpackJsonppsab||[]).push([[6],{489:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(214),s=t(550),o=t(491),c=t(492),i=t(493),m=t(580),d=t(578),u=t(579),p=t(502),f=t(140),E=t(572),g=t(573),b=t(574),w=t(575),h=t(576),v=t(577),O=t(82),j=function(e){var a=e.values,t=e.touched,r=e.errors,l=e.isSubmitting,s=e.handleSubmit,o=e.handleChange;return n.a.createElement(g.a,{onSubmit:s,noValidate:!0},n.a.createElement(b.a,null,n.a.createElement(w.a,{for:"username"},"Nome"),n.a.createElement(h.a,{valid:t.name&&!r.name,type:"text",name:"name",id:"name",onChange:o,value:a.name}),r.name&&n.a.createElement(v.a,{color:"danger"},r.name)),n.a.createElement(b.a,null,n.a.createElement(w.a,{for:"address"},"Address"),n.a.createElement(h.a,{valid:t.address&&!r.address,type:"text",name:"address",id:"address",placeholder:"0xa1b2c3d4e5f6...",onChange:o,value:a.address}),r.address&&n.a.createElement(v.a,{color:"danger"},r.address)),n.a.createElement(b.a,null,n.a.createElement(w.a,{for:"email"},"E-mail"),n.a.createElement(h.a,{valid:t.email&&!r.email,type:"email",name:"email",id:"email",placeholder:"user@example.com",onChange:o,value:a.email}),r.email&&n.a.createElement(v.a,{color:"danger"},r.email)),n.a.createElement(b.a,null,n.a.createElement(w.a,{for:"password"},"Password"),n.a.createElement(h.a,{valid:t.email&&!r.password,type:"password",name:"password",id:"password",onChange:o,value:a.password}),n.a.createElement(v.a,null,"Almeno 8 caratteri, lettere maiuscole, lettere minuscole, caratteri speciali, numeri"),r.password&&n.a.createElement(v.a,{color:"danger"},r.password)),n.a.createElement(b.a,null,n.a.createElement(w.a,{for:"confirmPassword"},"Conferma password"),n.a.createElement(h.a,{valid:t.email&&!r.confirmPassword,type:"password",name:"confirmPassword",id:"confirmPassword",onChange:o,value:a.confirmPassword}),r.confirmPassword&&n.a.createElement(v.a,{color:"danger"},r.confirmPassword)),n.a.createElement(O.b,{type:"submit",disabled:l},"Aggiungi"))},P=t(549),C={email:"",password:"",name:"",address:"",confirmPassword:""},I=Object(P.a)().shape({email:Object(P.c)().email("E-mail non valida").required("Inserire l'e-mail"),password:Object(P.c)().required("Inserire la password").length(7,"La password deve essere lunga almeno 8 caratteri"),confirmPassword:Object(P.c)().required("Inserire la conferma per la password").oneOf([Object(P.b)("password"),null],"Le due password non coincidono"),name:Object(P.c)().required("Inserire il nome"),address:Object(P.c)().required("Inserire l'indirizzo").length(42,"L'address \xe8 lungo esattamente 42 caratteri")}),y=t(498),S=function(){var e=Object(r.useState)(!1),a=Object(l.a)(e,2),t=a[0],g=a[1];Object(r.useEffect)((function(){t&&setTimeout((function(){return g(!1)}),5e3)}),[t]);var b=Object(r.useCallback)((function(e,a){var t=e.name,r=e.email,n=e.address,l=e.password,s=a.setSubmitting,o=a.setErrors,c=a.resetForm,i=[{Name:"custom:role",Value:"1"},{Name:"email",Value:r},{Name:"name",Value:t},{Name:"custom:eth_address",Value:n}];y.b.signUp(r,l,i.map((function(e){return new p.c(e)})),[],(function(e,a){console.log(e,a),s(!1),e?o({confirmPassword:e.message}):(g(!0),c())}))}),[]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(o.a,{fluid:!0},n.a.createElement(c.a,null,n.a.createElement(i.a,null,n.a.createElement("h1",null,"Aggiungi utente"))),n.a.createElement(c.a,null,n.a.createElement(i.a,{md:12},n.a.createElement(s.a,{initialValues:C,validationSchema:I,onSubmit:b},(function(e){return n.a.createElement(j,e)}))))),n.a.createElement(m.a,{style:{position:"fixed",bottom:"10%",right:"10%"},color:"primary",isOpen:t},n.a.createElement(d.a,null,n.a.createElement(f.a,{icon:E.faCheck,color:"#006D77"})," Utente registrato"),n.a.createElement(u.a,null,"L'utente \xe8 stato registrato correttamente")))};a.default=Object(y.a)((function(){return n.a.createElement(S,null)}))},498:function(e,a,t){"use strict";t.d(a,"b",(function(){return E}));var r=t(8),n=t(9),l=t(17),s=t(18),o=t(0),c=t.n(o),i=t(81),m=t(22),d=t(502),u=t(33),p=t(101),f=t(80),E=new d.d({UserPoolId:"us-east-1_nHjKBFfD6",ClientId:"3mdnhe3e6gdkou07as5v4scjqt"});a.a=function(e){var a=function(a){Object(s.a)(o,a);var t=Object(l.a)(o);function o(e){var a;Object(r.a)(this,o),a=t.call(this,e);var n=window.localStorage.getItem("LoggedIn");return a.state={auth:n},n&&!a.props.user.data&&a.props.loggedIn({data:JSON.parse(a.state.auth)}),a}return Object(n.a)(o,[{key:"render",value:function(){return this.state.auth?c.a.createElement(e,null):c.a.createElement(m.a,{to:u.f})}}]),o}(o.Component);return Object(i.b)((function(e){return{user:f.a.getUser(e)}}),{loggedIn:p.a})(a)}}}]);
//# sourceMappingURL=6.0c7fedfc.chunk.js.map