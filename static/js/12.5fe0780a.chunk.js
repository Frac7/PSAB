(this.webpackJsonppsab=this.webpackJsonppsab||[]).push([[12],{630:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(118),l=a(640),i=a(641),o=a(642),s=a(152),u=a(297),m=function(e){var t=e.user,a=t.username,n=t.name;return r.a.createElement(i.a,{className:"align-items-center"},r.a.createElement(o.a,{xl:"auto",sm:"auto",align:"center"},r.a.createElement(s.a,{icon:u.faUser,size:"lg"})),r.a.createElement(o.a,null,r.a.createElement("h1",null,n),r.a.createElement("h6",null,a)))},f=a(146),d=a(965),E=a(966),b=a(967),O=a(116),h=a(680),g=a(650),j=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(f.a)(u,2),j=m[0],y=m[1],p=Object(n.useState)(!0),v=Object(f.a)(p,2),w=v[0],N=v[1];return Object(n.useEffect)((function(){s([]),Object(g.a)(t,s,N,y)}),[t,s,N,y]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:"my-3 align-items-center"},r.a.createElement(o.a,{xl:"auto"},r.a.createElement("h2",null,"Terreni posseduti")),r.a.createElement(o.a,null,r.a.createElement(O.a,null,"Owner"))),r.a.createElement(i.a,{className:"my-3 align-items-center"},r.a.createElement(o.a,{xl:12,sm:12},w&&r.a.createElement(O.e,{size:"large"}),j&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento dei terreni"),!l.length&&!w&&!j&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessun terreno posseduto"),r.a.createElement(E.a,{flush:!0},l.map((function(e,t){return r.a.createElement(b.a,{key:t},r.a.createElement(h.b,e))}))))))},y=a(649),p=a(199),v=a(648),w=a(147),N=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(f.a)(u,2),g=m[0],j=m[1],N=Object(n.useState)(!0),S=Object(f.a)(N,2),B=S[0],A=S[1];return Object(n.useEffect)((function(){s([]);var e=new window.web3.eth.Contract(v.a[w.g].ABI,v.a[w.g].address);e.methods.getByBuyer(t).call({from:t}).then((function(a){if(!a.length)return s([]),void A(!1);a.forEach((function(n,r){e.methods.getById(n).call({from:t}).then((function(e){s((function(t){return[].concat(Object(p.a)(t),[Object(y.a)(Object(y.a)({},e),{},{id:n})])})),r===a.length-1&&A(!1)})).catch((function(e){j(!0),A(!1)}))}))})).catch((function(e){j(!0),A(!1)}))}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:"my-3 align-items-center"},r.a.createElement(o.a,{xl:"auto"},r.a.createElement("h2",null,"Porzioni di terreno acquistate")),r.a.createElement(o.a,null,r.a.createElement(O.a,null,"Buyer"))),r.a.createElement(i.a,{className:"my-3 align-items-center"},r.a.createElement(o.a,{xl:12,sm:12},B&&r.a.createElement(O.e,{size:"large"}),g&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento delle porzioni di terreno"),!l.length&&!B&&!g&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna porzione di terreno acquistata"),r.a.createElement(E.a,{flush:!0},l.map((function(e,t){return r.a.createElement(b.a,{key:t},r.a.createElement(h.c,e))}))))))},S=function(e,t,a,n,r,c){n(!0);var l=new window.web3.eth.Contract(v.a[r].ABI,v.a[r].address);l.methods["getBy".concat(c)](e).call({from:e}).then((function(r){if(!r.length)return t([]),void n(!1);r.forEach((function(c,i){l.methods.getById(c).call({from:e}).then((function(e){t((function(t){return[].concat(Object(p.a)(t),[Object(y.a)(Object(y.a)({},e),{},{id:c})])})),i===r.length-1&&n(!1)})).catch((function(e){a(!0),n(!1)}))}))})).catch((function(e){a(!0),n(!1)}))},B=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)([]),m=Object(f.a)(u,2),g=m[0],j=m[1],y=Object(n.useState)([]),p=Object(f.a)(y,2),v=p[0],N=p[1],B=Object(n.useState)(!1),A=Object(f.a)(B,2),x=A[0],z=A[1],k=Object(n.useState)(!1),I=Object(f.a)(k,2),P=I[0],C=I[1];return Object(n.useEffect)((function(){N([]),S(t,N,z,C,w.h,"Operator"),s([]),S(t,s,z,C,w.e,"Operator"),j([]),S(t,j,z,C,w.i,"Operator")}),[t,N,z,C]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:"my-3 align-items-center"},r.a.createElement(o.a,{xl:"auto"},r.a.createElement("h2",null,"Attivit\xe0 di produzione, manutenzione e prodotti registrati")),r.a.createElement(o.a,null,r.a.createElement(O.a,null,"Operator"))),r.a.createElement(i.a,{className:"my-3 align-items-center"},r.a.createElement(o.a,{xl:12,sm:12},P&&r.a.createElement(O.e,{size:"large"}),x&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi"),!l.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna attivit\xe0 di produzione registrata"),!g.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna attivit\xe0 di produzione registrata"),!v.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessun prodotto registrato"),r.a.createElement(E.a,{flush:!0},l.map((function(e,t){return r.a.createElement(b.a,{key:t},r.a.createElement(h.a,Object.assign({},e,{element:w.i})))})),g.map((function(e,t){return r.a.createElement(b.a,{key:t},r.a.createElement(h.a,Object.assign({},e,{element:w.e})))})),v.map((function(e,t){return r.a.createElement(b.a,{key:t},r.a.createElement(h.a,Object.assign({},e,{element:w.h})))}))))))},A=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)([]),m=Object(f.a)(u,2),g=m[0],j=m[1],y=Object(n.useState)(!1),p=Object(f.a)(y,2),v=p[0],N=p[1],B=Object(n.useState)(!0),A=Object(f.a)(B,2),x=A[0],z=A[1];return Object(n.useEffect)((function(){j([]),S(t,j,N,z,w.h,"Certifier"),s([]),S(t,s,N,z,w.i,"Certifier")}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:"my-3 align-items-center"},r.a.createElement(o.a,{xl:"auto"},r.a.createElement("h2",null,"Attivit\xe0 di produzione e prodotti certificati")),r.a.createElement(o.a,null,r.a.createElement(O.a,null,"Certifier"))),r.a.createElement(i.a,{className:"my-3 align-items-center"},r.a.createElement(o.a,{xl:12,sm:12},x&&r.a.createElement(O.e,{size:"large"}),v&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi"),!l.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna attivit\xe0 certificata"),!g.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessun prodotto certificato"),r.a.createElement(E.a,{flush:!0},l.map((function(e,t){return r.a.createElement(b.a,{key:t},r.a.createElement(h.a,Object.assign({},e,{element:w.i})))})),g.map((function(e,t){return r.a.createElement(b.a,{key:t},r.a.createElement(h.a,Object.assign({},e,{element:w.h})))}))))))},x=a(117),z=Object(c.b)((function(e){return{user:x.a.getUser(e)}}))((function(e){var t=e.user.data,a=t.attributes.name,n=parseInt(t.attributes["custom:role"]),c=t.username;return r.a.createElement(l.a,{fluid:!0},r.a.createElement(m,{user:{username:c,name:a}}),n===w.l.indexOf(w.k)&&r.a.createElement(j,{userAddress:c}),n===w.l.indexOf(w.k)&&r.a.createElement(N,{userAddress:c}),n===w.l.indexOf(w.f)&&r.a.createElement(B,{userAddress:c}),n===w.l.indexOf(w.a)&&r.a.createElement(A,{userAddress:c}))})),k=a(39),I=a(655);t.default=Object(I.a)((function(){return r.a.createElement(z,null)}),k.d)},649:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(33);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},650:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return s}));var n=a(649),r=a(199),c=a(648),l=a(147),i=function(e,t,a,i){a(!0);var o=new window.web3.eth.Contract(c.a[l.d].ABI,c.a[l.d].address);o.methods.getByOwner(e).call({from:e}).then((function(c){if(!c.length)return t([]),void a(!1);c.forEach((function(l,s){o.methods.getById(l).call({from:e}).then((function(e){t((function(t){return[].concat(Object(r.a)(t),[Object(n.a)(Object(n.a)({},e),{},{id:l})])})),s===c.length-1&&a(!1)})).catch((function(e){i(!0),a(!1)}))}))})).catch((function(e){i(!0),a(!1)}))},o=function(e,t,a,i){a(!0);var o=new window.web3.eth.Contract(c.a[l.g].ABI,c.a[l.g].address);o.methods.getByOwner(e).call({from:e}).then((function(c){if(!c.length)return t([]),void a(!1);c.forEach((function(l,s){o.methods.getById(l).call({from:e}).then((function(e){t((function(t){return[].concat(Object(r.a)(t),[Object(n.a)(Object(n.a)({},e[0]),{},{id:l})])})),s===c.length-1&&a(!1)})).catch((function(e){i(!0),a(!1)}))}))})).catch((function(e){a(!1),i(!0)}))},s=function(e,t,a,i){a(!0);var o=new window.web3.eth.Contract(c.a[l.g].ABI,c.a[l.g].address);o.methods.getByBuyer(e).call({from:e}).then((function(c){if(!c.length)return t([]),void a(!1);c.forEach((function(l,s){o.methods.getById(l).call({from:e}).then((function(i){i[1].buyer===e&&(t((function(e){return[].concat(Object(r.a)(e),[Object(n.a)(Object(n.a)({},i[0]),{},{id:l})])})),s===c.length-1&&a(!1))})).catch((function(e){i(!0),a(!1)}))}))})).catch((function(e){a(!1),i(!0)}))}}}]);
//# sourceMappingURL=12.5fe0780a.chunk.js.map