{"version":3,"sources":["contracts/index.js","shared/auth/index.js","shared/views/PortionLandHandling.js","shared/views/DiscoverLand.js","shared/views/ActivityProductOwnershipHandling.js","shared/views/DiscoverPortion.js","shared/views/LandPortionHandling.js","shared/views/CertificationHandling.js","shared/views/DiscoverActivityProduct.js"],"names":["contracts","LAND","ABI","Land","abi","address","PORTION","Portion","PRODUCT","Product","MAINTENANCE_ACTIVITIES","Maintenance","PROD_ACTIVITIES","ProductionActivity","withAuthentication","AuthComponent","from","connect","state","user","Selector","getUser","requestUser","data","isLoading","isError","useEffect","fluid","className","xl","sm","size","color","to","pathname","SIGNIN","id","isOpen","setIsOpen","userAddress","username","useState","setData","setIsLoading","hasErrors","setHasErrors","isPortionOpen","setIsPortionOpen","handleClick","useCallback","window","web3","eth","Contract","methods","getByLand","call","then","result","catch","error","onClick","Modal","toggle","ModalHeader","ModalBody","Container","Row","Col","Alert","length","ListGroup","flush","map","item","index","ListGroupItem","key","element","Title","StyledTitle","DiscoverLand","description","documents","align","tag","href","target","useMemo","initialData","Object","keys","forEach","method","contractInstance","items","getById","push","upperIndex","lowerIndex","portion","registeredBy","DiscoverPortion","rest","land","price","periodicity","duration","expectedProduction","expectedMaintenanceCost","expectedProdActivityCost","isLandOpen","setIsLandOpen","isHistoryOpen","setIsHistoryOpen","isDetailsOpen","setIsDetailsOpen","handleDetailsClick","icon","faChevronUp","faChevronDown","Collapse","parseInt","toFixed","Date","toLocaleDateString","props","viewToRender","getByItem","getCertificationById","certification","certifier","DiscoverActivityProduct"],"mappings":"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","file":"static/js/5.fbd98220.chunk.js","sourcesContent":["import Land from './Land.json';\nimport Portion from './Portion.json';\nimport Product from './Product.json';\nimport Maintenance from './Maintenance.json';\nimport ProductionActivity from './ProductionActivity.json';\n\nimport {\n\tLAND,\n\tPORTION,\n\tPRODUCT,\n\tPROD_ACTIVITIES,\n\tMAINTENANCE_ACTIVITIES\n} from '../shared/values';\n\nconst contracts = {\n\t[LAND]: {\n\t\tABI: Land.abi,\n\t\taddress: '0x5c6bafE9a2cA993568D16EA2B86902AA18e2547d'\n\t},\n\t[PORTION]: {\n\t\tABI: Portion.abi,\n\t\taddress: '0x4d03a40dd56a11C7455B9E6376fCA67254bEcf20'\n\t},\n\t[PRODUCT]: {\n\t\tABI: Product.abi,\n\t\taddress: '0xD00DD60f0A7851073ce5a33525F1828863Dc96E6'\n\t},\n\t[MAINTENANCE_ACTIVITIES]: {\n\t\tABI: Maintenance.abi,\n\t\taddress: '0x7be05F531Fb6bEB5170a6f05BD8D2D105ae0FCDb'\n\t},\n\t[PROD_ACTIVITIES]: {\n\t\tABI: ProductionActivity.abi,\n\t\taddress: '0xC15f75444a8BCa2F211ea82402E86cc3D2A17b58'\n\t}\n};\n\nexport default contracts;\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport { Col, Container, Row, Alert } from 'reactstrap';\nimport { StyledSpinner } from '../styled';\n\nimport { SIGNIN } from '../../config/routes';\n\nimport { requestUser } from '../../store/user/action';\nimport { Selector } from '../../store/user/reducer';\n\nconst withAuthentication = (AuthComponent, from) =>\n    connect((state) => ({ user: Selector.getUser(state) }), { requestUser })(\n        ({ requestUser, user: { data, isLoading, isError }}) => {\n            useEffect(() => {\n                if (!data) {\n                    requestUser();\n                }\n            }, [requestUser, data]);\n\n            if (isLoading) {\n                return (\n                    <Container fluid>\n                        <Row className=\"my-3 justify-content-center align-content-center align-items-center\">\n                            <Col xl=\"auto\" sm=\"auto\">\n                                <StyledSpinner size=\"large\"/>\n                            </Col>\n                        </Row>\n                    </Container>\n                )\n            }\n\n            if (isError) {\n                return (\n                    <Container fluid>\n                        <Row className=\"justify-content-center align-content-center align-items-center\">\n                            <Col xl={12} sm={12}>\n                                <Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento dell'account</Alert>\n                            </Col>\n                        </Row>\n                    </Container>\n                )\n            }\n\n            if (data) {\n                return <AuthComponent />;\n            } else {\n                return <Redirect to={{\n                    pathname: SIGNIN,\n                    state: { from }\n                }} />\n            }\n        });\n\nexport default withAuthentication;\n","import React, { useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { Alert, Col, Container, ListGroup, ListGroupItem, Modal, ModalBody, ModalHeader, Row } from 'reactstrap';\n\nimport { StyledFilledButton, StyledSpinner } from '../styled';\n\nimport contracts from '../../contracts';\nimport { PORTION } from '../values';\n\nimport { Selector } from '../../store/user/reducer';\nimport LandPortionHandling from './LandPortionHandling';\n\nconst PortionLandHandling = ({ id, isOpen, setIsOpen, user: { data: { username }} }) => {\n\tconst userAddress = username;\n\n\tconst [data, setData] = useState([]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [hasErrors, setHasErrors] = useState(false);\n\n\tconst [isPortionOpen, setIsPortionOpen] = useState(false);\n\n\tconst handleClick = useCallback(() => {\n\t\tsetIsOpen((isOpen) => !isOpen);\n\t\tif (!isOpen) {\n\t\t\tsetData([]);\n\t\t\tsetIsLoading(true);\n\n\t\t\tconst contractInstance = new window.web3.eth.Contract(contracts[PORTION].ABI, contracts[PORTION].address);\n\t\t\tcontractInstance.methods.getByLand(id)\n\t\t\t\t.call({ from: userAddress })\n\t\t\t\t.then((result) => {\n\t\t\t\t\tsetData(result);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\n\t}, [id, userAddress, isOpen, setIsOpen, setIsLoading, setData]);\n\n\treturn (\n\t\t<>\n\t\t\t<StyledFilledButton onClick={handleClick}>\n\t\t\t\tSfoglia porzioni\n\t\t\t</StyledFilledButton>\n\t\t\t<Modal className=\"modal-lg\" isOpen={isOpen} toggle={handleClick}>\n\t\t\t\t<ModalHeader toggle={handleClick}>\n\t\t\t\t\tDettagli Terreno #{id}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"my-3 justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl=\"auto\" sm=\"auto\">\n\t\t\t\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasErrors && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{!data.length && (\n\t\t\t\t\t\t<Alert color=\"info\" className=\"my-3\">Nessuna porzione registrata</Alert>\n\t\t\t\t\t)}\n\t\t\t\t\t<ListGroup flush>\n\t\t\t\t\t{data.map((item, index) => (\n\t\t\t\t\t\t<ListGroupItem key={index}>\n\t\t\t\t\t\t\t<LandPortionHandling\n\t\t\t\t\t\t\t\tid={item}\n\t\t\t\t\t\t\t\tisOpen={isPortionOpen}\n\t\t\t\t\t\t\t\tsetIsOpen={setIsPortionOpen}\n\t\t\t\t\t\t\t\telement={PORTION}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t))}\n\t\t\t\t\t</ListGroup>\n\t\t\t\t</ModalBody>\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\n\nexport default connect((state) => ({ user: Selector.getUser(state) }))(PortionLandHandling);\n","import React, { useState } from 'react';\nimport { Container, Row, Col, ListGroup, ListGroupItem } from 'reactstrap';\n\nimport { StyledTitle } from '../styled';\nimport PortionLandHandling from './PortionLandHandling';\n\nconst Title = StyledTitle('h5');\n\nconst DiscoverLand = ({ id, description, documents }) => {\n\tconst [isOpen, setIsOpen] = useState(false);\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Row className=\"align-items-center my-3 justify-content-end\">\n\t\t\t\t<Col xl={9} sm={12} align=\"end\">\n\t\t\t\t\t<PortionLandHandling\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tisOpen={isOpen}\n\t\t\t\t\t\tsetIsOpen={setIsOpen}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Descrizione</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t{documents && (\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Documenti</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<ListGroup flush>\n\t\t\t\t\t\t\t<ListGroupItem className=\"text-success\" tag=\"a\" href={documents} target=\"_blank\">Documento allegato</ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>)}\n\t\t</Container>\n\t);\n}\n\nexport default DiscoverLand;\n","import React, { useState, useCallback, useMemo } from 'react';\nimport { connect } from 'react-redux';\n\nimport { Col, Container, Modal, ModalBody, ModalHeader, Row, Alert } from 'reactstrap';\n\nimport DiscoverActivityProduct from './DiscoverActivityProduct';\nimport { StyledFilledButton, StyledSpinner, StyledTitle } from '../styled';\n\nimport contracts from '../../contracts';\nimport { MAINTENANCE_ACTIVITIES, PORTION, PROD_ACTIVITIES, PRODUCT } from '../values';\nimport { Selector } from '../../store/user/reducer';\n\nconst Title = StyledTitle('h5');\n\nconst ActivityProductOwnershipHandling = ({ id, isOpen, setIsOpen, user: { data: { username }} }) => {\n\tconst userAddress = useMemo(() => username, [username]);\n\n\tconst initialData = useMemo(() => ({\n\t\t[PORTION]: [],\n\t\t[PRODUCT]: [],\n\t\t[PROD_ACTIVITIES]: [],\n\t\t[MAINTENANCE_ACTIVITIES]: []\n\t}), []);\n\tconst [data, setData] = useState(initialData);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [hasErrors, setHasErrors] = useState(false);\n\n\tconst handleClick = useCallback(() => {\n\t\tsetIsOpen((isOpen) => !isOpen);\n\t\tif (!isOpen) {\n\t\t\tsetData(initialData);\n\n\t\t\tObject.keys(data).forEach((element) => {\n\t\t\t\tsetIsLoading(true);\n\t\t\t\tconst method = element === PORTION ? 'getBuyersByPortion' : 'getByPortion';\n\t\t\t\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\t\t\t\tcontractInstance.methods[method](id)\n\t\t\t\t\t.call({ from: userAddress })\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\tif (element === PORTION) {\n\t\t\t\t\t\t\tsetData((data) => ({\n\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t[element]: result\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (result.length) {\n\t\t\t\t\t\t\t\tconst items = [];\n\n\t\t\t\t\t\t\t\tresult.forEach((id, index) => {\n\t\t\t\t\t\t\t\t\tcontractInstance.methods.getById(id)\n\t\t\t\t\t\t\t\t\t\t.call({ from: userAddress })\n\t\t\t\t\t\t\t\t\t\t.then((item) => {\n\t\t\t\t\t\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\tif (index === result.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetData((data) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t\t\t\t\t\t[element]: items\n\t\t\t\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t});\n\n\t\t\t});\n\t\t}\n\n\t}, [id, userAddress, isOpen, setIsOpen, setIsLoading, initialData, data, setData]);\n\n\treturn (\n\t\t<>\n\t\t\t<StyledFilledButton onClick={handleClick}>\n\t\t\t\tSfoglia cronologia\n\t\t\t</StyledFilledButton>\n\t\t\t<Modal className=\"modal-lg\" isOpen={isOpen} toggle={handleClick}>\n\t\t\t\t<ModalHeader toggle={handleClick}>\n\t\t\t\t\tDettagli Porzione #{id}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"my-3 justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl=\"auto\" sm=\"auto\">\n\t\t\t\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasErrors && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{Object.keys(data).map((element, upperIndex) => {\n\t\t\t\t\t\tif (element === PORTION) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Container fluid key={upperIndex}>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Title>Possessori</Title>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col xl={9} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t{data[PORTION].map((address, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<p align=\"justify\" key={index}>{address}</p>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn data[element].map(({id, description, portion, registeredBy}, lowerIndex) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DiscoverActivityProduct\n\t\t\t\t\t\t\t\t\tkey={`${upperIndex}${lowerIndex}`}\n\t\t\t\t\t\t\t\t\telement={element}\n\t\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\t\tportion={portion}\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tregisteredBy={registeredBy}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t})}\n\t\t\t\t</ModalBody>\n\t\t\t</Modal>\n\t\t</>\n\t)\n};\n\nexport default connect((state) => ({ user: Selector.getUser(state) }))(ActivityProductOwnershipHandling);\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { Collapse, Col, Container, Row, ListGroup, ListGroupItem } from 'reactstrap';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons/faChevronDown';\nimport { faChevronUp } from '@fortawesome/free-solid-svg-icons/faChevronUp';\n\nimport { StyledLinkButton, StyledTitle } from '../styled';\n\nimport { LAND } from '../values';\nimport LandPortionHandling from './LandPortionHandling';\nimport ActivityProductOwnershipHandling from './ActivityProductOwnershipHandling';\n\nconst Title = StyledTitle('h5');\n\nconst DiscoverPortion = ({ id, ...rest }) => {\n\tconst {\n\t\tland,\n\t\tdescription,\n\t\tdocuments,\n\t\tprice,\n\t\tperiodicity,\n\t\tduration,\n\t\texpectedProduction,\n\t\texpectedMaintenanceCost,\n\t\texpectedProdActivityCost\n\t} = useMemo(() => {\n\t\tif (rest[0] && rest[1]) {\n\t\t\treturn {\n\t\t\t\t...rest[0],\n\t\t\t\t...rest[1]\n\t\t\t};\n\t\t} else {\n\t\t\treturn {};\n\t\t}\n\t}, [rest]);\n\n\tconst [isLandOpen, setIsLandOpen] = useState(false);\n\tconst [isHistoryOpen, setIsHistoryOpen] = useState(false);\n\n\tconst [isDetailsOpen, setIsDetailsOpen] = useState(false);\n\tconst handleDetailsClick = useCallback(() => {\n\t\tsetIsDetailsOpen((isOpen) => !isOpen);\n\t}, [setIsDetailsOpen])\n\tconst icon = useMemo(() => isDetailsOpen ? faChevronUp : faChevronDown, [isDetailsOpen]);\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Row className=\"align-items-center justify-content-end my-3\">\n\t\t\t\t<Col xl={9} sm={12} align=\"end\">\n\t\t\t\t\t<ActivityProductOwnershipHandling\n\t\t\t\t\t\tsetIsOpen={setIsHistoryOpen}\n\t\t\t\t\t\tisOpen={isHistoryOpen}\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Terreno</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<LandPortionHandling\n\t\t\t\t\t\tid={land}\n\t\t\t\t\t\tisOpen={isLandOpen}\n\t\t\t\t\t\tsetIsOpen={setIsLandOpen}\n\t\t\t\t\t\telement={LAND}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Descrizione</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t{documents && (\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Documenti</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<ListGroup flush>\n\t\t\t\t\t\t<ListGroupItem className=\"text-success\" tag=\"a\" href={documents} target=\"_blank\">Documento allegato</ListGroupItem>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t</Col>\n\t\t\t</Row>)}\n\t\t\t{expectedProduction && expectedProduction.length  && (\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col align=\"center\">\n\t\t\t\t\t\t<StyledLinkButton color=\"link\" onClick={handleDetailsClick}>\n\t\t\t\t\t\t\tDati del contratto <FontAwesomeIcon icon={icon} />\n\t\t\t\t\t\t</StyledLinkButton>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t\t<Collapse isOpen={isDetailsOpen}>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Canone</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">€ {price && (parseInt(price)/100).toFixed(2)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Durata</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">{parseInt(duration) ? `Fino al ${new Date(parseInt(duration)).toLocaleDateString()}` : 'Perpetua'}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Produzione attesa</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">{expectedProduction}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Periodicità</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">{periodicity}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Costi di manutenzione attesi</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">€ {expectedMaintenanceCost && (parseInt(expectedMaintenanceCost)/100).toFixed(2)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Costi di produzione attesi</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">€ {expectedProdActivityCost && (parseInt(expectedProdActivityCost)/100).toFixed(2)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Collapse>\n\t\t</Container>\n\t);\n};\n\nexport default DiscoverPortion;\n","import React, { useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { Alert, Col, Container, Modal, ModalBody, ModalHeader, Row } from 'reactstrap';\n\nimport DiscoverLand from './DiscoverLand';\nimport DiscoverPortion from './DiscoverPortion';\nimport { StyledLinkButton, StyledSpinner } from '../styled';\n\nimport contracts from '../../contracts';\nimport { LAND, PORTION } from '../values';\n\nimport { Selector } from '../../store/user/reducer';\n\nconst viewToRender = (props) => ({\n\t[LAND]: <DiscoverLand {...props} />,\n\t[PORTION]: <DiscoverPortion {...props} />\n});\n\nconst LandPortionHandling = ({ id, isOpen, setIsOpen, element, user: { data: { username }} }) => {\n\tconst userAddress = username;\n\n\tconst [data, setData] = useState({});\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [hasErrors, setHasErrors] = useState(false);\n\n\tconst handleClick = useCallback(() => {\n\t\tsetIsOpen((isOpen) => !isOpen);\n\t\tif (!isOpen) {\n\t\t\tsetData({});\n\t\t\tsetIsLoading(true);\n\n\t\t\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\t\t\tcontractInstance.methods.getById(id)\n\t\t\t\t.call({ from: userAddress })\n\t\t\t\t.then((result) => {\n\t\t\t\t\tsetData({\n\t\t\t\t\t\t...result,\n\t\t\t\t\t\tid\n\t\t\t\t\t});\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\n\t}, [id, userAddress, element, isOpen, setIsOpen, setIsLoading, setData]);\n\n\treturn (\n\t\t<>\n\t\t\t<StyledLinkButton color=\"link\" onClick={handleClick}>\n\t\t\t\t{element} #{id}\n\t\t\t</StyledLinkButton>\n\t\t\t<Modal className=\"modal-lg\" isOpen={isOpen} toggle={handleClick}>\n\t\t\t\t<ModalHeader toggle={handleClick}>\n\t\t\t\t\tDettagli {element} #{id}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"my-3 justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl=\"auto\" sm=\"auto\">\n\t\t\t\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasErrors && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{viewToRender(data)[element]}\n\t\t\t\t</ModalBody>\n\t\t\t</Modal>\n\t\t</>\n\t)\n};\n\nexport default connect((state) => ({ user: Selector.getUser(state) }))(LandPortionHandling);\n","import React, { useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\n\nimport { Col, Container, ListGroup, ListGroupItem, Modal, ModalBody, ModalHeader, Row, Alert } from 'reactstrap';\nimport { StyledFilledButton, StyledSpinner, StyledTitle } from '../styled';\n\nimport contracts from '../../contracts';\nimport { Selector } from '../../store/user/reducer';\n\nconst Title = StyledTitle('h5');\n\nconst CertificationHandling = ({ id, isOpen, setIsOpen, element, user: { data: { username }} }) => {\n\tconst userAddress = username;\n\n\tconst [data, setData] = useState([]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [hasErrors, setHasErrors] = useState(false);\n\n\tconst handleClick = useCallback(() => {\n\t\tsetIsOpen((isOpen) => !isOpen);\n\t\tif (!isOpen) {\n\t\t\tsetData([]);\n\t\t\tsetIsLoading(true);\n\n\t\t\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\t\t\tcontractInstance.methods.getByItem(id)\n\t\t\t\t.call({ from: userAddress })\n\t\t\t\t.then((result) => {\n\t\t\t\t\tif (result.length) {\n\t\t\t\t\t\tif (!hasErrors) {\n\t\t\t\t\t\t\tresult.forEach((id, index) => {\n\t\t\t\t\t\t\t\tcontractInstance.methods.getCertificationById(id)\n\t\t\t\t\t\t\t\t\t.call({ from: userAddress })\n\t\t\t\t\t\t\t\t\t.then((certification) => {\n\t\t\t\t\t\t\t\t\t\tsetData((data) => {\n\t\t\t\t\t\t\t\t\t\t\tdata.push(certification);\n\t\t\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tif (index === result.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\n\t}, [id, userAddress, element, isOpen, setIsOpen, setIsLoading, setData, hasErrors, setHasErrors]);\n\n\treturn (\n\t\t<>\n\t\t\t<StyledFilledButton onClick={handleClick}>\n\t\t\t\tSfoglia cronologia\n\t\t\t</StyledFilledButton>\n\t\t\t<Modal className=\"modal-lg\" isOpen={isOpen} toggle={handleClick}>\n\t\t\t\t<ModalHeader toggle={handleClick}>\n\t\t\t\t\tDettagli {element} #{id}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"my-3 justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl=\"auto\" sm=\"auto\">\n\t\t\t\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasErrors && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{!data.length && !isLoading && !hasErrors && (\n\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t\t\t<Alert color=\"info\" className=\"my-3\">Nessuna certificazione</Alert>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t)}\n\t\t\t\t\t<ListGroup flush>\n\t\t\t\t\t\t{data.map(({ description, certifier }, index) => (\n\t\t\t\t\t\t\t<ListGroupItem key={index}>\n\t\t\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t\t\t<Row className=\"my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"text-black-50\">Certificazione</h6>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Title>Descrizione</Title>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Title>Certificato da</Title>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<p align=\"justify\">{certifier}</p>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ListGroup>\n\t\t\t\t</ModalBody>\n\t\t\t</Modal>\n\t\t</>\n\t)\n};\n\nexport default connect((state) => ({ user: Selector.getUser(state) }))(CertificationHandling);\n","import React, { useState } from 'react';\nimport { Col, Container, Row } from 'reactstrap';\n\nimport { StyledTitle } from '../styled';\n\nimport LandPortionHandling from './LandPortionHandling';\n\nimport { MAINTENANCE_ACTIVITIES, PORTION } from '../values';\nimport CertificationHandling from './CertificationHandling';\n\nconst Title = StyledTitle('h5');\n\nconst DiscoverActivityProduct = ({ id, portion, description, registeredBy, element }) => {\n\tconst [isPortionOpen, setIsPortionOpen] = useState(false);\n\tconst [isHistoryOpen, setIsHistoryOpen] = useState(false);\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Row className=\"my-3\">\n\t\t\t\t<Col>\n\t\t\t\t\t<h6 className=\"text-black-50\">{element}</h6>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t{element !== MAINTENANCE_ACTIVITIES && (\n\t\t\t\t<Row className=\"align-items-center justify-content-end my-3\">\n\t\t\t\t\t<Col xl={9} sm={12} align=\"end\">\n\t\t\t\t\t\t<CertificationHandling\n\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\tisOpen={isHistoryOpen}\n\t\t\t\t\t\t\tsetIsOpen={setIsHistoryOpen}\n\t\t\t\t\t\t\telement={element}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>)}\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Porzione</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<LandPortionHandling\n\t\t\t\t\t\tid={portion}\n\t\t\t\t\t\tisOpen={isPortionOpen}\n\t\t\t\t\t\tsetIsOpen={setIsPortionOpen}\n\t\t\t\t\t\telement={PORTION}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Descrizione</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Registrato da</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<p align=\"justify\">{registeredBy}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t);\n};\n\nexport default DiscoverActivityProduct;\n"],"sourceRoot":""}