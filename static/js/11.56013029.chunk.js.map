{"version":3,"sources":["features/profile/components/ProfileData.js","features/profile/components/OwnedLands.js","features/profile/components/PurchasedPortions.js","features/profile/utils/index.js","features/profile/components/OperatorActivities.js","features/profile/components/CertifierActivities.js","features/profile/containers/ProfileContainer.js","features/profile/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","shared/utils/index.js","shared/views/DiscoverLand.js","shared/views/ActivityProductOwnershipHandling.js","shared/views/DiscoverPortion.js","shared/views/LandPortionHandling.js","shared/views/CertificationHandling.js","shared/views/DiscoverActivityProduct.js"],"names":["ProfileData","user","email","name","Row","className","Col","xl","sm","align","icon","faUser","size","OwnedLands","userAddress","useState","elements","setElements","fetchErrors","setFetchErrors","isLoading","setIsLoading","useEffect","fetchLandsByOwner","Alert","color","length","ListGroup","flush","map","element","index","ListGroupItem","key","PurchasedPortions","portionInstance","window","web3","eth","Contract","contracts","PORTION","ABI","address","methods","getByBuyer","process","call","from","then","portions","forEach","id","getById","result","push","catch","error","handleFetch","subject","contractInstance","items","console","log","OperatorActivities","activities","setActivities","maintenance","setMaintenance","products","setProducts","PRODUCT","MAINTENANCE_ACTIVITIES","PROD_ACTIVITIES","CertifierActivities","connect","state","Selector","getUser","data","attributes","role","parseInt","Container","fluid","roles","indexOf","OPERATOR","CERTIFIER","withAuthentication","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread2","target","i","arguments","source","getOwnPropertyDescriptors","defineProperties","defineProperty","landInstance","LAND","getByOwner","lands","fetchPortionsByOwner","portion","Title","StyledTitle","DiscoverLand","description","documents","tag","href","isOpen","setIsOpen","setData","hasErrors","setHasErrors","handleClick","useCallback","method","item","onClick","Modal","toggle","ModalHeader","ModalBody","upperIndex","lowerIndex","registeredBy","DiscoverPortion","rest","useMemo","land","price","duration","expectedProduction","expectedMaintenanceCost","expectedProdActivityCost","isLandOpen","setIsLandOpen","isHistoryOpen","setIsHistoryOpen","isDetailsOpen","setIsDetailsOpen","handleDetailsClick","faChevronUp","faChevronDown","Collapse","toFixed","props","viewToRender","getByItem","getCertificationById","certification","certifier","DiscoverActivityProduct","isPortionOpen","setIsPortionOpen"],"mappings":"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","file":"static/js/11.56013029.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Row, Col } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUser } from '@fortawesome/free-solid-svg-icons/faUser';\n\n/**\n * User's details.\n *\n * @param email\n * @param name\n * @returns {JSX.Element}\n * @constructor\n * @component\n */\nconst ProfileData = ({ user: { email, name } }) => {\n\treturn (\n\t\t<Row className=\"align-items-center\">\n\t\t\t<Col xl={1} sm={1} align=\"center\">\n\t\t\t\t<FontAwesomeIcon icon={faUser} size=\"lg\" />\n\t\t\t</Col>\n\t\t\t<Col>\n\t\t\t\t<h1>{name}</h1>\n\t\t\t\t<h6>{email}</h6>\n\t\t\t</Col>\n\t\t</Row>\n\t)\n};\n\nProfileData.propTypes = {\n\t/**\n\t * User's email\n\t */\n\temail: PropTypes.string,\n\t/**\n\t * User's name\n\t */\n\tname: PropTypes.string\n}\n\nexport default ProfileData;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Row, Col, ListGroup, ListGroupItem, Alert } from 'reactstrap';\nimport { StyledBadge, StyledSpinner } from '../../../shared/styled';\nimport { DiscoverLand } from '../../../shared/views';\n\nimport { fetchLandsByOwner } from '../../../shared/utils';\n\n/**\n * Details for user's lands.\n *\n * @param userAddress\n * @returns {JSX.Element}\n * @constructor\n * @component\n */\nconst OwnedLands = ({ userAddress }) => {\n\tconst [elements, setElements] = useState([]);\n\tconst [fetchErrors, setFetchErrors] = useState(false);\n\tconst [isLoading, setIsLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tfetchLandsByOwner(userAddress, setElements, setIsLoading, setFetchErrors);\n\t}, [userAddress, setElements, setIsLoading, setFetchErrors]);\n\n\treturn (\n\t\t<Row className=\"align-items-center\">\n\t\t\t<Col xl=\"auto\">\n\t\t\t\t<h2>Terreni posseduti</h2>\n\t\t\t</Col>\n\t\t\t<Col>\n\t\t\t\t<StyledBadge>\n\t\t\t\t\tOwner\n\t\t\t\t</StyledBadge>\n\t\t\t</Col>\n\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t{isLoading && (\n\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t)}\n\t\t\t\t{fetchErrors && (\n\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento dei terreni</Alert>\n\t\t\t\t)}\n\t\t\t\t{!elements.length && (\n\t\t\t\t\t<Alert color=\"info\" className=\"my-3\">Nessun terreno posseduto</Alert>\n\t\t\t\t)}\n\t\t\t\t<ListGroup flush>\n\t\t\t\t{elements.map((element, index) => (\n\t\t\t\t\t<ListGroupItem key={index}>\n\t\t\t\t\t\t<DiscoverLand {...element} />\n\t\t\t\t\t</ListGroupItem>\n\t\t\t\t))}\n\t\t\t\t</ListGroup>\n\t\t\t</Col>\n\t\t</Row>\n\t)\n};\n\nOwnedLands.propTypes = {\n\t/**\n\t * Ethereum address\n\t */\n\tuserAddress: PropTypes.string\n}\n\nexport default OwnedLands;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Row, Col, ListGroup, ListGroupItem, Alert } from 'reactstrap';\nimport { StyledBadge, StyledSpinner } from '../../../shared/styled';\nimport { DiscoverPortion } from '../../../shared/views';\n\nimport contracts from '../../../shared/contracts';\nimport { PORTION } from '../../../shared/values';\n\n/**\n * Details for portions purchased by the current user.\n *\n * @param userAddress\n * @returns {JSX.Element}\n * @constructor\n * @component\n */\nconst PurchasedPortions = ({ userAddress }) => {\n\tconst [elements, setElements] = useState([]);\n\tconst [fetchErrors, setFetchErrors] = useState(false);\n\tconst [isLoading, setIsLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tconst elements = [];\n\n\t\tconst portionInstance = new window.web3.eth.Contract(contracts[PORTION].ABI, contracts[PORTION].address);\n\t\t// portionInstance.methods.getByBuyer(userAddress)\n\t\tportionInstance.methods.getByBuyer(process.env.REACT_APP_USER_ADDRESS)\n\t\t\t// .call({ from: userAddress })\n\t\t\t.call({ from: process.env.REACT_APP_USER_ADDRESS })\n\t\t\t.then((portions) => {\n\t\t\t\tif (!portions.length) {\n\t\t\t\t\tsetElements(elements);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tportions.forEach((id, index) => {\n\t\t\t\t\tportionInstance.methods.getById(id)\n\t\t\t\t\t\t// .call({ from: userAddress })\n\t\t\t\t\t\t.call({ from: process.env.REACT_APP_USER_ADDRESS })\n\t\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\t\telements.push(result);\n\n\t\t\t\t\t\t\tif (index === portions.length - 1) {\n\t\t\t\t\t\t\t\tsetElements(elements);\n\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\tsetFetchErrors(true);\n\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tsetFetchErrors(true);\n\t\t\t\tsetIsLoading(false);\n\t\t\t});\n\t}, [userAddress]);\n\n\treturn (\n\t\t<Row className=\"align-items-center\">\n\t\t\t<Col xl=\"auto\">\n\t\t\t\t<h2>Porzioni di terreno acquistate</h2>\n\t\t\t</Col>\n\t\t\t<Col>\n\t\t\t\t<StyledBadge>\n\t\t\t\t\tBuyer\n\t\t\t\t</StyledBadge>\n\t\t\t</Col>\n\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t{isLoading && (\n\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t)}\n\t\t\t\t{fetchErrors && (\n\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento delle porzioni di terreno</Alert>\n\t\t\t\t)}\n\t\t\t\t{!elements.length && (\n\t\t\t\t\t<Alert color=\"info\" className=\"my-3\">Nessuna porzione di terreno acquistata</Alert>\n\t\t\t\t)}\n\t\t\t\t<ListGroup flush>\n\t\t\t\t\t{elements.map((element, index) => (\n\t\t\t\t\t\t<ListGroupItem key={index}>\n\t\t\t\t\t\t\t<DiscoverPortion {...element} />\n\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t))}\n\t\t\t\t</ListGroup>\n\t\t\t</Col>\n\t\t</Row>\n\t)\n};\n\nPurchasedPortions.propTypes = {\n\t/**\n\t * Current user address\n\t */\n\tuserAddress: PropTypes.string\n};\n\nexport default PurchasedPortions;\n","import contracts from '../../../shared/contracts';\n\nconst handleFetch = (userAddress, setElements, setFetchErrors, setIsLoading, element, subject) => {\n\tsetIsLoading(true);\n\tconst elements = [];\n\n\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\t// contractInstance.methods[`getBy${subject}`](userAddress)\n\tcontractInstance.methods[`getBy${subject}`](process.env.REACT_APP_USER_ADDRESS)\n\t\t// .call({ from: userAddress })\n\t\t.call({ from: process.env.REACT_APP_USER_ADDRESS })\n\t\t.then((items) => {\n\t\t\tif (!items.length) {\n\t\t\t\tsetElements(elements);\n\t\t\t\tsetIsLoading(false);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\titems.forEach((id, index) => {\n\t\t\t\tcontractInstance.methods.getById(id)\n\t\t\t\t\t// .call({ from: userAddress })\n\t\t\t\t\t.call({ from: process.env.REACT_APP_USER_ADDRESS })\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\telements.push({\n\t\t\t\t\t\t\t...result,\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (index === items.length - 1) {\n\t\t\t\t\t\t\tsetElements(elements);\n\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tsetFetchErrors(true);\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t});\n\t\t\t});\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.log(error);\n\t\t\tsetFetchErrors(true);\n\t\t\tsetIsLoading(false);\n\t\t});\n};\n\nexport { handleFetch };\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Row, Col, ListGroup, ListGroupItem, Alert } from 'reactstrap';\nimport { StyledBadge, StyledSpinner } from '../../../shared/styled';\nimport { DiscoverActivityProduct } from '../../../shared/views';\n\nimport { MAINTENANCE_ACTIVITIES, PROD_ACTIVITIES, PRODUCT } from '../../../shared/values';\nimport { handleFetch } from '../utils';\n\n/**\n * Activities related to operator user.\n *\n * @param userAddress\n * @returns {JSX.Element}\n * @constructor\n * @component\n */\nconst OperatorActivities = ({ userAddress }) => {\n\tconst [activities, setActivities] = useState([]);\n\tconst [maintenance, setMaintenance] = useState([]);\n\tconst [products, setProducts] = useState([]);\n\tconst [fetchErrors, setFetchErrors] = useState(false);\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\thandleFetch(userAddress, setProducts, setFetchErrors, setIsLoading, PRODUCT, 'Operator');\n\t\thandleFetch(userAddress, setActivities, setFetchErrors, setIsLoading, MAINTENANCE_ACTIVITIES, 'Operator');\n\t\thandleFetch(userAddress, setMaintenance, setFetchErrors, setIsLoading, PROD_ACTIVITIES, 'Operator');\n\t}, [userAddress, setProducts, setFetchErrors, setIsLoading]);\n\n\treturn (\n\t\t<Row className=\"align-items-center\">\n\t\t\t<Col xl=\"auto\">\n\t\t\t\t<h2>Attività di produzione, manutenzione e prodotti registrati</h2>\n\t\t\t</Col>\n\t\t\t<Col>\n\t\t\t\t<StyledBadge>\n\t\t\t\t\tOperator\n\t\t\t\t</StyledBadge>\n\t\t\t</Col>\n\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t{isLoading && (\n\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t)}\n\t\t\t\t{fetchErrors && (\n\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t)}\n\t\t\t\t{!activities.length && (\n\t\t\t\t\t<Alert color=\"info\" className=\"my-3\">Nessuna attività di produzione registrata</Alert>\n\t\t\t\t)}\n\t\t\t\t{!maintenance.length && (\n\t\t\t\t\t<Alert color=\"info\" className=\"my-3\">Nessuna attività di produzione registrata</Alert>\n\t\t\t\t)}\n\t\t\t\t{!products.length && (\n\t\t\t\t\t<Alert color=\"info\" className=\"my-3\">Nessun prodotto registrato</Alert>\n\t\t\t\t)}\n\t\t\t\t<ListGroup flush>\n\t\t\t\t\t{activities.map((element, index) => (\n\t\t\t\t\t\t<ListGroupItem key={index}>\n\t\t\t\t\t\t\t<DiscoverActivityProduct {...element} element={PROD_ACTIVITIES} />\n\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t))}\n\t\t\t\t\t{maintenance.map((element, index) => (\n\t\t\t\t\t\t<ListGroupItem key={index}>\n\t\t\t\t\t\t\t<DiscoverActivityProduct {...element} element={MAINTENANCE_ACTIVITIES} />\n\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t))}\n\t\t\t\t\t{products.map((element, index) => (\n\t\t\t\t\t\t<ListGroupItem key={index}>\n\t\t\t\t\t\t\t<DiscoverActivityProduct {...element} element={PRODUCT} />\n\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t))}\n\t\t\t\t</ListGroup>\n\t\t\t</Col>\n\t\t</Row>\n\t)\n};\n\nOperatorActivities.propTypes = {\n\t/**\n\t * Ethereum address for the current user\n\t */\n\tuserAddress: PropTypes.string\n};\n\nexport default OperatorActivities;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Row, Col, ListGroup, ListGroupItem, Alert } from 'reactstrap';\nimport { StyledBadge, StyledSpinner } from '../../../shared/styled';\nimport { DiscoverActivityProduct } from '../../../shared/views';\n\nimport { PROD_ACTIVITIES, PRODUCT } from '../../../shared/values';\nimport { handleFetch } from '../utils';\n\n/**\n * Activity related to the certification process for the current user.\n *\n * @param userAddress\n * @returns {JSX.Element}\n * @constructor\n * @component\n */\nconst CertifierActivities = ({ userAddress }) => {\n\tconst [activities, setActivities] = useState([]);\n\tconst [products, setProducts] = useState([]);\n\tconst [fetchErrors, setFetchErrors] = useState(false);\n\tconst [isLoading, setIsLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\thandleFetch(userAddress, setProducts, setFetchErrors, setIsLoading, PRODUCT, 'Certifier');\n\t\thandleFetch(userAddress, setActivities, setFetchErrors, setIsLoading, PROD_ACTIVITIES, 'Certifier');\n\t}, [userAddress]);\n\n\treturn (\n\t\t<Row className=\"align-items-center\">\n\t\t\t<Col xl=\"auto\">\n\t\t\t\t<h2>Attività di produzione e prodotti certificati</h2>\n\t\t\t</Col>\n\t\t\t<Col>\n\t\t\t\t<StyledBadge>\n\t\t\t\t\tCertifier\n\t\t\t\t</StyledBadge>\n\t\t\t</Col>\n\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t{isLoading && (\n\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t)}\n\t\t\t\t{fetchErrors && (\n\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t)}\n\t\t\t\t{!activities.length && (\n\t\t\t\t\t<Alert color=\"info\" className=\"my-3\">Nessuna attività certificata</Alert>\n\t\t\t\t)}\n\t\t\t\t{!products.length && (\n\t\t\t\t\t<Alert color=\"info\" className=\"my-3\">Nessun prodotto certificato</Alert>\n\t\t\t\t)}\n\t\t\t\t<ListGroup flush>\n\t\t\t\t\t{activities.map((element, index) => (\n\t\t\t\t\t\t<ListGroupItem key={index}>\n\t\t\t\t\t\t\t<DiscoverActivityProduct {...element} element={PROD_ACTIVITIES} />\n\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t))}\n\t\t\t\t\t{products.map((element, index) => (\n\t\t\t\t\t\t<ListGroupItem key={index}>\n\t\t\t\t\t\t\t<DiscoverActivityProduct {...element} element={PRODUCT} />\n\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t))}\n\t\t\t\t</ListGroup>\n\t\t\t</Col>\n\t\t</Row>\n\t)\n};\n\nCertifierActivities.propTypes = {\n\t/**\n\t * Current user Ethereum address\n\t */\n\tuserAddress: PropTypes.string\n}\n\nexport default CertifierActivities;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { Container } from 'reactstrap';\nimport { ProfileData, OwnedLands, PurchasedPortions, OperatorActivities, CertifierActivities } from '../components';\n\nimport { Selector } from '../../../store/user/reducer';\nimport { CERTIFIER, OPERATOR, roles } from '../../../shared/values';\n\n/**\n * User information container.\n *\n * @param data\n * @returns {JSX.Element}\n * @constructor\n * @component\n */\nconst ProfileContainer = ({ user: { data } }) => {\n\tconst { attributes: { email, name } } = data;\n\tconst role = parseInt(data.attributes['custom:role']);\n\tconst address = data.attributes['custom:eth_address'];\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<ProfileData user={{\n\t\t\t\temail,\n\t\t\t\tname\n\t\t\t}} />\n\t\t\t<OwnedLands userAddress={address} />\n\t\t\t<PurchasedPortions userAddress={address} />\n\t\t\t{role === roles.indexOf(OPERATOR) && <OperatorActivities userAddress={address} />}\n\t\t\t{role === roles.indexOf(CERTIFIER) && <CertifierActivities userAddress={address} />}\n\t\t</Container>\n\t)\n};\n\nProfileContainer.propTypes = {\n\t/**\n\t * Logged in user\n\t */\n\tuser: PropTypes.object\n};\n\nconst mapStateToProps = (state) => ({\n\tuser: Selector.getUser(state)\n});\n\nexport default connect(mapStateToProps)(ProfileContainer);\n","import React from 'react';\n\nimport ProfileContainer from './containers';\nimport withAuthentication from '../../shared/auth';\n\nconst Profile = () => {\n\treturn (\n\t\t<ProfileContainer />\n\t);\n}\n\nexport default withAuthentication(Profile);\n","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import contracts from '../contracts';\nimport { LAND, PORTION } from '../values';\n\nconst fetchLandsByOwner = (userAddress, setElements, setIsLoading, setFetchErrors) => {\n\tconst elements = [];\n\n\tconst landInstance = new window.web3.eth.Contract(contracts[LAND].ABI, contracts[LAND].address);\n\t// landInstance.methods.getByOwner(userAddress)\n\tlandInstance.methods.getByOwner(process.env.REACT_APP_USER_ADDRESS)\n\t\t// .call({ from: userAddress })\n\t\t.call({ from: process.env.REACT_APP_USER_ADDRESS })\n\t\t.then((lands) => {\n\t\t\tif (!lands.length) {\n\t\t\t\tsetElements(elements);\n\t\t\t\tsetIsLoading(false);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlands.forEach((id, index) => {\n\t\t\t\tlandInstance.methods.getById(id)\n\t\t\t\t\t// .call({ from: userAddress })\n\t\t\t\t\t.call({ from: process.env.REACT_APP_USER_ADDRESS })\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\telements.push({\n\t\t\t\t\t\t\t...result,\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (index === lands.length - 1) {\n\t\t\t\t\t\t\tsetElements(elements);\n\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tsetFetchErrors(true);\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t});\n\t\t\t});\n\t\t})\n\t\t.catch((error) => {\n\t\t\tsetFetchErrors(true);\n\t\t\tsetIsLoading(false);\n\t\t});\n};\n\nconst fetchPortionsByOwner = (userAddress, setElements, setIsLoading, setFetchErrors) => {\n\tconst elements = [];\n\n\tconst portionInstance = new window.web3.eth.Contract(contracts[PORTION].ABI, contracts[PORTION].address);\n\t// portionInstance.methods.getByOwner(userAddress)\n\tportionInstance.methods.getByOwner(process.env.REACT_APP_USER_ADDRESS)\n\t\t// .call({ from: userAddress })\n\t\t.call({ from: process.env.REACT_APP_USER_ADDRESS })\n\t\t.then((result) => {\n\t\t\tif (!result.length) {\n\t\t\t\tsetElements([]);\n\t\t\t\tsetIsLoading(false);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresult.forEach((id, index) => {\n\t\t\t\tportionInstance.methods.getById(id)\n\t\t\t\t\t// .call({ from: userAddress })\n\t\t\t\t\t.call({ from: process.env.REACT_APP_USER_ADDRESS })\n\t\t\t\t\t.then((portion) => {\n\t\t\t\t\t\telements.push(portion[0]);\n\t\t\t\t\t\tif (index === result.length - 1) {\n\t\t\t\t\t\t\tsetElements(elements);\n\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tsetFetchErrors(true);\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t});\n\t\t\t});\n\t\t})\n\t\t.catch((error) => {\n\t\t\tsetIsLoading(false);\n\t\t\tsetFetchErrors(true);\n\t\t});\n}\n\nexport {\n\tfetchLandsByOwner,\n\tfetchPortionsByOwner\n}\n","import React from 'react';\nimport { Container, Row, Col, ListGroup, ListGroupItem } from 'reactstrap';\n\nimport { StyledTitle } from '../styled';\n\nconst Title = StyledTitle('h5');\n\nconst DiscoverLand = ({ description, documents }) => (\n\t<Container fluid>\n\t\t<Row className=\"align-items-center my-3\">\n\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t<Title>Descrizione</Title>\n\t\t\t</Col>\n\t\t\t<Col>\n\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t</Col>\n\t\t</Row>\n\t\t{documents && (\n\t\t<Row className=\"align-items-center my-3\">\n\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t<Title>Documenti</Title>\n\t\t\t</Col>\n\t\t\t<Col>\n\t\t\t\t<ListGroup flush>\n\t\t\t\t\t<ListGroupItem className=\"text-success\" tag=\"a\" href={documents} target=\"_blank\">Documento allegato</ListGroupItem>\n\t\t\t\t</ListGroup>\n\t\t\t</Col>\n\t\t</Row>)}\n\t</Container>\n);\n\nexport default DiscoverLand;\n","import React, { useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\n\nimport { Col, Container, Modal, ModalBody, ModalHeader, Row, Alert } from 'reactstrap';\n\nimport DiscoverActivityProduct from './DiscoverActivityProduct';\nimport { StyledFilledButton, StyledSpinner, StyledTitle } from '../styled';\n\nimport contracts from '../contracts';\nimport { MAINTENANCE_ACTIVITIES, PORTION, PROD_ACTIVITIES, PRODUCT } from '../values';\nimport { Selector } from '../../store/user/reducer';\n\nconst Title = StyledTitle('h5');\n\nconst ActivityProductOwnershipHandling = ({ id, isOpen, setIsOpen, user: { data: { attributes }} }) => {\n\tconst userAddress = attributes['custom:eth_address'];\n\n\tconst [data, setData] = useState({\n\t\t[PORTION]: [],\n\t\t[PRODUCT]: [],\n\t\t[PROD_ACTIVITIES]: [],\n\t\t[MAINTENANCE_ACTIVITIES]: []\n\t});\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [hasErrors, setHasErrors] = useState(false);\n\n\tconst handleClick = useCallback(() => {\n\t\tsetIsOpen((isOpen) => !isOpen);\n\t\tif (!isOpen) {\n\n\t\t\tObject.keys(data).forEach((element) => {\n\t\t\t\tconst method = element === PORTION ? 'getBuyersByPortion' : 'getByPortion';\n\t\t\t\tsetIsLoading(true);\n\t\t\t\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\t\t\t\tcontractInstance.methods[method](id)\n\t\t\t\t\t// .call({ from: userAddress })\n\t\t\t\t\t.call({ from: process.env.REACT_APP_USER_ADDRESS })\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\tif (element === PORTION) {\n\t\t\t\t\t\t\tsetData((data) => ({\n\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t[element]: result\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (result.length) {\n\t\t\t\t\t\t\t\tconst items = [];\n\n\t\t\t\t\t\t\t\tresult.forEach((id, index) => {\n\t\t\t\t\t\t\t\t\tcontractInstance.methods.getById(id)\n\t\t\t\t\t\t\t\t\t\t// .call({ from: userAddress })\n\t\t\t\t\t\t\t\t\t\t.call({ from: process.env.REACT_APP_USER_ADDRESS })\n\t\t\t\t\t\t\t\t\t\t.then((item) => {\n\t\t\t\t\t\t\t\t\t\t\titems.push(item);\n\n\t\t\t\t\t\t\t\t\t\t\tif (index === result.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetData((data) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t\t\t\t\t\t[element]: items\n\t\t\t\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t});\n\n\t\t\t});\n\t\t}\n\n\t}, [id, userAddress, isOpen, setIsOpen, setIsLoading, data, setData]);\n\n\treturn (\n\t\t<>\n\t\t\t<StyledFilledButton onClick={handleClick}>\n\t\t\t\tSfoglia cronologia\n\t\t\t</StyledFilledButton>\n\t\t\t<Modal className=\"modal-lg\" isOpen={isOpen} toggle={handleClick}>\n\t\t\t\t<ModalHeader toggle={handleClick}>\n\t\t\t\t\tDettagli Porzione #{id}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={1} sm={1}>\n\t\t\t\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasErrors && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{Object.keys(data).map((element, upperIndex) => {\n\t\t\t\t\t\tif (element === PORTION) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Container fluid key={upperIndex}>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Title>Possessori</Title>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col xl={9} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t{data[PORTION].map((address, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<p align=\"justify\" key={index}>{address}</p>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn data[element].map(({id, description, portion, registeredBy}, lowerIndex) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DiscoverActivityProduct\n\t\t\t\t\t\t\t\t\tkey={`${upperIndex}${lowerIndex}`}\n\t\t\t\t\t\t\t\t\telement={element}\n\t\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\t\tportion={portion}\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tregisteredBy={registeredBy}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t})}\n\t\t\t\t</ModalBody>\n\t\t\t</Modal>\n\t\t</>\n\t)\n};\n\nexport default connect((state) => ({ user: Selector.getUser(state) }))(ActivityProductOwnershipHandling);\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { Collapse, Col, Container, Row, ListGroup, ListGroupItem } from 'reactstrap';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons/faChevronDown';\nimport { faChevronUp } from '@fortawesome/free-solid-svg-icons/faChevronUp';\n\nimport { StyledLinkButton, StyledTitle } from '../styled';\n\nimport { LAND } from '../values';\nimport LandPortionHandling from './LandPortionHandling';\nimport ActivityProductOwnershipHandling from './ActivityProductOwnershipHandling';\n\nconst Title = StyledTitle('h5');\n\nconst DiscoverPortion = ({ id, ...rest }) => {\n\tconst {\n\t\tland,\n\t\tdescription,\n\t\tdocuments,\n\t\tprice,\n\t\tduration,\n\t\texpectedProduction,\n\t\texpectedMaintenanceCost,\n\t\texpectedProdActivityCost\n\t} = useMemo(() => {\n\t\tif (rest[0] && rest[1]) {\n\t\t\treturn {\n\t\t\t\t...rest[0],\n\t\t\t\t...rest[1]\n\t\t\t};\n\t\t} else {\n\t\t\treturn {};\n\t\t}\n\t}, [rest]);\n\n\tconst [isLandOpen, setIsLandOpen] = useState(false);\n\tconst [isHistoryOpen, setIsHistoryOpen] = useState(false);\n\n\tconst [isDetailsOpen, setIsDetailsOpen] = useState(false);\n\tconst handleDetailsClick = useCallback(() => {\n\t\tsetIsDetailsOpen((isOpen) => !isOpen);\n\t}, [setIsDetailsOpen])\n\tconst icon = useMemo(() => isDetailsOpen ? faChevronUp : faChevronDown, [isDetailsOpen]);\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Row className=\"align-items-center justify-content-end my-3\">\n\t\t\t\t<Col xl={9} sm={12} align=\"end\">\n\t\t\t\t\t<ActivityProductOwnershipHandling\n\t\t\t\t\t\tsetIsOpen={setIsHistoryOpen}\n\t\t\t\t\t\tisOpen={isHistoryOpen}\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Terreno</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<LandPortionHandling\n\t\t\t\t\t\tid={land}\n\t\t\t\t\t\tisOpen={isLandOpen}\n\t\t\t\t\t\tsetIsOpen={setIsLandOpen}\n\t\t\t\t\t\telement={LAND}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Descrizione</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t{documents && (\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Documenti</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<ListGroup flush>\n\t\t\t\t\t\t<ListGroupItem className=\"text-success\" tag=\"a\" href={documents} target=\"_blank\">Documento allegato</ListGroupItem>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t</Col>\n\t\t\t</Row>)}\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col align=\"center\">\n\t\t\t\t\t<StyledLinkButton color=\"link\" onClick={handleDetailsClick}>\n\t\t\t\t\t\tDati del contratto <FontAwesomeIcon icon={icon} />\n\t\t\t\t\t</StyledLinkButton>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Collapse isOpen={isDetailsOpen}>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Canone</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">€ {price && (parseInt(price)/100).toFixed(2)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Durata</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">{duration}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Produzione attesa</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">{expectedProduction}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Costi di manutenzione attesi</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">€ {expectedMaintenanceCost && (parseInt(expectedMaintenanceCost)/100).toFixed(2)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Costi di produzione attesi</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">€ {expectedProdActivityCost && (parseInt(expectedProdActivityCost)/100).toFixed(2)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Collapse>\n\t\t</Container>\n\t);\n};\n\nexport default DiscoverPortion;\n","import React, { useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { Alert, Col, Container, Modal, ModalBody, ModalHeader, Row } from 'reactstrap';\n\nimport DiscoverLand from './DiscoverLand';\nimport DiscoverPortion from './DiscoverPortion';\nimport { StyledLinkButton, StyledSpinner } from '../styled';\n\nimport contracts from '../contracts';\nimport { LAND, PORTION } from '../values';\n\nimport { Selector } from '../../store/user/reducer';\n\nconst viewToRender = (props) => ({\n\t[LAND]: <DiscoverLand {...props} />,\n\t[PORTION]: <DiscoverPortion {...props} />\n});\n\nconst LandPortionHandling = ({ id, isOpen, setIsOpen, element, user: { data: { attributes }} }) => {\n\tconst userAddress = attributes['custom:eth_address'];\n\n\tconst [data, setData] = useState({});\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [hasErrors, setHasErrors] = useState(false);\n\n\tconst handleClick = useCallback(() => {\n\t\tsetIsOpen((isOpen) => !isOpen);\n\t\tif (!isOpen) {\n\t\t\tsetIsLoading(true);\n\n\t\t\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\t\t\tcontractInstance.methods.getById(id)\n\t\t\t\t// .call({ from: userAddress })\n\t\t\t\t.call({ from: process.env.REACT_APP_USER_ADDRESS })\n\t\t\t\t.then((result) => {\n\t\t\t\t\tconsole.log(result);\n\t\t\t\t\tsetData(result);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\n\t}, [id, userAddress, element, isOpen, setIsOpen, setIsLoading, setData]);\n\n\treturn (\n\t\t<>\n\t\t\t<StyledLinkButton color=\"link\" onClick={handleClick}>\n\t\t\t\t{element} #{id}\n\t\t\t</StyledLinkButton>\n\t\t\t<Modal className=\"modal-lg\" isOpen={isOpen} toggle={handleClick}>\n\t\t\t\t<ModalHeader toggle={handleClick}>\n\t\t\t\t\tDettagli {element} #{id}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={1} sm={1}>\n\t\t\t\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasErrors && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{viewToRender(data)[element]}\n\t\t\t\t</ModalBody>\n\t\t\t</Modal>\n\t\t</>\n\t)\n};\n\nexport default connect((state) => ({ user: Selector.getUser(state) }))(LandPortionHandling);\n","import React, { useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\n\nimport { Col, Container, ListGroup, ListGroupItem, Modal, ModalBody, ModalHeader, Row, Alert } from 'reactstrap';\nimport { StyledFilledButton, StyledSpinner, StyledTitle } from '../styled';\n\nimport contracts from '../contracts';\nimport { Selector } from '../../store/user/reducer';\n\nconst Title = StyledTitle('h5');\n\nconst CertificationHandling = ({ id, isOpen, setIsOpen, element, user: { data: { attributes }} }) => {\n\tconst userAddress = attributes['custom:eth_address'];\n\n\tconst [data, setData] = useState([]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [hasErrors, setHasErrors] = useState(false);\n\n\tconst handleClick = useCallback(() => {\n\t\tsetIsOpen((isOpen) => !isOpen);\n\t\tif (!isOpen) {\n\t\t\tsetIsLoading(true);\n\n\t\t\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\t\t\tcontractInstance.methods.getByItem(id)\n\t\t\t\t// .call({ from: userAddress })\n\t\t\t\t.call({ from: process.env.REACT_APP_USER_ADDRESS })\n\t\t\t\t.then((result) => {\n\t\t\t\t\tif (result.length) {\n\t\t\t\t\t\tif (!hasErrors) {\n\t\t\t\t\t\t\tresult.forEach((id, index) => {\n\t\t\t\t\t\t\t\tcontractInstance.methods.getCertificationById(id)\n\t\t\t\t\t\t\t\t\t// .call({ from: userAddress })\n\t\t\t\t\t\t\t\t\t.call({ from: process.env.REACT_APP_USER_ADDRESS })\n\t\t\t\t\t\t\t\t\t.then((certification) => {\n\t\t\t\t\t\t\t\t\t\tsetData((data) => {\n\t\t\t\t\t\t\t\t\t\t\tdata.push(certification);\n\t\t\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tif (index === result.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\n\t}, [id, userAddress, element, isOpen, setIsOpen, setIsLoading, setData, hasErrors, setHasErrors]);\n\n\treturn (\n\t\t<>\n\t\t\t<StyledFilledButton onClick={handleClick}>\n\t\t\t\tSfoglia cronologia\n\t\t\t</StyledFilledButton>\n\t\t\t<Modal className=\"modal-lg\" isOpen={isOpen} toggle={handleClick}>\n\t\t\t\t<ModalHeader toggle={handleClick}>\n\t\t\t\t\tDettagli {element} #{id}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={1} sm={1}>\n\t\t\t\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasErrors && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t<ListGroup flush>\n\t\t\t\t\t\t{data.map(({ description, certifier }, index) => (\n\t\t\t\t\t\t\t<ListGroupItem key={index}>\n\t\t\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t\t\t<Row className=\"my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"text-black-50\">Certificazione</h6>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Title>Descrizione</Title>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Title>Certificato da</Title>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<p align=\"justify\">{certifier}</p>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ListGroup>\n\t\t\t\t</ModalBody>\n\t\t\t</Modal>\n\t\t</>\n\t)\n};\n\nexport default connect((state) => ({ user: Selector.getUser(state) }))(CertificationHandling);\n","import React, { useState } from 'react';\nimport { Col, Container, Row } from 'reactstrap';\n\nimport { StyledTitle } from '../styled';\n\nimport LandPortionHandling from './LandPortionHandling';\n\nimport { PORTION } from '../values';\nimport CertificationHandling from './CertificationHandling';\n\nconst Title = StyledTitle('h5');\n\nconst DiscoverActivityProduct = ({ id, portion, description, registeredBy, element }) => {\n\tconst [isPortionOpen, setIsPortionOpen] = useState(false);\n\tconst [isHistoryOpen, setIsHistoryOpen] = useState(false);\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Row className=\"my-3\">\n\t\t\t\t<Col>\n\t\t\t\t\t<h6 className=\"text-black-50\">{element}</h6>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center justify-content-end my-3\">\n\t\t\t\t<Col xl={9} sm={12} align=\"end\">\n\t\t\t\t\t<CertificationHandling\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tisOpen={isHistoryOpen}\n\t\t\t\t\t\tsetIsOpen={setIsHistoryOpen}\n\t\t\t\t\t\telement={element}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Porzione</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<LandPortionHandling\n\t\t\t\t\t\tid={portion}\n\t\t\t\t\t\tisOpen={isPortionOpen}\n\t\t\t\t\t\tsetIsOpen={setIsPortionOpen}\n\t\t\t\t\t\telement={PORTION}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Descrizione</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Registrato da</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<p align=\"justify\">{registeredBy}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t);\n};\n\nexport default DiscoverActivityProduct;\n"],"sourceRoot":""}