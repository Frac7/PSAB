{"version":3,"sources":["features/certify/index.js","shared/auth/index.js"],"names":["withAuthentication","userPool","CognitoUserPool","UserPoolId","process","ClientId","AuthComponent","AuthContainer","props","auth","window","localStorage","getItem","state","user","data","loggedIn","JSON","parse","this","to","SIGNIN","Component","connect","Selector","getUser"],"mappings":"8FAAA,oCAMeA,uBAFC,kBAAM,2C,uKC+BhBC,EAAW,IAAIC,IAAgB,CACjCC,WAAYC,sBACZC,SAAUD,+BAGCJ,IA9BY,SAACM,GAAmB,IACrCC,EADoC,kDAEtC,WAAYC,GAAQ,IAAD,sBACf,cAAMA,GAEN,IAAMC,EAAOC,OAAOC,aAAaC,QAAQ,YAH1B,OAIf,EAAKC,MAAQ,CAAEJ,QAEXA,IAAS,EAAKD,MAAMM,KAAKC,MACzB,EAAKP,MAAMQ,SAAS,CAAED,KAAME,KAAKC,MAAM,EAAKL,MAAMJ,QAPvC,EAFmB,qDAclC,OAAIU,KAAKN,MAAMJ,KACJ,kBAACH,EAAD,MAGJ,kBAAC,IAAD,CAAUc,GAAIC,UAlBa,GACdC,aAqB5B,OAAOC,aAAQ,SAACV,GAAD,MAAY,CAAEC,KAAMU,IAASC,QAAQZ,MAAW,CAAEG,cAA1DO,CAAsEhB","file":"static/js/7.c432a076.chunk.js","sourcesContent":["import React from 'react';\n\nimport withAuthentication from '../../shared/auth';\n\nconst Certify = () => <h1>Certify</h1>\n\nexport default withAuthentication(Certify);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { CognitoUserPool } from \"amazon-cognito-identity-js\";\n\nimport { SIGNIN } from '../../config/routes';\n\nimport { loggedIn } from '../../store/user/action';\nimport { Selector } from '../../store/user/reducer';\n\nconst withAuthentication = (AuthComponent) => {\n    class AuthContainer extends Component {\n        constructor(props) {\n            super(props);\n\n            const auth = window.localStorage.getItem('LoggedIn');\n            this.state = { auth };\n\n            if (auth && !this.props.user.data) {\n                this.props.loggedIn({ data: JSON.parse(this.state.auth) });\n            }\n        }\n\n        render() {\n            if (this.state.auth) {\n                return <AuthComponent />;\n            }\n\n            return <Redirect to={SIGNIN} />\n        }\n    }\n\n    return connect((state) => ({ user: Selector.getUser(state) }), { loggedIn })(AuthContainer);\n}\n\nconst userPool = new CognitoUserPool({\n    UserPoolId: process.env.REACT_APP_COGNITO_USER_POOL_ID,\n    ClientId: process.env.REACT_APP_COGNITO_CLIENT_ID\n});\n\nexport default withAuthentication;\n\nexport { userPool };\n"],"sourceRoot":""}