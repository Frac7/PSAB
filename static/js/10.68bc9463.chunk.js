(this.webpackJsonppsab=this.webpackJsonppsab||[]).push([[10],{632:function(e,a,t){"use strict";t.r(a);var r=t(2),n=t.n(r),s=t(147),l=t(118),c=t(26),o=t(675),i=t(640),m=t(641),u=t(642),d=t(721),f=t(722),p=t(723),g=t(186),b=t(149),E=t(665),O=t(778),h=t(779),j=t(780),v=t(781),w=t(782),y=t(116),C=t(148),P=function(e){var a=e.values,t=e.touched,r=e.errors,s=e.isSubmitting,l=e.handleSubmit,c=e.handleChange;return n.a.createElement(O.a,{onSubmit:l,noValidate:!0},n.a.createElement(h.a,null,n.a.createElement(j.a,{for:"username"},"Nome"),n.a.createElement(v.a,{valid:t.name&&!r.name,type:"text",name:"name",id:"name",onChange:c,value:a.name}),r.name&&n.a.createElement(w.a,{color:"danger"},r.name)),n.a.createElement(h.a,null,n.a.createElement(j.a,{for:"address"},"Address"),n.a.createElement(v.a,{valid:t.address&&!r.address,type:"text",name:"address",id:"address",placeholder:"0xa1b2c3d4e5f6...",onChange:c,value:a.address}),r.address&&n.a.createElement(w.a,{color:"danger"},r.address)),n.a.createElement(h.a,null,n.a.createElement(j.a,{for:"email"},"E-mail"),n.a.createElement(v.a,{valid:t.email&&!r.email,type:"email",name:"email",id:"email",placeholder:"user@example.com",onChange:c,value:a.email}),r.email&&n.a.createElement(w.a,{color:"danger"},r.email)),n.a.createElement(h.a,null,n.a.createElement(j.a,{for:"password"},"Password"),n.a.createElement(v.a,{valid:t.email&&!r.password,type:"password",name:"password",id:"password",onChange:c,value:a.password}),n.a.createElement(w.a,null,"Almeno 8 caratteri, lettere maiuscole, lettere minuscole, caratteri speciali, numeri"),r.password&&n.a.createElement(w.a,{color:"danger"},r.password)),n.a.createElement(h.a,null,n.a.createElement(j.a,{for:"confirmPassword"},"Conferma password"),n.a.createElement(v.a,{valid:t.email&&!r.confirmPassword,type:"password",name:"confirmPassword",id:"confirmPassword",onChange:c,value:a.confirmPassword}),r.confirmPassword&&n.a.createElement(w.a,{color:"danger"},r.confirmPassword)),n.a.createElement(h.a,null,n.a.createElement(j.a,{for:"role"},"Ruolo"),n.a.createElement(v.a,{valid:t.role&&!r.role,type:"select",name:"role",id:"role",onChange:c,value:a.role},C.j.map((function(e,a){return n.a.createElement("option",{key:a,value:a},e)}))),r.role&&n.a.createElement(w.a,{color:"danger"},r.role)),n.a.createElement(y.b,{type:"submit",disabled:s},"Aggiungi"))},N=t(672),k={email:"",password:"",name:"",address:"",confirmPassword:"",role:0},x=Object(N.c)().shape({email:Object(N.e)().email("E-mail non valida").required("Inserire l'e-mail"),password:Object(N.e)().required("Inserire la password").min(8,"La password deve essere lunga almeno 8 caratteri"),confirmPassword:Object(N.e)().required("Inserire la conferma per la password").oneOf([Object(N.d)("password"),null],"Le due password non coincidono"),name:Object(N.e)().required("Inserire il nome"),address:Object(N.e)().required("Inserire l'indirizzo").length(42,"L'address \xe8 lungo esattamente 42 caratteri"),role:Object(N.b)().required("Inserire il ruolo del nuovo utente")}),M=t(117),T=t(39),S=Object(l.b)((function(e){return{user:M.a.getUser(e)}}))((function(e){var a=e.user.data.attributes["custom:is_admin"],t=Object(r.useState)(!1),l=Object(s.a)(t,2),O=l[0],h=l[1];Object(r.useEffect)((function(){O&&setTimeout((function(){return h(!1)}),5e3)}),[O]);var j=Object(c.g)();Object(r.useEffect)((function(){a||j.push(T.d)}),[a,j]);var v=Object(r.useCallback)((function(e,a){var t=e.name,r=e.email,n=e.address,s=e.password,l=e.role,c=a.setSubmitting,o=a.setErrors,i=a.resetForm,m={name:t,"custom:eth_address":n,"custom:role":l.toString(),"custom:is_admin":"0"};g.a.signUp({username:r,password:s,attributes:m}).then((function(e){c(!1),h(!0),i()})).catch((function(e){c(!1),o({role:e.message})}))}),[]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{fluid:!0},n.a.createElement(m.a,null,n.a.createElement(u.a,null,n.a.createElement("h1",null,"Aggiungi utente"))),n.a.createElement(m.a,null,n.a.createElement(u.a,{xl:12,sm:12},n.a.createElement(o.a,{initialValues:k,validationSchema:x,onSubmit:v},(function(e){return n.a.createElement(P,e)}))))),n.a.createElement(d.a,{style:{position:"fixed",bottom:"10%",right:"10%"},color:"primary",isOpen:O},n.a.createElement(f.a,null,n.a.createElement(b.a,{icon:E.faCheck,color:"#006D77"})," Utente registrato"),n.a.createElement(p.a,null,"L'utente \xe8 stato registrato correttamente")))})),L=t(657);a.default=Object(L.a)((function(){return n.a.createElement(S,null)}))},657:function(e,a,t){"use strict";var r=t(2),n=t.n(r),s=t(118),l=t(26),c=t(640),o=t(641),i=t(642),m=t(776),u=t(116),d=t(39),f=t(27),p=t(117);a.a=function(e){return Object(s.b)((function(e){return{user:p.a.getUser(e)}}),{requestUser:f.f})((function(a){var t=a.requestUser,s=a.user,f=s.data,p=s.isLoading,g=s.isError;return Object(r.useEffect)((function(){f||t()}),[t,f]),p?n.a.createElement(c.a,{fluid:!0},n.a.createElement(o.a,{className:"justify-content-center align-content-center align-items-center"},n.a.createElement(i.a,{xl:1,sm:1},n.a.createElement(u.e,{size:"large"})))):g?n.a.createElement(c.a,{fluid:!0},n.a.createElement(o.a,{className:"justify-content-center align-content-center align-items-center"},n.a.createElement(i.a,{xl:12,sm:12},n.a.createElement(m.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento dell'account")))):f?n.a.createElement(e,null):n.a.createElement(l.a,{to:d.f})}))}},665:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=[],n="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z";a.definition={prefix:"fas",iconName:"check",icon:[512,512,r,"f00c",n]},a.faCheck=a.definition,a.prefix="fas",a.iconName="check",a.width=512,a.height=512,a.ligatures=r,a.unicode="f00c",a.svgPathData=n},721:function(e,a,t){"use strict";var r=t(9),n=t(16),s=t(654),l=t(2),c=t.n(l),o=t(3),i=t.n(o),m=t(25),u=t.n(m),d=t(18),f=t(663);function p(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?p(Object(t),!0).forEach((function(a){Object(s.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var b={children:i.a.node,className:i.a.string,cssModule:i.a.object,fade:i.a.bool,isOpen:i.a.bool,tag:d.o,transition:i.a.shape(f.a.propTypes),innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},E={isOpen:!0,tag:"div",fade:!0,transition:g(g({},f.a.defaultProps),{},{unmountOnExit:!0})};function O(e){var a=e.className,t=e.cssModule,s=e.tag,l=e.isOpen,o=e.children,i=e.transition,m=e.fade,p=e.innerRef,b=Object(n.a)(e,["className","cssModule","tag","isOpen","children","transition","fade","innerRef"]),E=Object(d.k)(u()(a,"toast"),t),O=g(g(g({},f.a.defaultProps),i),{},{baseClass:m?i.baseClass:"",timeout:m?i.timeout:0});return c.a.createElement(f.a,Object(r.a)({},b,O,{tag:s,className:E,in:l,role:"alert",innerRef:p}),o)}O.propTypes=b,O.defaultProps=E,a.a=O},722:function(e,a,t){"use strict";var r=t(9),n=t(16),s=t(2),l=t.n(s),c=t(3),o=t.n(c),i=t(25),m=t.n(i),u=t(18),d={tag:u.o,icon:o.a.oneOfType([o.a.string,o.a.node]),wrapTag:u.o,toggle:o.a.func,className:o.a.string,cssModule:o.a.object,children:o.a.node,closeAriaLabel:o.a.string,charCode:o.a.oneOfType([o.a.string,o.a.number]),close:o.a.object},f=function(e){var a,t,s=e.className,c=e.cssModule,o=e.children,i=e.toggle,d=e.tag,f=e.wrapTag,p=e.closeAriaLabel,g=e.charCode,b=e.close,E=e.tagClassName,O=e.icon,h=Object(n.a)(e,["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","charCode","close","tagClassName","icon"]),j=Object(u.k)(m()(s,"toast-header"),c);if(!b&&i){var v="number"===typeof g?String.fromCharCode(g):g;a=l.a.createElement("button",{type:"button",onClick:i,className:Object(u.k)("close",c),"aria-label":p},l.a.createElement("span",{"aria-hidden":"true"},v))}return"string"===typeof O?t=l.a.createElement("svg",{className:Object(u.k)("rounded text-"+O),width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img"},l.a.createElement("rect",{fill:"currentColor",width:"100%",height:"100%"})):O&&(t=O),l.a.createElement(f,Object(r.a)({},h,{className:j}),t,l.a.createElement(d,{className:Object(u.k)(m()(E,{"ml-2":null!=t}),c)},o),b||a)};f.propTypes=d,f.defaultProps={tag:"strong",wrapTag:"div",tagClassName:"mr-auto",closeAriaLabel:"Close",charCode:215},a.a=f},723:function(e,a,t){"use strict";var r=t(9),n=t(16),s=t(2),l=t.n(s),c=t(3),o=t.n(c),i=t(25),m=t.n(i),u=t(18),d={tag:u.o,className:o.a.string,cssModule:o.a.object,innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},f=function(e){var a=e.className,t=e.cssModule,s=e.innerRef,c=e.tag,o=Object(n.a)(e,["className","cssModule","innerRef","tag"]),i=Object(u.k)(m()(a,"toast-body"),t);return l.a.createElement(c,Object(r.a)({},o,{className:i,ref:s}))};f.propTypes=d,f.defaultProps={tag:"div"},a.a=f}}]);
//# sourceMappingURL=10.68bc9463.chunk.js.map