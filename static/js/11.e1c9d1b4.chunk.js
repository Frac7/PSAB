(this.webpackJsonppsab=this.webpackJsonppsab||[]).push([[11],{632:function(e,a,t){"use strict";t.r(a);var r=t(2),n=t.n(r),s=t(146),c=t(118),o=t(26),l=t(663),i=t(640),u=t(641),m=t(642),d=t(811),f=t(812),p=t(813),g=t(185),b=t(152),E=t(686),O=t(969),h=t(970),j=t(971),w=t(972),v=t(973),y=t(116),P=t(147),C=function(e){var a=e.values,t=e.touched,r=e.errors,s=e.isSubmitting,c=e.handleSubmit,o=e.handleChange;return n.a.createElement(O.a,{onSubmit:c,noValidate:!0},n.a.createElement(h.a,null,n.a.createElement(j.a,{for:"name"},"Nome"),n.a.createElement(w.a,{valid:t.name&&!r.name,type:"text",name:"name",id:"name",onChange:o,value:a.name}),r.name&&n.a.createElement(v.a,{color:"danger"},r.name)),n.a.createElement(h.a,null,n.a.createElement(j.a,{for:"address"},"Address"),n.a.createElement(w.a,{valid:t.address&&!r.address,type:"text",name:"address",id:"address",placeholder:"0xa1b2c3d4e5f6...",onChange:o,value:a.address}),r.address&&n.a.createElement(v.a,{color:"danger"},r.address)),n.a.createElement(h.a,null,n.a.createElement(j.a,{for:"password"},"Password"),n.a.createElement(w.a,{valid:t.password&&!r.password,type:"password",name:"password",id:"password",onChange:o,value:a.password}),n.a.createElement(v.a,null,"Almeno 8 caratteri, lettere maiuscole, lettere minuscole, caratteri speciali, numeri"),r.password&&n.a.createElement(v.a,{color:"danger"},r.password)),n.a.createElement(h.a,null,n.a.createElement(j.a,{for:"confirmPassword"},"Conferma password"),n.a.createElement(w.a,{valid:t.email&&!r.confirmPassword,type:"password",name:"confirmPassword",id:"confirmPassword",onChange:o,value:a.confirmPassword}),r.confirmPassword&&n.a.createElement(v.a,{color:"danger"},r.confirmPassword)),n.a.createElement(h.a,null,n.a.createElement(j.a,{for:"role"},"Ruolo"),n.a.createElement(w.a,{valid:t.role&&!r.role,type:"select",name:"role",id:"role",onChange:o,value:a.role},P.l.map((function(e,a){return n.a.createElement("option",{key:a,value:a},e)}))),r.role&&n.a.createElement(v.a,{color:"danger"},r.role)),n.a.createElement(y.b,{type:"submit",disabled:s},"Aggiungi"))},N=t(662),k={password:"",name:"",address:"",confirmPassword:"",role:0},x=Object(N.c)().shape({password:Object(N.e)().required("Inserire la password").min(8,"La password deve essere lunga almeno 8 caratteri"),confirmPassword:Object(N.e)().required("Inserire la conferma per la password").oneOf([Object(N.d)("password"),null],"Le due password non coincidono"),name:Object(N.e)().required("Inserire il nome"),address:Object(N.e)().required("Inserire l'indirizzo").length(42,"L'address \xe8 lungo esattamente 42 caratteri"),role:Object(N.b)().required("Inserire il ruolo del nuovo utente")}),M=t(117),T=t(39),S=Object(c.b)((function(e){return{user:M.a.getUser(e)}}))((function(e){var a=e.user.data.attributes["custom:is_admin"],t=Object(r.useState)(!1),c=Object(s.a)(t,2),O=c[0],h=c[1];Object(r.useEffect)((function(){O&&setTimeout((function(){return h(!1)}),5e3)}),[O]);var j=Object(o.g)();Object(r.useEffect)((function(){parseInt(a)||j.push(T.d)}),[a,j]);var w=Object(r.useCallback)((function(e,a){var t=e.name,r=e.address,n=e.password,s=e.role,c=a.setSubmitting,o=a.setErrors,l=a.resetForm,i={name:t,"custom:role":s.toString(),"custom:is_admin":"0"};g.a.signUp({username:r,password:n,attributes:i}).then((function(e){c(!1),h(!0),l()})).catch((function(e){c(!1),o({role:e.message})}))}),[]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{fluid:!0},n.a.createElement(u.a,null,n.a.createElement(m.a,null,n.a.createElement("h1",null,"Aggiungi utente"))),n.a.createElement(u.a,null,n.a.createElement(m.a,{xl:12,sm:12},n.a.createElement(l.a,{initialValues:k,validationSchema:x,onSubmit:w},(function(e){return n.a.createElement(C,e)}))))),n.a.createElement(d.a,{style:{position:"fixed",bottom:"10%",right:"10%"},color:"primary",isOpen:O},n.a.createElement(f.a,null,n.a.createElement(b.a,{icon:E.faCheck,color:"#006D77"})," Utente registrato"),n.a.createElement(p.a,null,"L'utente \xe8 stato registrato correttamente")))})),L=t(655);a.default=Object(L.a)((function(){return n.a.createElement(S,null)}),T.a)},655:function(e,a,t){"use strict";var r=t(2),n=t.n(r),s=t(118),c=t(26),o=t(640),l=t(641),i=t(642),u=t(965),m=t(116),d=t(39),f=t(27),p=t(117);a.a=function(e,a){return Object(s.b)((function(e){return{user:p.a.getUser(e)}}),{requestUser:f.f})((function(t){var s=t.requestUser,f=t.user,p=f.data,g=f.isLoading,b=f.isError;return Object(r.useEffect)((function(){p||s()}),[s,p]),g?n.a.createElement(o.a,{fluid:!0},n.a.createElement(l.a,{className:"my-3 justify-content-center align-content-center align-items-center"},n.a.createElement(i.a,{xl:"auto",sm:"auto"},n.a.createElement(m.e,{size:"large"})))):b?n.a.createElement(o.a,{fluid:!0},n.a.createElement(l.a,{className:"justify-content-center align-content-center align-items-center"},n.a.createElement(i.a,{xl:12,sm:12},n.a.createElement(u.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento dell'account")))):p?n.a.createElement(e,null):n.a.createElement(c.a,{to:{pathname:d.f,state:{from:a}}})}))}},686:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=[],n="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z";a.definition={prefix:"fas",iconName:"check",icon:[512,512,r,"f00c",n]},a.faCheck=a.definition,a.prefix="fas",a.iconName="check",a.width=512,a.height=512,a.ligatures=r,a.unicode="f00c",a.svgPathData=n},811:function(e,a,t){"use strict";var r=t(9),n=t(16),s=t(654),c=t(2),o=t.n(c),l=t(3),i=t.n(l),u=t(25),m=t.n(u),d=t(18),f=t(683);function p(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?p(Object(t),!0).forEach((function(a){Object(s.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var b={children:i.a.node,className:i.a.string,cssModule:i.a.object,fade:i.a.bool,isOpen:i.a.bool,tag:d.o,transition:i.a.shape(f.a.propTypes),innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},E={isOpen:!0,tag:"div",fade:!0,transition:g(g({},f.a.defaultProps),{},{unmountOnExit:!0})};function O(e){var a=e.className,t=e.cssModule,s=e.tag,c=e.isOpen,l=e.children,i=e.transition,u=e.fade,p=e.innerRef,b=Object(n.a)(e,["className","cssModule","tag","isOpen","children","transition","fade","innerRef"]),E=Object(d.k)(m()(a,"toast"),t),O=g(g(g({},f.a.defaultProps),i),{},{baseClass:u?i.baseClass:"",timeout:u?i.timeout:0});return o.a.createElement(f.a,Object(r.a)({},b,O,{tag:s,className:E,in:c,role:"alert",innerRef:p}),l)}O.propTypes=b,O.defaultProps=E,a.a=O},812:function(e,a,t){"use strict";var r=t(9),n=t(16),s=t(2),c=t.n(s),o=t(3),l=t.n(o),i=t(25),u=t.n(i),m=t(18),d={tag:m.o,icon:l.a.oneOfType([l.a.string,l.a.node]),wrapTag:m.o,toggle:l.a.func,className:l.a.string,cssModule:l.a.object,children:l.a.node,closeAriaLabel:l.a.string,charCode:l.a.oneOfType([l.a.string,l.a.number]),close:l.a.object},f=function(e){var a,t,s=e.className,o=e.cssModule,l=e.children,i=e.toggle,d=e.tag,f=e.wrapTag,p=e.closeAriaLabel,g=e.charCode,b=e.close,E=e.tagClassName,O=e.icon,h=Object(n.a)(e,["className","cssModule","children","toggle","tag","wrapTag","closeAriaLabel","charCode","close","tagClassName","icon"]),j=Object(m.k)(u()(s,"toast-header"),o);if(!b&&i){var w="number"===typeof g?String.fromCharCode(g):g;a=c.a.createElement("button",{type:"button",onClick:i,className:Object(m.k)("close",o),"aria-label":p},c.a.createElement("span",{"aria-hidden":"true"},w))}return"string"===typeof O?t=c.a.createElement("svg",{className:Object(m.k)("rounded text-"+O),width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid slice",focusable:"false",role:"img"},c.a.createElement("rect",{fill:"currentColor",width:"100%",height:"100%"})):O&&(t=O),c.a.createElement(f,Object(r.a)({},h,{className:j}),t,c.a.createElement(d,{className:Object(m.k)(u()(E,{"ml-2":null!=t}),o)},l),b||a)};f.propTypes=d,f.defaultProps={tag:"strong",wrapTag:"div",tagClassName:"mr-auto",closeAriaLabel:"Close",charCode:215},a.a=f},813:function(e,a,t){"use strict";var r=t(9),n=t(16),s=t(2),c=t.n(s),o=t(3),l=t.n(o),i=t(25),u=t.n(i),m=t(18),d={tag:m.o,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},f=function(e){var a=e.className,t=e.cssModule,s=e.innerRef,o=e.tag,l=Object(n.a)(e,["className","cssModule","innerRef","tag"]),i=Object(m.k)(u()(a,"toast-body"),t);return c.a.createElement(o,Object(r.a)({},l,{className:i,ref:s}))};f.propTypes=d,f.defaultProps={tag:"div"},a.a=f}}]);
//# sourceMappingURL=11.e1c9d1b4.chunk.js.map