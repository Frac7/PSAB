(this.webpackJsonppsab=this.webpackJsonppsab||[]).push([[9],{456:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),s=t(510),l=t(525),o=t(458),i=t(459),c=t(526),m=t(527),d=t(528),u=t(529),p=t(530),w=t(77),h=function(e){var a=e.values,t=e.touched,n=e.errors,s=e.isSubmitting,l=e.handleSubmit,o=e.handleChange;return r.a.createElement(c.a,{onSubmit:l,noValidate:!0},r.a.createElement(m.a,null,r.a.createElement(d.a,{for:"email"},"E-mail"),r.a.createElement(u.a,{valid:t.email&&!n.email,type:"email",name:"email",id:"email",placeholder:"user@example.com",onChange:o,value:a.email}),n.email&&r.a.createElement(p.a,{color:"danger"},n.email)),r.a.createElement(m.a,null,r.a.createElement(d.a,{for:"password"},"Password"),r.a.createElement(u.a,{valid:t.email&&!n.password,type:"password",name:"password",id:"password",onChange:o,value:a.password}),n.password&&r.a.createElement(p.a,{color:"danger"},n.password)),r.a.createElement(w.a,{type:"submit",disabled:s},"Accedi"))},b=t(524),g=new s.c({UserPoolId:"us-east-1_nHjKBFfD6",ClientId:"3mdnhe3e6gdkou07as5v4scjqt"}),f={email:"",password:""},E=Object(b.a)().shape({email:Object(b.b)().email("E-mail non valida").required("Inserire l'e-mail"),password:Object(b.b)().required("Inserire la password")}),v=t(32),S=function(e){var a=e.history;Object(n.useEffect)((function(){window.localStorage.getItem("LoggedIn")&&a.push(v.c)}),[a]);var t=Object(n.useCallback)((function(e,t){var n=e.email,r=e.password,l=t.setSubmitting,o=t.setErrors,i=new s.a({Username:n,Password:r}),c=new s.b({Username:n,Pool:g});c.authenticateUser(i,{onSuccess:function(e){console.log(e),window.localStorage.setItem("LoggedIn",JSON.stringify(e)),l(!1),a.push(v.c)},onFailure:function(e){console.error(e),l(!1),o({password:e.message})},newPasswordRequired:function(e){console.log(e),c.completeNewPasswordChallenge(r,null,this)}})}),[a]);return r.a.createElement(o.a,null,r.a.createElement(i.a,{md:{size:6,offset:3}},r.a.createElement(l.a,{initialValues:f,validationSchema:E,onSubmit:t},(function(e){return r.a.createElement(h,e)}))))};a.default=function(e){var a=e.history;return r.a.createElement(S,{history:a})}}}]);
//# sourceMappingURL=9.ec398349.chunk.js.map