(this.webpackJsonppsab=this.webpackJsonppsab||[]).push([[12],{630:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(118),l=a(640),i=a(641),o=a(642),s=a(152),u=a(296),m=function(e){var t=e.user,a=t.username,n=t.name;return r.a.createElement(i.a,{className:"align-items-center"},r.a.createElement(o.a,{xl:"auto",sm:"auto",align:"center"},r.a.createElement(s.a,{icon:u.faUser,size:"lg"})),r.a.createElement(o.a,null,r.a.createElement("h1",null,n),r.a.createElement("h6",null,a)))},f=a(146),d=a(965),E=a(966),h=a(967),b=a(116),O=a(680),g=a(650),j=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(f.a)(u,2),j=m[0],p=m[1],y=Object(n.useState)(!0),v=Object(f.a)(y,2),w=v[0],N=v[1];return Object(n.useEffect)((function(){s([]),Object(g.a)(t,s,N,p)}),[t,s,N,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:"my-3 align-items-center"},r.a.createElement(o.a,{xl:"auto"},r.a.createElement("h2",null,"Terreni posseduti")),r.a.createElement(o.a,null,r.a.createElement(b.a,null,"Owner"))),r.a.createElement(i.a,{className:"my-3 align-items-center"},r.a.createElement(o.a,{xl:12,sm:12},w&&r.a.createElement(b.e,{size:"large"}),j&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento dei terreni"),!l.length&&!w&&!j&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessun terreno posseduto"),r.a.createElement(E.a,{flush:!0},l.map((function(e,t){return r.a.createElement(h.a,{key:t},r.a.createElement(O.b,e))}))))))},p=a(649),y=a(648),v=a(147),w=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(f.a)(u,2),g=m[0],j=m[1],w=Object(n.useState)(!0),N=Object(f.a)(w,2),S=N[0],B=N[1];return Object(n.useEffect)((function(){var e=[];s([]);var a=new window.web3.eth.Contract(y.a[v.g].ABI,y.a[v.g].address);a.methods.getByBuyer(t).call({from:t}).then((function(n){if(!n.length)return s(e),void B(!1);n.forEach((function(r,c){a.methods.getById(r).call({from:t}).then((function(t){e.push(Object(p.a)(Object(p.a)({},t),{},{id:r})),c===n.length-1&&(s(e),B(!1))})).catch((function(e){j(!0),B(!1)}))}))})).catch((function(e){j(!0),B(!1)}))}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:"my-3 align-items-center"},r.a.createElement(o.a,{xl:"auto"},r.a.createElement("h2",null,"Porzioni di terreno acquistate")),r.a.createElement(o.a,null,r.a.createElement(b.a,null,"Buyer"))),r.a.createElement(i.a,{className:"my-3 align-items-center"},r.a.createElement(o.a,{xl:12,sm:12},S&&r.a.createElement(b.e,{size:"large"}),g&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento delle porzioni di terreno"),!l.length&&!S&&!g&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna porzione di terreno acquistata"),r.a.createElement(E.a,{flush:!0},l.map((function(e,t){return r.a.createElement(h.a,{key:t},r.a.createElement(O.c,e))}))))))},N=function(e,t,a,n,r,c){n(!0);var l=[],i=new window.web3.eth.Contract(y.a[r].ABI,y.a[r].address);i.methods["getBy".concat(c)](e).call({from:e}).then((function(r){if(!r.length)return t(l),void n(!1);r.forEach((function(c,o){i.methods.getById(c).call({from:e}).then((function(e){l.push(Object(p.a)(Object(p.a)({},e),{},{id:c})),o===r.length-1&&(t(l),n(!1))})).catch((function(e){a(!0),n(!1)}))}))})).catch((function(e){a(!0),n(!1)}))},S=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)([]),m=Object(f.a)(u,2),g=m[0],j=m[1],p=Object(n.useState)([]),y=Object(f.a)(p,2),w=y[0],S=y[1],B=Object(n.useState)(!1),A=Object(f.a)(B,2),x=A[0],z=A[1],k=Object(n.useState)(!1),I=Object(f.a)(k,2),P=I[0],C=I[1];return Object(n.useEffect)((function(){S([]),N(t,S,z,C,v.h,"Operator"),s([]),N(t,s,z,C,v.e,"Operator"),j([]),N(t,j,z,C,v.i,"Operator")}),[t,S,z,C]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:"my-3 align-items-center"},r.a.createElement(o.a,{xl:"auto"},r.a.createElement("h2",null,"Attivit\xe0 di produzione, manutenzione e prodotti registrati")),r.a.createElement(o.a,null,r.a.createElement(b.a,null,"Operator"))),r.a.createElement(i.a,{className:"my-3 align-items-center"},r.a.createElement(o.a,{xl:12,sm:12},P&&r.a.createElement(b.e,{size:"large"}),x&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi"),!l.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna attivit\xe0 di produzione registrata"),!g.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna attivit\xe0 di produzione registrata"),!w.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessun prodotto registrato"),r.a.createElement(E.a,{flush:!0},l.map((function(e,t){return r.a.createElement(h.a,{key:t},r.a.createElement(O.a,Object.assign({},e,{element:v.i})))})),g.map((function(e,t){return r.a.createElement(h.a,{key:t},r.a.createElement(O.a,Object.assign({},e,{element:v.e})))})),w.map((function(e,t){return r.a.createElement(h.a,{key:t},r.a.createElement(O.a,Object.assign({},e,{element:v.h})))}))))))},B=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)([]),m=Object(f.a)(u,2),g=m[0],j=m[1],p=Object(n.useState)(!1),y=Object(f.a)(p,2),w=y[0],S=y[1],B=Object(n.useState)(!0),A=Object(f.a)(B,2),x=A[0],z=A[1];return Object(n.useEffect)((function(){j([]),N(t,j,S,z,v.h,"Certifier"),s([]),N(t,s,S,z,v.i,"Certifier")}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:"my-3 align-items-center"},r.a.createElement(o.a,{xl:"auto"},r.a.createElement("h2",null,"Attivit\xe0 di produzione e prodotti certificati")),r.a.createElement(o.a,null,r.a.createElement(b.a,null,"Certifier"))),r.a.createElement(i.a,{className:"my-3 align-items-center"},r.a.createElement(o.a,{xl:12,sm:12},x&&r.a.createElement(b.e,{size:"large"}),w&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi"),!l.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna attivit\xe0 certificata"),!g.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessun prodotto certificato"),r.a.createElement(E.a,{flush:!0},l.map((function(e,t){return r.a.createElement(h.a,{key:t},r.a.createElement(O.a,Object.assign({},e,{element:v.i})))})),g.map((function(e,t){return r.a.createElement(h.a,{key:t},r.a.createElement(O.a,Object.assign({},e,{element:v.h})))}))))))},A=a(117),x=Object(c.b)((function(e){return{user:A.a.getUser(e)}}))((function(e){var t=e.user.data,a=t.attributes.name,n=parseInt(t.attributes["custom:role"]),c=t.username;return r.a.createElement(l.a,{fluid:!0},r.a.createElement(m,{user:{username:c,name:a}}),n===v.l.indexOf(v.k)&&r.a.createElement(j,{userAddress:c}),n===v.l.indexOf(v.k)&&r.a.createElement(w,{userAddress:c}),n===v.l.indexOf(v.f)&&r.a.createElement(S,{userAddress:c}),n===v.l.indexOf(v.a)&&r.a.createElement(B,{userAddress:c}))})),z=a(39),k=a(655);t.default=Object(k.a)((function(){return r.a.createElement(x,null)}),z.d)},649:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(33);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},650:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return o}));var n=a(649),r=a(648),c=a(147),l=function(e,t,a,l){var i=[],o=new window.web3.eth.Contract(r.a[c.d].ABI,r.a[c.d].address);o.methods.getByOwner(e).call({from:e}).then((function(r){if(!r.length)return t(i),void a(!1);r.forEach((function(c,s){o.methods.getById(c).call({from:e}).then((function(e){i.push(Object(n.a)(Object(n.a)({},e),{},{id:c})),s===r.length-1&&(t(i),a(!1))})).catch((function(e){l(!0),a(!1)}))}))})).catch((function(e){l(!0),a(!1)}))},i=function(e,t,a,l){var i=[],o=new window.web3.eth.Contract(r.a[c.g].ABI,r.a[c.g].address);o.methods.getByOwner(e).call({from:e}).then((function(r){if(!r.length)return t(i),void a(!1);r.forEach((function(c,s){o.methods.getById(c).call({from:e}).then((function(e){i.push(Object(n.a)(Object(n.a)({},e[0]),{},{id:c})),s===r.length-1&&(t(i),a(!1))})).catch((function(e){l(!0),a(!1)}))}))})).catch((function(e){a(!1),l(!0)}))},o=function(e,t,a,n){var l=[],i=new window.web3.eth.Contract(r.a[c.g].ABI,r.a[c.g].address);i.methods.getByBuyer(e).call({from:e}).then((function(r){if(!r.length)return t(l),void a(!1);r.forEach((function(c,o){i.methods.getById(c).call({from:e}).then((function(n){n[1].buyer===e&&(l.push(n[0]),o===r.length-1&&(t(l),a(!1)))})).catch((function(e){n(!0),a(!1)}))}))})).catch((function(e){a(!1),n(!0)}))}}}]);
//# sourceMappingURL=12.c71acd0e.chunk.js.map