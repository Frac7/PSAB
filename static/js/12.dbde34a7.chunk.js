(this.webpackJsonppsab=this.webpackJsonppsab||[]).push([[12],{631:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(120),l=a(641),o=a(642),i=a(643),s=a(153),u=a(298),m=function(e){var t=e.user,a=t.username,n=t.name;return r.a.createElement(o.a,{className:"align-items-center"},r.a.createElement(i.a,{xl:"auto",sm:"auto",align:"center"},r.a.createElement(s.a,{icon:u.faUser,size:"lg"})),r.a.createElement(i.a,null,r.a.createElement("h1",null,n),r.a.createElement("h6",null,a)))},f=a(198),d=a(966),E=a(967),b=a(968),O=a(118),h=a(664),g=a(651),j=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(f.a)(u,2),j=m[0],y=m[1],p=Object(n.useState)(!0),w=Object(f.a)(p,2),v=w[0],N=w[1];return Object(n.useEffect)((function(){s([]),Object(g.a)(t,s,N,y)}),[t,s,N,y]),r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{className:"my-3 align-items-center"},r.a.createElement(i.a,{xl:"auto"},r.a.createElement("h2",null,"Terreni posseduti")),r.a.createElement(i.a,null,r.a.createElement(O.a,null,"Owner"))),r.a.createElement(o.a,{className:"my-3 align-items-center"},r.a.createElement(i.a,{xl:12,sm:12},v&&r.a.createElement(O.e,{size:"large"}),j&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento dei terreni"),!l.length&&!v&&!j&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessun terreno posseduto"),r.a.createElement(E.a,{flush:!0},l.map((function(e,t){return r.a.createElement(b.a,{key:t},r.a.createElement(h.b,e))}))))))},y=a(650),p=a(200),w=a(649),v=a(58),N=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(f.a)(u,2),g=m[0],j=m[1],N=Object(n.useState)(!0),S=Object(f.a)(N,2),B=S[0],A=S[1];return Object(n.useEffect)((function(){s([]);var e=new window.web3.eth.Contract(w.a[v.g].ABI,w.a[v.g].address);e.methods.getByOwner(t).call({from:t}).then((function(a){if(!a.length)return s([]),void A(!1);a.forEach((function(n,r){e.methods.getById(n).call({from:t}).then((function(e){s((function(t){return[].concat(Object(p.a)(t),[Object(y.a)(Object(y.a)({},e),{},{id:n})])})),r===a.length-1&&A(!1)})).catch((function(e){j(!0),A(!1)}))}))})).catch((function(e){j(!0),A(!1)}))}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{className:"my-3 align-items-center"},r.a.createElement(i.a,{xl:"auto"},r.a.createElement("h2",null,"Porzioni possedute")),r.a.createElement(i.a,null,r.a.createElement(O.a,null,"Owner"))),r.a.createElement(o.a,{className:"my-3 align-items-center"},r.a.createElement(i.a,{xl:12,sm:12},B&&r.a.createElement(O.e,{size:"large"}),g&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento delle porzioni"),!l.length&&!B&&!g&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna porzione posseduta"),r.a.createElement(E.a,{flush:!0},l.map((function(e,t){return r.a.createElement(b.a,{key:t},r.a.createElement(h.c,e))}))))))},S=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(f.a)(u,2),g=m[0],j=m[1],N=Object(n.useState)(!0),S=Object(f.a)(N,2),B=S[0],A=S[1];return Object(n.useEffect)((function(){s([]);var e=new window.web3.eth.Contract(w.a[v.g].ABI,w.a[v.g].address);e.methods.getByBuyer(t).call({from:t}).then((function(a){if(!a.length)return s([]),void A(!1);a.forEach((function(n,r){e.methods.getById(n).call({from:t}).then((function(e){s((function(t){return[].concat(Object(p.a)(t),[Object(y.a)(Object(y.a)({},e),{},{id:n})])})),r===a.length-1&&A(!1)})).catch((function(e){j(!0),A(!1)}))}))})).catch((function(e){j(!0),A(!1)}))}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{className:"my-3 align-items-center"},r.a.createElement(i.a,{xl:"auto"},r.a.createElement("h2",null,"Porzioni di terreno acquistate")),r.a.createElement(i.a,null,r.a.createElement(O.a,null,"Buyer"))),r.a.createElement(o.a,{className:"my-3 align-items-center"},r.a.createElement(i.a,{xl:12,sm:12},B&&r.a.createElement(O.e,{size:"large"}),g&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento delle porzioni di terreno"),!l.length&&!B&&!g&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna porzione di terreno acquistata"),r.a.createElement(E.a,{flush:!0},l.map((function(e,t){return r.a.createElement(b.a,{key:t},r.a.createElement(h.c,e))}))))))},B=function(e,t,a,n,r,c){n(!0);var l=new window.web3.eth.Contract(w.a[r].ABI,w.a[r].address);l.methods["getBy".concat(c)](e).call({from:e}).then((function(r){if(!r.length)return t([]),void n(!1);r.forEach((function(c,o){l.methods.getById(c).call({from:e}).then((function(e){t((function(t){return[].concat(Object(p.a)(t),[Object(y.a)(Object(y.a)({},e),{},{id:c})])})),o===r.length-1&&n(!1)})).catch((function(e){a(!0),n(!1)}))}))})).catch((function(e){a(!0),n(!1)}))},A=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)([]),m=Object(f.a)(u,2),g=m[0],j=m[1],y=Object(n.useState)([]),p=Object(f.a)(y,2),w=p[0],N=p[1],S=Object(n.useState)(!1),A=Object(f.a)(S,2),z=A[0],x=A[1],k=Object(n.useState)(!1),I=Object(f.a)(k,2),P=I[0],C=I[1];return Object(n.useEffect)((function(){N([]),B(t,N,x,C,v.h,"Operator"),s([]),B(t,s,x,C,v.e,"Operator"),j([]),B(t,j,x,C,v.i,"Operator")}),[t,N,x,C]),r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{className:"my-3 align-items-center"},r.a.createElement(i.a,{xl:"auto"},r.a.createElement("h2",null,"Attivit\xe0 di produzione, manutenzione e prodotti registrati")),r.a.createElement(i.a,null,r.a.createElement(O.a,null,"Operator"))),r.a.createElement(o.a,{className:"my-3 align-items-center"},r.a.createElement(i.a,{xl:12,sm:12},P&&r.a.createElement(O.e,{size:"large"}),z&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi"),!l.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna attivit\xe0 di produzione registrata"),!g.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna attivit\xe0 di produzione registrata"),!w.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessun prodotto registrato"),r.a.createElement(E.a,{flush:!0},l.map((function(e,t){return r.a.createElement(b.a,{key:t},r.a.createElement(h.a,Object.assign({},e,{element:v.i})))})),g.map((function(e,t){return r.a.createElement(b.a,{key:t},r.a.createElement(h.a,Object.assign({},e,{element:v.e})))})),w.map((function(e,t){return r.a.createElement(b.a,{key:t},r.a.createElement(h.a,Object.assign({},e,{element:v.h})))}))))))},z=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)([]),m=Object(f.a)(u,2),g=m[0],j=m[1],y=Object(n.useState)(!1),p=Object(f.a)(y,2),w=p[0],N=p[1],S=Object(n.useState)(!0),A=Object(f.a)(S,2),z=A[0],x=A[1];return Object(n.useEffect)((function(){j([]),B(t,j,N,x,v.h,"Certifier"),s([]),B(t,s,N,x,v.i,"Certifier")}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{className:"my-3 align-items-center"},r.a.createElement(i.a,{xl:"auto"},r.a.createElement("h2",null,"Attivit\xe0 di produzione e prodotti certificati")),r.a.createElement(i.a,null,r.a.createElement(O.a,null,"Certifier"))),r.a.createElement(o.a,{className:"my-3 align-items-center"},r.a.createElement(i.a,{xl:12,sm:12},z&&r.a.createElement(O.e,{size:"large"}),w&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi"),!l.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna attivit\xe0 certificata"),!g.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessun prodotto certificato"),r.a.createElement(E.a,{flush:!0},l.map((function(e,t){return r.a.createElement(b.a,{key:t},r.a.createElement(h.a,Object.assign({},e,{element:v.i})))})),g.map((function(e,t){return r.a.createElement(b.a,{key:t},r.a.createElement(h.a,Object.assign({},e,{element:v.h})))}))))))},x=a(119),k=Object(c.b)((function(e){return{user:x.a.getUser(e)}}))((function(e){var t=e.user.data,a=t.attributes.name,n=parseInt(t.attributes["custom:role"]),c=Boolean(parseInt(t.attributes["custom:is_admin"])),o=t.username;return r.a.createElement(l.a,{fluid:!0},r.a.createElement(m,{user:{username:o,name:a}}),!c&&n===v.l.indexOf(v.k)&&r.a.createElement(j,{userAddress:o}),!c&&n===v.l.indexOf(v.k)&&r.a.createElement(N,{userAddress:o}),!c&&n===v.l.indexOf(v.k)&&r.a.createElement(S,{userAddress:o}),!c&&n===v.l.indexOf(v.f)&&r.a.createElement(A,{userAddress:o}),!c&&n===v.l.indexOf(v.a)&&r.a.createElement(z,{userAddress:o}))})),I=a(39),P=a(656);t.default=Object(P.a)((function(){return r.a.createElement(k,null)}),I.d)},650:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(33);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},651:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return s}));var n=a(650),r=a(200),c=a(649),l=a(58),o=function(e,t,a,o){a(!0);var i=new window.web3.eth.Contract(c.a[l.d].ABI,c.a[l.d].address);i.methods.getByOwner(e).call({from:e}).then((function(c){if(!c.length)return t([]),void a(!1);c.forEach((function(l,s){i.methods.getById(l).call({from:e}).then((function(e){t((function(t){return[].concat(Object(r.a)(t),[Object(n.a)(Object(n.a)({},e),{},{id:l})])})),s===c.length-1&&a(!1)})).catch((function(e){o(!0),a(!1)}))}))})).catch((function(e){o(!0),a(!1)}))},i=function(e,t,a,o){a(!0);var i=new window.web3.eth.Contract(c.a[l.g].ABI,c.a[l.g].address);i.methods.getByOwner(e).call({from:e}).then((function(c){if(!c.length)return t([]),void a(!1);c.forEach((function(l,s){i.methods.getById(l).call({from:e}).then((function(e){t((function(t){return[].concat(Object(r.a)(t),[Object(n.a)(Object(n.a)({},e[0]),{},{id:l})])})),s===c.length-1&&a(!1)})).catch((function(e){o(!0),a(!1)}))}))})).catch((function(e){a(!1),o(!0)}))},s=function(e,t,a,o){a(!0);var i=new window.web3.eth.Contract(c.a[l.g].ABI,c.a[l.g].address);i.methods.getByBuyer(e).call({from:e}).then((function(c){if(!c.length)return t([]),void a(!1);c.forEach((function(l,s){i.methods.getById(l).call({from:e}).then((function(o){o[1].buyer===e&&(t((function(e){return[].concat(Object(r.a)(e),[Object(n.a)(Object(n.a)({},o[0]),{},{id:l})])})),s===c.length-1&&a(!1))})).catch((function(e){o(!0),a(!1)}))}))})).catch((function(e){a(!1),o(!0)}))}}}]);
//# sourceMappingURL=12.dbde34a7.chunk.js.map