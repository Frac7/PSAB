(this.webpackJsonppsab=this.webpackJsonppsab||[]).push([[12],{630:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(118),l=a(640),o=a(641),i=a(642),s=a(152),u=a(296),m=function(e){var t=e.user,a=t.username,n=t.name;return r.a.createElement(o.a,{className:"align-items-center"},r.a.createElement(i.a,{xl:"auto",sm:"auto",align:"center"},r.a.createElement(s.a,{icon:u.faUser,size:"lg"})),r.a.createElement(i.a,null,r.a.createElement("h1",null,n),r.a.createElement("h6",null,a)))},f=a(146),d=a(965),h=a(961),E=a(962),b=a(116),O=a(680),g=a(652),j=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(f.a)(u,2),j=m[0],p=m[1],y=Object(n.useState)(!0),v=Object(f.a)(y,2),w=v[0],N=v[1];return Object(n.useEffect)((function(){s([]),Object(g.a)(t,s,N,p)}),[t,s,N,p]),r.a.createElement(o.a,{className:"align-items-center"},r.a.createElement(i.a,{xl:"auto"},r.a.createElement("h2",null,"Terreni posseduti")),r.a.createElement(i.a,null,r.a.createElement(b.a,null,"Owner")),r.a.createElement(i.a,{xl:12,sm:12},w&&r.a.createElement(b.e,{size:"large"}),j&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento dei terreni"),!l.length&&!w&&!j&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessun terreno posseduto"),r.a.createElement(h.a,{flush:!0},l.map((function(e,t){return r.a.createElement(E.a,{key:t},r.a.createElement(O.b,e))})))))},p=a(649),y=a(648),v=a(147),w=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(f.a)(u,2),g=m[0],j=m[1],w=Object(n.useState)(!0),N=Object(f.a)(w,2),S=N[0],B=N[1];return Object(n.useEffect)((function(){var e=[];s([]);var a=new window.web3.eth.Contract(y.a[v.f].ABI,y.a[v.f].address);a.methods.getByBuyer(t).call({from:t}).then((function(n){if(!n.length)return s(e),void B(!1);n.forEach((function(r,c){a.methods.getById(r).call({from:t}).then((function(t){e.push(Object(p.a)(Object(p.a)({},t),{},{id:r})),c===n.length-1&&(s(e),B(!1))})).catch((function(e){j(!0),B(!1)}))}))})).catch((function(e){j(!0),B(!1)}))}),[t]),r.a.createElement(o.a,{className:"align-items-center"},r.a.createElement(i.a,{xl:"auto"},r.a.createElement("h2",null,"Porzioni di terreno acquistate")),r.a.createElement(i.a,null,r.a.createElement(b.a,null,"Buyer")),r.a.createElement(i.a,{xl:12,sm:12},S&&r.a.createElement(b.e,{size:"large"}),g&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento delle porzioni di terreno"),!l.length&&!S&&!g&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna porzione di terreno acquistata"),r.a.createElement(h.a,{flush:!0},l.map((function(e,t){return r.a.createElement(E.a,{key:t},r.a.createElement(O.c,e))})))))},N=function(e,t,a,n,r,c){n(!0);var l=[],o=new window.web3.eth.Contract(y.a[r].ABI,y.a[r].address);o.methods["getBy".concat(c)](e).call({from:e}).then((function(r){if(!r.length)return t(l),void n(!1);r.forEach((function(c,i){o.methods.getById(c).call({from:e}).then((function(e){l.push(Object(p.a)(Object(p.a)({},e),{},{id:c})),i===r.length-1&&(t(l),n(!1))})).catch((function(e){a(!0),n(!1)}))}))})).catch((function(e){a(!0),n(!1)}))},S=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)([]),m=Object(f.a)(u,2),g=m[0],j=m[1],p=Object(n.useState)([]),y=Object(f.a)(p,2),w=y[0],S=y[1],B=Object(n.useState)(!1),A=Object(f.a)(B,2),z=A[0],x=A[1],I=Object(n.useState)(!1),k=Object(f.a)(I,2),P=k[0],C=k[1];return Object(n.useEffect)((function(){S([]),N(t,S,x,C,v.g,"Operator"),s([]),N(t,s,x,C,v.d,"Operator"),j([]),N(t,j,x,C,v.h,"Operator")}),[t,S,x,C]),r.a.createElement(o.a,{className:"align-items-center"},r.a.createElement(i.a,{xl:"auto"},r.a.createElement("h2",null,"Attivit\xe0 di produzione, manutenzione e prodotti registrati")),r.a.createElement(i.a,null,r.a.createElement(b.a,null,"Operator")),r.a.createElement(i.a,{xl:12,sm:12},P&&r.a.createElement(b.e,{size:"large"}),z&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi"),!l.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna attivit\xe0 di produzione registrata"),!g.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna attivit\xe0 di produzione registrata"),!w.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessun prodotto registrato"),r.a.createElement(h.a,{flush:!0},l.map((function(e,t){return r.a.createElement(E.a,{key:t},r.a.createElement(O.a,Object.assign({},e,{element:v.h})))})),g.map((function(e,t){return r.a.createElement(E.a,{key:t},r.a.createElement(O.a,Object.assign({},e,{element:v.d})))})),w.map((function(e,t){return r.a.createElement(E.a,{key:t},r.a.createElement(O.a,Object.assign({},e,{element:v.g})))})))))},B=function(e){var t=e.userAddress,a=Object(n.useState)([]),c=Object(f.a)(a,2),l=c[0],s=c[1],u=Object(n.useState)([]),m=Object(f.a)(u,2),g=m[0],j=m[1],p=Object(n.useState)(!1),y=Object(f.a)(p,2),w=y[0],S=y[1],B=Object(n.useState)(!0),A=Object(f.a)(B,2),z=A[0],x=A[1];return Object(n.useEffect)((function(){j([]),N(t,j,S,x,v.g,"Certifier"),s([]),N(t,s,S,x,v.h,"Certifier")}),[t]),r.a.createElement(o.a,{className:"align-items-center"},r.a.createElement(i.a,{xl:"auto"},r.a.createElement("h2",null,"Attivit\xe0 di produzione e prodotti certificati")),r.a.createElement(i.a,null,r.a.createElement(b.a,null,"Certifier")),r.a.createElement(i.a,{xl:12,sm:12},z&&r.a.createElement(b.e,{size:"large"}),w&&r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi"),!l.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessuna attivit\xe0 certificata"),!g.length&&r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessun prodotto certificato"),r.a.createElement(h.a,{flush:!0},l.map((function(e,t){return r.a.createElement(E.a,{key:t},r.a.createElement(O.a,Object.assign({},e,{element:v.h})))})),g.map((function(e,t){return r.a.createElement(E.a,{key:t},r.a.createElement(O.a,Object.assign({},e,{element:v.g})))})))))},A=a(117),z=Object(c.b)((function(e){return{user:A.a.getUser(e)}}))((function(e){var t=e.user.data,a=t.attributes.name,n=parseInt(t.attributes["custom:role"]),c=t.username;return r.a.createElement(l.a,{fluid:!0},r.a.createElement(m,{user:{username:c,name:a}}),r.a.createElement(j,{userAddress:c}),r.a.createElement(w,{userAddress:c}),n===v.j.indexOf(v.e)&&r.a.createElement(S,{userAddress:c}),n===v.j.indexOf(v.a)&&r.a.createElement(B,{userAddress:c}))})),x=a(39),I=a(659);t.default=Object(I.a)((function(){return r.a.createElement(z,null)}),x.d)},649:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(33);function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},652:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return i}));var n=a(649),r=a(648),c=a(147),l=function(e,t,a,l){var o=[],i=new window.web3.eth.Contract(r.a[c.c].ABI,r.a[c.c].address);i.methods.getByOwner(e).call({from:e}).then((function(r){if(!r.length)return t(o),void a(!1);r.forEach((function(c,s){i.methods.getById(c).call({from:e}).then((function(e){o.push(Object(n.a)(Object(n.a)({},e),{},{id:c})),s===r.length-1&&(t(o),a(!1))})).catch((function(e){l(!0),a(!1)}))}))})).catch((function(e){l(!0),a(!1)}))},o=function(e,t,a,n){var l=[],o=new window.web3.eth.Contract(r.a[c.f].ABI,r.a[c.f].address);o.methods.getByOwner(e).call({from:e}).then((function(r){if(!r.length)return t([]),void a(!1);r.forEach((function(c,i){o.methods.getById(c).call({from:e}).then((function(e){l.push(e[0]),i===r.length-1&&(t(l),a(!1))})).catch((function(e){n(!0),a(!1)}))}))})).catch((function(e){a(!1),n(!0)}))},i=function(e,t,a,n){var l=[],o=new window.web3.eth.Contract(r.a[c.f].ABI,r.a[c.f].address);o.methods.getByBuyer(e).call({from:e}).then((function(r){if(!r.length)return t([]),void a(!1);r.forEach((function(c,i){o.methods.getById(c).call({from:e}).then((function(n){n[1].buyer===e&&(l.push(n[0]),i===r.length-1&&(t(l),a(!1)))})).catch((function(e){n(!0),a(!1)}))}))})).catch((function(e){a(!1),n(!0)}))}}}]);
//# sourceMappingURL=12.67ad77f5.chunk.js.map