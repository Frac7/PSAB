{"version":3,"sources":["shared/contracts/index.js","shared/auth/index.js","shared/views/DiscoverLand.js","shared/views/ActivityProductOwnershipHandling.js","shared/views/DiscoverPortion.js","shared/views/LandPortionHandling.js","shared/views/CertificationHandling.js","shared/views/DiscoverActivityProduct.js"],"names":["contracts","LAND","ABI","Land","abi","address","PORTION","Portion","PRODUCT","Product","MAINTENANCE_ACTIVITIES","Maintenance","PROD_ACTIVITIES","ProductionActivity","withAuthentication","AuthComponent","from","connect","state","user","Selector","getUser","requestUser","data","isLoading","isError","useEffect","fluid","className","xl","sm","size","color","to","pathname","SIGNIN","Title","StyledTitle","DiscoverLand","description","documents","Container","Row","Col","align","ListGroup","flush","ListGroupItem","tag","href","target","id","isOpen","setIsOpen","username","userAddress","useMemo","initialData","useState","setData","setIsLoading","hasErrors","setHasErrors","handleClick","useCallback","Object","keys","forEach","element","method","contractInstance","window","web3","eth","Contract","methods","call","then","result","length","items","index","getById","item","push","catch","error","onClick","Modal","toggle","ModalHeader","ModalBody","Alert","map","upperIndex","key","lowerIndex","portion","registeredBy","DiscoverPortion","rest","land","price","periodicity","duration","expectedProduction","expectedMaintenanceCost","expectedProdActivityCost","isLandOpen","setIsLandOpen","isHistoryOpen","setIsHistoryOpen","isDetailsOpen","setIsDetailsOpen","handleDetailsClick","icon","faChevronUp","faChevronDown","Collapse","parseInt","toFixed","Date","toLocaleDateString","props","viewToRender","getByItem","getCertificationById","certification","certifier","DiscoverActivityProduct","isPortionOpen","setIsPortionOpen"],"mappings":"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","file":"static/js/5.44a339ff.chunk.js","sourcesContent":["import {\n\tLand,\n\tPortion,\n\tProduct,\n\tMaintenance,\n\tProductionActivity\n} from '../../contracts';\n\nimport {\n\tLAND,\n\tPORTION,\n\tPRODUCT,\n\tPROD_ACTIVITIES,\n\tMAINTENANCE_ACTIVITIES\n} from '../values';\n\nconst contracts = {\n\t[LAND]: {\n\t\tABI: Land.abi,\n\t\taddress: '0xC02f04F8Fb21D8dD61248aD0f2bf4d69534F03ea'\n\t},\n\t[PORTION]: {\n\t\tABI: Portion.abi,\n\t\taddress: '0xc021380b552Ae43883E74c6c99824145A1456e95'\n\t},\n\t[PRODUCT]: {\n\t\tABI: Product.abi,\n\t\taddress: '0x2242bC8fFbBdf2A7A698D5d46112e08A7FD146b1'\n\t},\n\t[MAINTENANCE_ACTIVITIES]: {\n\t\tABI: Maintenance.abi,\n\t\taddress: '0x43b19A25b355364f18C0c98B2Be90A840391C679'\n\t},\n\t[PROD_ACTIVITIES]: {\n\t\tABI: ProductionActivity.abi,\n\t\taddress: '0x0E8ddcC72053F225B1Da63284951359515C91638'\n\t}\n};\n\nexport default contracts;\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport { Col, Container, Row, Alert } from 'reactstrap';\nimport { StyledSpinner } from '../styled';\n\nimport { SIGNIN } from '../../config/routes';\n\nimport { requestUser } from '../../store/user/action';\nimport { Selector } from '../../store/user/reducer';\n\nconst withAuthentication = (AuthComponent, from) =>\n    connect((state) => ({ user: Selector.getUser(state) }), { requestUser })(\n        ({ requestUser, user: { data, isLoading, isError }}) => {\n            useEffect(() => {\n                if (!data) {\n                    requestUser();\n                }\n            }, [requestUser, data]);\n\n            if (isLoading) {\n                return (\n                    <Container fluid>\n                        <Row className=\"my-3 justify-content-center align-content-center align-items-center\">\n                            <Col xl={1} sm={1}>\n                                <StyledSpinner size=\"large\"/>\n                            </Col>\n                        </Row>\n                    </Container>\n                )\n            }\n\n            if (isError) {\n                return (\n                    <Container fluid>\n                        <Row className=\"justify-content-center align-content-center align-items-center\">\n                            <Col xl={12} sm={12}>\n                                <Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento dell'account</Alert>\n                            </Col>\n                        </Row>\n                    </Container>\n                )\n            }\n\n            if (data) {\n                return <AuthComponent />;\n            } else {\n                return <Redirect to={{\n                    pathname: SIGNIN,\n                    state: { from }\n                }} />\n            }\n        });\n\nexport default withAuthentication;\n","import React from 'react';\nimport { Container, Row, Col, ListGroup, ListGroupItem } from 'reactstrap';\n\nimport { StyledTitle } from '../styled';\n\nconst Title = StyledTitle('h5');\n\nconst DiscoverLand = ({ description, documents }) => (\n\t<Container fluid>\n\t\t<Row className=\"align-items-center my-3\">\n\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t<Title>Descrizione</Title>\n\t\t\t</Col>\n\t\t\t<Col>\n\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t</Col>\n\t\t</Row>\n\t\t{documents && (\n\t\t<Row className=\"align-items-center my-3\">\n\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t<Title>Documenti</Title>\n\t\t\t</Col>\n\t\t\t<Col>\n\t\t\t\t<ListGroup flush>\n\t\t\t\t\t<ListGroupItem className=\"text-success\" tag=\"a\" href={documents} target=\"_blank\">Documento allegato</ListGroupItem>\n\t\t\t\t</ListGroup>\n\t\t\t</Col>\n\t\t</Row>)}\n\t</Container>\n);\n\nexport default DiscoverLand;\n","import React, { useState, useCallback, useMemo } from 'react';\nimport { connect } from 'react-redux';\n\nimport { Col, Container, Modal, ModalBody, ModalHeader, Row, Alert } from 'reactstrap';\n\nimport DiscoverActivityProduct from './DiscoverActivityProduct';\nimport { StyledFilledButton, StyledSpinner, StyledTitle } from '../styled';\n\nimport contracts from '../contracts';\nimport { MAINTENANCE_ACTIVITIES, PORTION, PROD_ACTIVITIES, PRODUCT } from '../values';\nimport { Selector } from '../../store/user/reducer';\n\nconst Title = StyledTitle('h5');\n\nconst ActivityProductOwnershipHandling = ({ id, isOpen, setIsOpen, user: { data: { username }} }) => {\n\tconst userAddress = useMemo(() => username, [username]);\n\n\tconst initialData = useMemo(() => ({\n\t\t[PORTION]: [],\n\t\t[PRODUCT]: [],\n\t\t[PROD_ACTIVITIES]: [],\n\t\t[MAINTENANCE_ACTIVITIES]: []\n\t}), []);\n\tconst [data, setData] = useState(initialData);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [hasErrors, setHasErrors] = useState(false);\n\n\tconst handleClick = useCallback(() => {\n\t\tsetIsOpen((isOpen) => !isOpen);\n\t\tif (!isOpen) {\n\t\t\tsetData(initialData);\n\n\t\t\tObject.keys(data).forEach((element) => {\n\t\t\t\tsetIsLoading(true);\n\t\t\t\tconst method = element === PORTION ? 'getBuyersByPortion' : 'getByPortion';\n\t\t\t\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\t\t\t\tcontractInstance.methods[method](id)\n\t\t\t\t\t.call({ from: userAddress })\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\tif (element === PORTION) {\n\t\t\t\t\t\t\tsetData((data) => ({\n\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t[element]: result\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (result.length) {\n\t\t\t\t\t\t\t\tconst items = [];\n\n\t\t\t\t\t\t\t\tresult.forEach((id, index) => {\n\t\t\t\t\t\t\t\t\tcontractInstance.methods.getById(id)\n\t\t\t\t\t\t\t\t\t\t.call({ from: userAddress })\n\t\t\t\t\t\t\t\t\t\t.then((item) => {\n\t\t\t\t\t\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\tif (index === result.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetData((data) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t\t\t\t\t\t[element]: items\n\t\t\t\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t});\n\n\t\t\t});\n\t\t}\n\n\t}, [id, userAddress, isOpen, setIsOpen, setIsLoading, initialData, data, setData]);\n\n\treturn (\n\t\t<>\n\t\t\t<StyledFilledButton onClick={handleClick}>\n\t\t\t\tSfoglia cronologia\n\t\t\t</StyledFilledButton>\n\t\t\t<Modal className=\"modal-lg\" isOpen={isOpen} toggle={handleClick}>\n\t\t\t\t<ModalHeader toggle={handleClick}>\n\t\t\t\t\tDettagli Porzione #{id}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"my-3 justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={1} sm={1}>\n\t\t\t\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasErrors && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{Object.keys(data).map((element, upperIndex) => {\n\t\t\t\t\t\tif (element === PORTION) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Container fluid key={upperIndex}>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Title>Possessori</Title>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col xl={9} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t{data[PORTION].map((address, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<p align=\"justify\" key={index}>{address}</p>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn data[element].map(({id, description, portion, registeredBy}, lowerIndex) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DiscoverActivityProduct\n\t\t\t\t\t\t\t\t\tkey={`${upperIndex}${lowerIndex}`}\n\t\t\t\t\t\t\t\t\telement={element}\n\t\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\t\tportion={portion}\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tregisteredBy={registeredBy}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t})}\n\t\t\t\t</ModalBody>\n\t\t\t</Modal>\n\t\t</>\n\t)\n};\n\nexport default connect((state) => ({ user: Selector.getUser(state) }))(ActivityProductOwnershipHandling);\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { Collapse, Col, Container, Row, ListGroup, ListGroupItem } from 'reactstrap';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons/faChevronDown';\nimport { faChevronUp } from '@fortawesome/free-solid-svg-icons/faChevronUp';\n\nimport { StyledLinkButton, StyledTitle } from '../styled';\n\nimport { LAND } from '../values';\nimport LandPortionHandling from './LandPortionHandling';\nimport ActivityProductOwnershipHandling from './ActivityProductOwnershipHandling';\n\nconst Title = StyledTitle('h5');\n\nconst DiscoverPortion = ({ id, ...rest }) => {\n\tconst {\n\t\tland,\n\t\tdescription,\n\t\tdocuments,\n\t\tprice,\n\t\tperiodicity,\n\t\tduration,\n\t\texpectedProduction,\n\t\texpectedMaintenanceCost,\n\t\texpectedProdActivityCost\n\t} = useMemo(() => {\n\t\tif (rest[0] && rest[1]) {\n\t\t\treturn {\n\t\t\t\t...rest[0],\n\t\t\t\t...rest[1]\n\t\t\t};\n\t\t} else {\n\t\t\treturn {};\n\t\t}\n\t}, [rest]);\n\n\tconst [isLandOpen, setIsLandOpen] = useState(false);\n\tconst [isHistoryOpen, setIsHistoryOpen] = useState(false);\n\n\tconst [isDetailsOpen, setIsDetailsOpen] = useState(false);\n\tconst handleDetailsClick = useCallback(() => {\n\t\tsetIsDetailsOpen((isOpen) => !isOpen);\n\t}, [setIsDetailsOpen])\n\tconst icon = useMemo(() => isDetailsOpen ? faChevronUp : faChevronDown, [isDetailsOpen]);\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Row className=\"align-items-center justify-content-end my-3\">\n\t\t\t\t<Col xl={9} sm={12} align=\"end\">\n\t\t\t\t\t<ActivityProductOwnershipHandling\n\t\t\t\t\t\tsetIsOpen={setIsHistoryOpen}\n\t\t\t\t\t\tisOpen={isHistoryOpen}\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Terreno</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<LandPortionHandling\n\t\t\t\t\t\tid={land}\n\t\t\t\t\t\tisOpen={isLandOpen}\n\t\t\t\t\t\tsetIsOpen={setIsLandOpen}\n\t\t\t\t\t\telement={LAND}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Descrizione</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t{documents && (\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Documenti</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<ListGroup flush>\n\t\t\t\t\t\t<ListGroupItem className=\"text-success\" tag=\"a\" href={documents} target=\"_blank\">Documento allegato</ListGroupItem>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t</Col>\n\t\t\t</Row>)}\n\t\t\t{expectedProduction && expectedProduction.length  && (\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col align=\"center\">\n\t\t\t\t\t\t<StyledLinkButton color=\"link\" onClick={handleDetailsClick}>\n\t\t\t\t\t\t\tDati del contratto <FontAwesomeIcon icon={icon} />\n\t\t\t\t\t\t</StyledLinkButton>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t\t<Collapse isOpen={isDetailsOpen}>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Canone</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">€ {price && (parseInt(price)/100).toFixed(2)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Durata</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">{duration ? `Fino al ${new Date(parseInt(duration)).toLocaleDateString()}` : 'Perpetua'}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Produzione attesa</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">{expectedProduction}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Periodicità</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">{periodicity}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Costi di manutenzione attesi</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">€ {expectedMaintenanceCost && (parseInt(expectedMaintenanceCost)/100).toFixed(2)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Costi di produzione attesi</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">€ {expectedProdActivityCost && (parseInt(expectedProdActivityCost)/100).toFixed(2)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Collapse>\n\t\t</Container>\n\t);\n};\n\nexport default DiscoverPortion;\n","import React, { useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { Alert, Col, Container, Modal, ModalBody, ModalHeader, Row } from 'reactstrap';\n\nimport DiscoverLand from './DiscoverLand';\nimport DiscoverPortion from './DiscoverPortion';\nimport { StyledLinkButton, StyledSpinner } from '../styled';\n\nimport contracts from '../contracts';\nimport { LAND, PORTION } from '../values';\n\nimport { Selector } from '../../store/user/reducer';\n\nconst viewToRender = (props) => ({\n\t[LAND]: <DiscoverLand {...props} />,\n\t[PORTION]: <DiscoverPortion {...props} />\n});\n\nconst LandPortionHandling = ({ id, isOpen, setIsOpen, element, user: { data: { username }} }) => {\n\tconst userAddress = username;\n\n\tconst [data, setData] = useState({});\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [hasErrors, setHasErrors] = useState(false);\n\n\tconst handleClick = useCallback(() => {\n\t\tsetIsOpen((isOpen) => !isOpen);\n\t\tif (!isOpen) {\n\t\t\tsetData({});\n\t\t\tsetIsLoading(true);\n\n\t\t\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\t\t\tcontractInstance.methods.getById(id)\n\t\t\t\t.call({ from: userAddress })\n\t\t\t\t.then((result) => {\n\t\t\t\t\tsetData({\n\t\t\t\t\t\t...result,\n\t\t\t\t\t\tid\n\t\t\t\t\t});\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\n\t}, [id, userAddress, element, isOpen, setIsOpen, setIsLoading, setData]);\n\n\treturn (\n\t\t<>\n\t\t\t<StyledLinkButton color=\"link\" onClick={handleClick}>\n\t\t\t\t{element} #{id}\n\t\t\t</StyledLinkButton>\n\t\t\t<Modal className=\"modal-lg\" isOpen={isOpen} toggle={handleClick}>\n\t\t\t\t<ModalHeader toggle={handleClick}>\n\t\t\t\t\tDettagli {element} #{id}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"my-3 justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={1} sm={1}>\n\t\t\t\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasErrors && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{viewToRender(data)[element]}\n\t\t\t\t</ModalBody>\n\t\t\t</Modal>\n\t\t</>\n\t)\n};\n\nexport default connect((state) => ({ user: Selector.getUser(state) }))(LandPortionHandling);\n","import React, { useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\n\nimport { Col, Container, ListGroup, ListGroupItem, Modal, ModalBody, ModalHeader, Row, Alert } from 'reactstrap';\nimport { StyledFilledButton, StyledSpinner, StyledTitle } from '../styled';\n\nimport contracts from '../contracts';\nimport { Selector } from '../../store/user/reducer';\n\nconst Title = StyledTitle('h5');\n\nconst CertificationHandling = ({ id, isOpen, setIsOpen, element, user: { data: { username }} }) => {\n\tconst userAddress = username;\n\n\tconst [data, setData] = useState([]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [hasErrors, setHasErrors] = useState(false);\n\n\tconst handleClick = useCallback(() => {\n\t\tsetIsOpen((isOpen) => !isOpen);\n\t\tif (!isOpen) {\n\t\t\tsetData([]);\n\t\t\tsetIsLoading(true);\n\n\t\t\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\t\t\tcontractInstance.methods.getByItem(id)\n\t\t\t\t.call({ from: userAddress })\n\t\t\t\t.then((result) => {\n\t\t\t\t\tif (result.length) {\n\t\t\t\t\t\tif (!hasErrors) {\n\t\t\t\t\t\t\tresult.forEach((id, index) => {\n\t\t\t\t\t\t\t\tcontractInstance.methods.getCertificationById(id)\n\t\t\t\t\t\t\t\t\t.call({ from: userAddress })\n\t\t\t\t\t\t\t\t\t.then((certification) => {\n\t\t\t\t\t\t\t\t\t\tsetData((data) => {\n\t\t\t\t\t\t\t\t\t\t\tdata.push(certification);\n\t\t\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tif (index === result.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\n\t}, [id, userAddress, element, isOpen, setIsOpen, setIsLoading, setData, hasErrors, setHasErrors]);\n\n\treturn (\n\t\t<>\n\t\t\t<StyledFilledButton onClick={handleClick}>\n\t\t\t\tSfoglia cronologia\n\t\t\t</StyledFilledButton>\n\t\t\t<Modal className=\"modal-lg\" isOpen={isOpen} toggle={handleClick}>\n\t\t\t\t<ModalHeader toggle={handleClick}>\n\t\t\t\t\tDettagli {element} #{id}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"my-3 justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={1} sm={1}>\n\t\t\t\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasErrors && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{!data.length && !isLoading && !hasErrors && (\n\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t\t\t<Alert color=\"info\" className=\"my-3\">Nessuna certificazione</Alert>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t)}\n\t\t\t\t\t<ListGroup flush>\n\t\t\t\t\t\t{data.map(({ description, certifier }, index) => (\n\t\t\t\t\t\t\t<ListGroupItem key={index}>\n\t\t\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t\t\t<Row className=\"my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"text-black-50\">Certificazione</h6>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Title>Descrizione</Title>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Title>Certificato da</Title>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<p align=\"justify\">{certifier}</p>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ListGroup>\n\t\t\t\t</ModalBody>\n\t\t\t</Modal>\n\t\t</>\n\t)\n};\n\nexport default connect((state) => ({ user: Selector.getUser(state) }))(CertificationHandling);\n","import React, { useState } from 'react';\nimport { Col, Container, Row } from 'reactstrap';\n\nimport { StyledTitle } from '../styled';\n\nimport LandPortionHandling from './LandPortionHandling';\n\nimport { MAINTENANCE_ACTIVITIES, PORTION } from '../values';\nimport CertificationHandling from './CertificationHandling';\n\nconst Title = StyledTitle('h5');\n\nconst DiscoverActivityProduct = ({ id, portion, description, registeredBy, element }) => {\n\tconst [isPortionOpen, setIsPortionOpen] = useState(false);\n\tconst [isHistoryOpen, setIsHistoryOpen] = useState(false);\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Row className=\"my-3\">\n\t\t\t\t<Col>\n\t\t\t\t\t<h6 className=\"text-black-50\">{element}</h6>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t{element !== MAINTENANCE_ACTIVITIES && (\n\t\t\t\t<Row className=\"align-items-center justify-content-end my-3\">\n\t\t\t\t\t<Col xl={9} sm={12} align=\"end\">\n\t\t\t\t\t\t<CertificationHandling\n\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\tisOpen={isHistoryOpen}\n\t\t\t\t\t\t\tsetIsOpen={setIsHistoryOpen}\n\t\t\t\t\t\t\telement={element}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>)}\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Porzione</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<LandPortionHandling\n\t\t\t\t\t\tid={portion}\n\t\t\t\t\t\tisOpen={isPortionOpen}\n\t\t\t\t\t\tsetIsOpen={setIsPortionOpen}\n\t\t\t\t\t\telement={PORTION}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Descrizione</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Registrato da</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<p align=\"justify\">{registeredBy}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t);\n};\n\nexport default DiscoverActivityProduct;\n"],"sourceRoot":""}