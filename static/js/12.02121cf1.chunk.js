(this.webpackJsonppsab=this.webpackJsonppsab||[]).push([[12],{634:function(e,t,a){"use strict";a.r(t);var n,c=a(2),l=a.n(c),r=a(147),m=a(640),s=a(641),i=a(642),u=a(776),o=a(118),E=a(772),f=a(773),g=function(e){var t=e.ElementWrapper,a=e.elements;return l.a.createElement(s.a,{className:"my-3"},l.a.createElement(i.a,{xl:12,sm:12},l.a.createElement(E.a,{flush:!0},a.map((function(e,a){return l.a.createElement(f.a,{key:a},l.a.createElement(t,e))})))))},b=a(668),d=a(148),j=a(649),O=a(32),y=a(660),p=a(648),h=(n={},Object(O.a)(n,d.c,(function(e){return l.a.createElement(y.b,e)})),Object(O.a)(n,d.f,(function(e){return l.a.createElement(y.c,e)})),Object(O.a)(n,d.g,(function(e){return l.a.createElement(y.a,Object.assign({},e,{element:d.g}))})),Object(O.a)(n,d.h,(function(e){return l.a.createElement(y.a,Object.assign({},e,{element:d.h}))})),Object(O.a)(n,d.d,(function(e){return l.a.createElement(y.a,Object.assign({},e,{element:d.d}))})),n),x=a(117),N=a(116),C=Object(o.b)((function(e){return{user:x.a.getUser(e)}}))((function(e){var t=e.user,a=Object(c.useState)(d.c),n=Object(r.a)(a,2),o=n[0],E=n[1],f=Object(c.useState)([]),O=Object(r.a)(f,2),y=O[0],x=O[1],C=Object(c.useState)(!1),v=Object(r.a)(C,2),k=v[0],S=v[1],B=Object(c.useState)(!0),D=Object(r.a)(B,2),w=D[0],F=D[1];return Object(c.useEffect)((function(){!function(e,t,a,n,c){var l=[],r=new window.web3.eth.Contract(p.a[c].ABI,p.a[c].address);r.methods.getTotal().call({from:"0x0613A8c09157C619cF55e77817FbdCED12c7eABc"}).then((function(e){if(!(e=parseInt(e)))return t(l),a(!1),void n(!1);for(var c=function(c){r.methods.getById(c).call({from:"0x0613A8c09157C619cF55e77817FbdCED12c7eABc"}).then((function(r){l.push(Object(j.a)(Object(j.a)({},r),{},{id:c})),c===e-1&&(t(l),a(!1),n(!1))})).catch((function(e){a(!0),n(!1)}))},m=0;m<e;m++)c(m)})).catch((function(e){a(!0),n(!1)}))}(t.data.attributes["custom:eth_address"],x,S,F,o)}),[o,t]),l.a.createElement(m.a,{fluid:!0},l.a.createElement(s.a,{className:"justify-content-between align-items-center"},l.a.createElement(i.a,null,l.a.createElement("h1",null,"Esplora ",o)),l.a.createElement(i.a,{xl:5,sm:12,className:"justify-content-center"},l.a.createElement(b.a,{elements:[{type:d.c},{type:d.f},{type:d.h},{type:d.g},{type:d.d}],currentElement:o,setCurrentElement:E}))),w&&l.a.createElement(s.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(i.a,{xl:1,sm:1},l.a.createElement(N.e,{size:"large"}))),k&&l.a.createElement(s.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(i.a,{xl:12,sm:12},l.a.createElement(u.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi"))),!y.length&&l.a.createElement(s.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(i.a,{xl:12,sm:12},l.a.createElement(u.a,{color:"info",className:"my-3"},"Nessun elemento disponibile"))),l.a.createElement(g,{elements:y,ElementWrapper:h[o]}))})),v=a(657);t.default=Object(v.a)((function(){return l.a.createElement(C,null)}))},660:function(e,t,a){"use strict";a.d(t,"a",(function(){return U})),a.d(t,"c",(function(){return I})),a.d(t,"b",(function(){return y}));var n=a(147),c=a(2),l=a.n(c),r=a(640),m=a(641),s=a(642),i=a(116),u=a(32),o=a(118),E=a(785),f=a(774),g=a(775),b=a(776),d=a(772),j=a(773),O=Object(i.f)("h5"),y=function(e){var t=e.description,a=e.documents;return l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:3,sm:12},l.a.createElement(O,null,"Descrizione")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},t))),a&&l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:3,sm:12},l.a.createElement(O,null,"Documenti")),l.a.createElement(s.a,null,l.a.createElement(d.a,{flush:!0},l.a.createElement(j.a,{className:"text-success",tag:"a",href:a,target:"_blank"},"Documento allegato")))))},p=a(649),h=a(738),x=a(777),N=a(149),C=a(710),v=a(709),k=a(148),S=a(648),B=a(117),D=Object(i.f)("h5"),w=Object(o.b)((function(e){return{user:B.a.getUser(e)}}))((function(e){var t,a=e.id,o=e.isOpen,d=e.setIsOpen,j=e.user.data.attributes["custom:eth_address"],O=Object(c.useState)((t={},Object(u.a)(t,k.f,[]),Object(u.a)(t,k.g,[]),Object(u.a)(t,k.h,[]),Object(u.a)(t,k.d,[]),t)),y=Object(n.a)(O,2),h=y[0],x=y[1],N=Object(c.useState)(!1),C=Object(n.a)(N,2),v=C[0],B=C[1],w=Object(c.useState)(!1),F=Object(n.a)(w,2),I=F[0],A=F[1],z=Object(c.useCallback)((function(){d((function(e){return!e})),o||Object.keys(h).forEach((function(e){var t=e===k.f?"getBuyersByPortion":"getByPortion";B(!0);var n=new window.web3.eth.Contract(S.a[e].ABI,S.a[e].address);n.methods[t](a).call({from:"0x0613A8c09157C619cF55e77817FbdCED12c7eABc"}).then((function(t){if(e===k.f)x((function(a){return Object(p.a)(Object(p.a)({},a),{},Object(u.a)({},e,t))}));else if(t.length){var a=[];t.forEach((function(c,l){n.methods.getById(c).call({from:"0x0613A8c09157C619cF55e77817FbdCED12c7eABc"}).then((function(n){a.push(n),l===t.length-1&&(x((function(t){return Object(p.a)(Object(p.a)({},t),{},Object(u.a)({},e,a))})),B(!1))})).catch((function(e){A(!0),B(!1)}))}))}else B(!1)})).catch((function(e){A(!0),B(!1)}))}))}),[a,j,o,d,B,h,x]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.b,{onClick:z},"Sfoglia cronologia"),l.a.createElement(E.a,{className:"modal-lg",isOpen:o,toggle:z},l.a.createElement(f.a,{toggle:z},"Dettagli Porzione #",a),l.a.createElement(g.a,null,v&&l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(s.a,{xl:1,sm:1},l.a.createElement(i.e,{size:"large"})))),I&&l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(s.a,{xl:12,sm:12},l.a.createElement(b.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi")))),Object.keys(h).map((function(e,t){return e===k.f?l.a.createElement(r.a,{fluid:!0,key:t},l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:3,sm:12},l.a.createElement(D,null,"Possessori"))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:9,sm:12},h[k.f].map((function(e,t){return l.a.createElement("p",{align:"justify",key:t},e)}))))):h[e].map((function(a,n){var c=a.id,r=a.description,m=a.portion,s=a.registeredBy;return l.a.createElement(U,{key:"".concat(t).concat(n),element:e,description:r,portion:m,id:c,registeredBy:s})}))})))))})),F=Object(i.f)("h5"),I=function(e){var t=e.id,a=Object(h.a)(e,["id"]),u=Object(c.useMemo)((function(){return a[0]&&a[1]?Object(p.a)(Object(p.a)({},a[0]),a[1]):{}}),[a]),o=u.land,E=u.description,f=u.documents,g=u.price,b=u.duration,O=u.expectedProduction,y=u.expectedMaintenanceCost,S=u.expectedProdActivityCost,B=Object(c.useState)(!1),D=Object(n.a)(B,2),I=D[0],z=D[1],P=Object(c.useState)(!1),_=Object(n.a)(P,2),U=_[0],M=_[1],J=Object(c.useState)(!1),T=Object(n.a)(J,2),W=T[0],R=T[1],q=Object(c.useCallback)((function(){R((function(e){return!e}))}),[R]),G=Object(c.useMemo)((function(){return W?v.faChevronUp:C.faChevronDown}),[W]);return l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"align-items-center justify-content-end my-3"},l.a.createElement(s.a,{xl:9,sm:12,align:"end"},l.a.createElement(w,{setIsOpen:M,isOpen:U,id:t}))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:3,sm:12},l.a.createElement(F,null,"Terreno")),l.a.createElement(s.a,null,l.a.createElement(A,{id:o,isOpen:I,setIsOpen:z,element:k.c}))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:3,sm:12},l.a.createElement(F,null,"Descrizione")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},E))),f&&l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:3,sm:12},l.a.createElement(F,null,"Documenti")),l.a.createElement(s.a,null,l.a.createElement(d.a,{flush:!0},l.a.createElement(j.a,{className:"text-success",tag:"a",href:f,target:"_blank"},"Documento allegato")))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{align:"center"},l.a.createElement(i.c,{color:"link",onClick:q},"Dati del contratto ",l.a.createElement(N.a,{icon:G})))),l.a.createElement(x.a,{isOpen:W},l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:3,sm:12},l.a.createElement(F,null,"Canone")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},"\u20ac ",g&&(parseInt(g)/100).toFixed(2)))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:3,sm:12},l.a.createElement(F,null,"Durata")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},b))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:3,sm:12},l.a.createElement(F,null,"Produzione attesa")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},O))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:3,sm:12},l.a.createElement(F,null,"Costi di manutenzione attesi")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},"\u20ac ",y&&(parseInt(y)/100).toFixed(2)))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:3,sm:12},l.a.createElement(F,null,"Costi di produzione attesi")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},"\u20ac ",S&&(parseInt(S)/100).toFixed(2))))))},A=Object(o.b)((function(e){return{user:B.a.getUser(e)}}))((function(e){var t=e.id,a=e.isOpen,o=e.setIsOpen,d=e.element,j=e.user.data.attributes["custom:eth_address"],O=Object(c.useState)({}),p=Object(n.a)(O,2),h=p[0],x=p[1],N=Object(c.useState)(!1),C=Object(n.a)(N,2),v=C[0],B=C[1],D=Object(c.useState)(!1),w=Object(n.a)(D,2),F=w[0],A=w[1],z=Object(c.useCallback)((function(){(o((function(e){return!e})),a)||(B(!0),new window.web3.eth.Contract(S.a[d].ABI,S.a[d].address).methods.getById(t).call({from:"0x0613A8c09157C619cF55e77817FbdCED12c7eABc"}).then((function(e){console.log(e),x(e),B(!1)})).catch((function(e){console.log(e),A(!0),B(!1)})))}),[t,j,d,a,o,B,x]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.c,{color:"link",onClick:z},d," #",t),l.a.createElement(E.a,{className:"modal-lg",isOpen:a,toggle:z},l.a.createElement(f.a,{toggle:z},"Dettagli ",d," #",t),l.a.createElement(g.a,null,v&&l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(s.a,{xl:1,sm:1},l.a.createElement(i.e,{size:"large"})))),F&&l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(s.a,{xl:12,sm:12},l.a.createElement(b.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi")))),function(e){var t;return t={},Object(u.a)(t,k.c,l.a.createElement(y,e)),Object(u.a)(t,k.f,l.a.createElement(I,e)),t}(h)[d])))})),z=Object(i.f)("h5"),P=Object(o.b)((function(e){return{user:B.a.getUser(e)}}))((function(e){var t=e.id,a=e.isOpen,u=e.setIsOpen,o=e.element,O=e.user.data.attributes["custom:eth_address"],y=Object(c.useState)([]),p=Object(n.a)(y,2),h=p[0],x=p[1],N=Object(c.useState)(!1),C=Object(n.a)(N,2),v=C[0],k=C[1],B=Object(c.useState)(!1),D=Object(n.a)(B,2),w=D[0],F=D[1],I=Object(c.useCallback)((function(){if(u((function(e){return!e})),!a){k(!0);var e=new window.web3.eth.Contract(S.a[o].ABI,S.a[o].address);e.methods.getByItem(t).call({from:"0x0613A8c09157C619cF55e77817FbdCED12c7eABc"}).then((function(t){t.length?w||t.forEach((function(a,n){e.methods.getCertificationById(a).call({from:"0x0613A8c09157C619cF55e77817FbdCED12c7eABc"}).then((function(e){x((function(t){return t.push(e),t})),n===t.length-1&&k(!1)})).catch((function(e){F(!0),k(!1)}))})):k(!1)})).catch((function(e){F(!0),k(!1)}))}}),[t,O,o,a,u,k,x,w,F]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.b,{onClick:I},"Sfoglia cronologia"),l.a.createElement(E.a,{className:"modal-lg",isOpen:a,toggle:I},l.a.createElement(f.a,{toggle:I},"Dettagli ",o," #",t),l.a.createElement(g.a,null,v&&l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(s.a,{xl:1,sm:1},l.a.createElement(i.e,{size:"large"})))),w&&l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(s.a,{xl:12,sm:12},l.a.createElement(b.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi")))),l.a.createElement(d.a,{flush:!0},h.map((function(e,t){var a=e.description,n=e.certifier;return l.a.createElement(j.a,{key:t},l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"my-3"},l.a.createElement(s.a,null,l.a.createElement("h6",{className:"text-black-50"},"Certificazione"))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:3,sm:12},l.a.createElement(z,null,"Descrizione")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},a))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:3,sm:12},l.a.createElement(z,null,"Certificato da")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},n)))))}))))))})),_=Object(i.f)("h5"),U=function(e){var t=e.id,a=e.portion,i=e.description,u=e.registeredBy,o=e.element,E=Object(c.useState)(!1),f=Object(n.a)(E,2),g=f[0],b=f[1],d=Object(c.useState)(!1),j=Object(n.a)(d,2),O=j[0],y=j[1];return l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"my-3"},l.a.createElement(s.a,null,l.a.createElement("h6",{className:"text-black-50"},o))),l.a.createElement(m.a,{className:"align-items-center justify-content-end my-3"},l.a.createElement(s.a,{xl:9,sm:12,align:"end"},l.a.createElement(P,{id:t,isOpen:O,setIsOpen:y,element:o}))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:3,sm:12},l.a.createElement(_,null,"Porzione")),l.a.createElement(s.a,null,l.a.createElement(A,{id:a,isOpen:g,setIsOpen:b,element:k.f}))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:3,sm:12},l.a.createElement(_,null,"Descrizione")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},i))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{xl:3,sm:12},l.a.createElement(_,null,"Registrato da")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},u))))}},668:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(147),c=a(2),l=a.n(c),r=a(783),m=a(784),s=a(787),i=a(786),u=function(e){var t=e.elements,a=e.currentElement,u=e.setCurrentElement,o=Object(c.useState)(!1),E=Object(n.a)(o,2),f=E[0],g=E[1],b=Object(c.useCallback)((function(){return g((function(e){return!e}))}),[g]),d=Object(c.useCallback)((function(e){return function(){u(e)}}),[u]),j=Object(c.useMemo)((function(){return t.map((function(e,t){return l.a.createElement(r.a,{disabled:e.disabled,onClick:d(e.type),key:t},e.type)}))}),[d,t]);return l.a.createElement(m.a,{isOpen:f,toggle:b},l.a.createElement(s.a,{caret:!0,block:!0},a),l.a.createElement(i.a,null,j))}}}]);
//# sourceMappingURL=12.02121cf1.chunk.js.map