(this.webpackJsonppsab=this.webpackJsonppsab||[]).push([[12],{634:function(e,t,a){"use strict";a.r(t);var n,c=a(2),l=a.n(c),r=a(147),m=a(640),s=a(641),i=a(642),o=a(776),u=a(118),E=a(772),f=a(773),d=function(e){var t=e.ElementWrapper,a=e.elements;return l.a.createElement(s.a,{className:"my-3"},l.a.createElement(i.a,{md:12,sm:12},l.a.createElement(E.a,{flush:!0},a.map((function(e,a){return l.a.createElement(f.a,{key:a},l.a.createElement(t,e))})))))},g=a(668),b=a(148),j=a(649),O=a(32),y=a(660),p=a(648),h=(n={},Object(O.a)(n,b.c,(function(e){return l.a.createElement(y.b,e)})),Object(O.a)(n,b.f,(function(e){return l.a.createElement(y.c,e)})),Object(O.a)(n,b.g,(function(e){return l.a.createElement(y.a,Object.assign({},e,{element:b.g}))})),Object(O.a)(n,b.h,(function(e){return l.a.createElement(y.a,Object.assign({},e,{element:b.h}))})),Object(O.a)(n,b.d,(function(e){return l.a.createElement(y.a,Object.assign({},e,{element:b.d}))})),n),N=a(117),v=a(116),k=Object(u.b)((function(e){return{user:N.a.getUser(e)}}))((function(e){var t=e.user,a=Object(c.useState)(b.c),n=Object(r.a)(a,2),u=n[0],E=n[1],f=Object(c.useState)([]),O=Object(r.a)(f,2),y=O[0],N=O[1],k=Object(c.useState)(!1),C=Object(r.a)(k,2),S=C[0],w=C[1],I=Object(c.useState)(!0),z=Object(r.a)(I,2),B=z[0],D=z[1];return Object(c.useEffect)((function(){!function(e,t,a,n,c){var l=[],r=new window.web3.eth.Contract(p.a[c].ABI,p.a[c].address);r.methods.getTotal().call({from:e}).then((function(c){if(console.log(c),!(c=parseInt(c)))return t(l),a(!1),void n(!1);for(var m=function(m){r.methods.getById(m).call({from:e}).then((function(e){console.log(e),l.push(Object(j.a)(Object(j.a)({},e),{},{id:m})),m===c-1&&(t(l),a(!1),n(!1))})).catch((function(e){console.log(e),a(!0),n(!1)}))},s=0;s<c;s++)m(s)})).catch((function(e){console.log(e),a(!0),n(!1)}))}(t.data.attributes["custom:eth_address"],N,w,D,u)}),[u,t]),l.a.createElement(m.a,{fluid:!0},l.a.createElement(s.a,{className:"justify-content-between align-items-center"},l.a.createElement(i.a,null,l.a.createElement("h1",null,"Esplora ",u)),l.a.createElement(i.a,{md:5,sm:12,className:"justify-content-center"},l.a.createElement(g.a,{elements:[{type:b.c},{type:b.f},{type:b.h},{type:b.g},{type:b.d}],currentElement:u,setCurrentElement:E}))),B&&l.a.createElement(s.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(i.a,{md:1,sm:1},l.a.createElement(v.e,{size:"large"}))),S&&l.a.createElement(s.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(i.a,{md:12,sm:12},l.a.createElement(o.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi"))),!y.length&&l.a.createElement(s.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(i.a,{md:12,sm:12},l.a.createElement(o.a,{color:"info",className:"my-3"},"Nessun elemento disponibile"))),l.a.createElement(d,{elements:y,ElementWrapper:h[u]}))})),C=a(657);t.default=Object(C.a)((function(){return l.a.createElement(k,null)}))},660:function(e,t,a){"use strict";a.d(t,"a",(function(){return _})),a.d(t,"c",(function(){return D})),a.d(t,"b",(function(){return y}));var n=a(147),c=a(2),l=a.n(c),r=a(640),m=a(641),s=a(642),i=a(116),o=a(32),u=a(118),E=a(786),f=a(774),d=a(775),g=a(776),b=a(772),j=a(773),O=Object(i.f)("h5"),y=function(e){var t=e.description,a=e.documents;return l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{md:3,sm:12},l.a.createElement(O,null,"Descrizione")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},t))),a&&l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{md:3,sm:12},l.a.createElement(O,null,"Documenti")),l.a.createElement(s.a,null,l.a.createElement(b.a,{flush:!0},l.a.createElement(j.a,{className:"text-success",tag:"a",href:a,target:"_blank"},"Documento allegato")))))},p=a(649),h=a(739),N=a(777),v=a(149),k=a(710),C=a(709),S=a(148),w=a(648),I=a(117),z=Object(u.b)((function(e){return{user:I.a.getUser(e)}}))((function(e){var t,a=e.id,u=e.isOpen,O=e.setIsOpen,y=e.user.data.attributes["custom:eth_address"],h=Object(c.useState)((t={},Object(o.a)(t,S.f,[]),Object(o.a)(t,S.g,[]),Object(o.a)(t,S.h,[]),Object(o.a)(t,S.d,[]),t)),N=Object(n.a)(h,2),v=N[0],k=N[1],C=Object(c.useState)(!1),I=Object(n.a)(C,2),z=I[0],B=I[1],D=Object(c.useState)(!1),x=Object(n.a)(D,2),P=x[0],A=x[1],F=Object(c.useCallback)((function(){u||(O((function(e){return!e})),Object.keys(v).forEach((function(e){var t=e===S.f?"getBuyersByPortion":"getByPortion";B(!0);var n=new window.web3.eth.Contract(w.a[e].ABI,w.a[e].address);n.methods[t](a).call({from:y}).then((function(t){if(console.log(t),e===S.f)k((function(a){return Object(p.a)(Object(p.a)({},a),{},Object(o.a)({},e,t))}));else if(t.length){var a=[];t.forEach((function(c,l){n.methods.getById(c).call({from:y}).then((function(n){console.log(n),a.push(n),l===t.length-1&&(k((function(t){return Object(p.a)(Object(p.a)({},t),{},Object(o.a)({},e,a))})),B(!1))})).catch((function(e){console.log(e),A(!0),B(!1)}))}))}else B(!1)})).catch((function(e){console.log(e),A(!0),B(!1)}))})))}),[a,y,u,O,B,v,k]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.b,{onClick:F},"Sfoglia cronologia"),l.a.createElement(E.a,{className:"modal-lg",isOpen:u,toggle:F},l.a.createElement(f.a,{toggle:F},"Dettagli Porzione #",a),l.a.createElement(d.a,null,z&&l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(s.a,{md:1,sm:1},l.a.createElement(i.e,{size:"large"})))),P&&l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(s.a,{md:12,sm:12},l.a.createElement(g.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi")))),Object.keys(v).map((function(e,t){return e===S.f?l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(s.a,{md:3,sm:12},l.a.createElement(g.a,{color:"danger",className:"my-3"},"Possessore"))),l.a.createElement(m.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(s.a,null,l.a.createElement(b.a,{flush:!0},v[e].map((function(e,t){return l.a.createElement(j.a,{key:t},e)})))))):v[e].map((function(a,n){var c=a.id,r=a.description,m=a.portion,s=a.registeredBy;return l.a.createElement(_,{key:"".concat(t).concat(n),element:e,description:r,portion:m,id:c,registeredBy:s})}))})))))})),B=Object(i.f)("h5"),D=function(e){var t=e.id,a=Object(h.a)(e,["id"]),o=Object(c.useMemo)((function(){return a[0]&&a[1]?Object(p.a)(Object(p.a)({},a[0]),a[1]):{}}),[a]),u=o.land,E=o.description,f=o.documents,d=o.price,g=o.duration,O=o.expectedProduction,y=o.expMainActivityCost,w=o.expProdActivityCost,I=Object(c.useState)(!1),D=Object(n.a)(I,2),P=D[0],A=D[1],F=Object(c.useState)(!1),_=Object(n.a)(F,2),U=_[0],M=_[1],J=Object(c.useState)(!1),T=Object(n.a)(J,2),W=T[0],R=T[1],q=Object(c.useCallback)((function(){R((function(e){return!e}))}),[R]),G=Object(c.useMemo)((function(){return W?C.faChevronUp:k.faChevronDown}),[W]);return l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"align-items-center justify-content-end my-3"},l.a.createElement(s.a,{md:9,sm:12,align:"end"},l.a.createElement(z,{setIsOpen:M,isOpen:U,id:t}))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{md:3,sm:12},l.a.createElement(B,null,"Terreno")),l.a.createElement(s.a,null,l.a.createElement(x,{id:u,isOpen:P,setIsOpen:A,element:S.c}))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{md:3,sm:12},l.a.createElement(B,null,"Descrizione")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},E))),f&&l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{md:3,sm:12},l.a.createElement(B,null,"Documenti")),l.a.createElement(s.a,null,l.a.createElement(b.a,{flush:!0},l.a.createElement(j.a,{className:"text-success",tag:"a",href:f,target:"_blank"},"Documento allegato")))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{align:"center"},l.a.createElement(i.c,{color:"link",onClick:q},"Dati del contratto ",l.a.createElement(v.a,{icon:G})))),l.a.createElement(N.a,{isOpen:W},l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{md:3,sm:12},l.a.createElement(B,null,"Canone")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},"\u20ac ",d&&(parseInt(d)/10).toFixed(2)))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{md:3,sm:12},l.a.createElement(B,null,"Durata")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},g))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{md:3,sm:12},l.a.createElement(B,null,"Produzione attesa")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},O))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{md:3,sm:12},l.a.createElement(B,null,"Costi di manutenzione attesi")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},"\u20ac ",y&&(parseInt(y)/10).toFixed(2)))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{md:3,sm:12},l.a.createElement(B,null,"Costi di produzione attesi")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},"\u20ac ",w&&(parseInt(w)/10).toFixed(2))))))},x=Object(u.b)((function(e){return{user:I.a.getUser(e)}}))((function(e){var t=e.id,a=e.isOpen,u=e.setIsOpen,b=e.element,j=e.user.data.attributes["custom:eth_address"],O=Object(c.useState)({}),p=Object(n.a)(O,2),h=p[0],N=p[1],v=Object(c.useState)(!1),k=Object(n.a)(v,2),C=k[0],I=k[1],z=Object(c.useState)(!1),B=Object(n.a)(z,2),x=B[0],P=B[1],A=Object(c.useCallback)((function(){a||(I(!0),u((function(e){return!e})),new window.web3.eth.Contract(w.a[b].ABI,w.a[b].address).methods.getById(t).call({from:j}).then((function(e){console.log(e),N(e),I(!1)})).catch((function(e){console.log(e),P(!0),I(!1)})))}),[t,j,b,a,u,I,N]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.c,{color:"link",onClick:A},b," #",t),l.a.createElement(E.a,{className:"modal-lg",isOpen:a,toggle:A},l.a.createElement(f.a,{toggle:A},"Dettagli ",b," #",t),l.a.createElement(d.a,null,C&&l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(s.a,{md:1,sm:1},l.a.createElement(i.e,{size:"large"})))),x&&l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(s.a,{md:12,sm:12},l.a.createElement(g.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi")))),function(e){var t;return t={},Object(o.a)(t,S.c,l.a.createElement(y,e)),Object(o.a)(t,S.f,l.a.createElement(D,e)),t}(h)[b])))})),P=Object(i.f)("h5"),A=Object(u.b)((function(e){return{user:I.a.getUser(e)}}))((function(e){var t=e.id,a=e.isOpen,o=e.setIsOpen,u=e.element,O=e.user.data.attributes["custom:eth_address"],y=Object(c.useState)([]),p=Object(n.a)(y,2),h=p[0],N=p[1],v=Object(c.useState)(!1),k=Object(n.a)(v,2),C=k[0],S=k[1],I=Object(c.useState)(!1),z=Object(n.a)(I,2),B=z[0],D=z[1],x=Object(c.useCallback)((function(){a||(S(!0),o((function(e){return!e})),new window.web3.eth.Contract(w.a[u].ABI,w.a[u].address).methods.getByItem(t).call({from:O}).then((function(e){console.log(e),N(e),S(!1)})).catch((function(e){console.log(e),D(!0),S(!1)})))}),[t,O,u,a,o,S,N]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.b,{onClick:x},"Sfoglia cronologia"),l.a.createElement(E.a,{className:"modal-lg",isOpen:a,toggle:x},l.a.createElement(f.a,{toggle:x},"Dettagli ",u," #",t),l.a.createElement(d.a,null,C&&l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(s.a,{md:1,sm:1},l.a.createElement(i.e,{size:"large"})))),B&&l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"justify-content-center align-content-center align-items-center"},l.a.createElement(s.a,{md:12,sm:12},l.a.createElement(g.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi")))),l.a.createElement(b.a,{flush:!0},h.map((function(e,t){var a=e.description,n=e.certifier;return l.a.createElement(j.a,{key:t},l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"my-3"},l.a.createElement(s.a,null,l.a.createElement("h6",{className:"text-black-50"},"Certificazione"))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{md:3,sm:12},l.a.createElement(P,null,"Descrizione")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},a))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{md:3,sm:12},l.a.createElement(P,null,"Certificato da")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},n)))))}))))))})),F=Object(i.f)("h5"),_=function(e){var t=e.id,a=e.portion,i=e.description,o=e.registeredBy,u=e.element,E=Object(c.useState)(!1),f=Object(n.a)(E,2),d=f[0],g=f[1],b=Object(c.useState)(!1),j=Object(n.a)(b,2),O=j[0],y=j[1];return l.a.createElement(r.a,{fluid:!0},l.a.createElement(m.a,{className:"my-3"},l.a.createElement(s.a,null,l.a.createElement("h6",{className:"text-black-50"},u))),l.a.createElement(m.a,{className:"align-items-center justify-content-end my-3"},l.a.createElement(s.a,{md:9,sm:12,align:"end"},l.a.createElement(A,{id:t,isOpen:O,setIsOpen:y,element:u}))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{md:3,sm:12},l.a.createElement(F,null,"Porzione")),l.a.createElement(s.a,null,l.a.createElement(x,{id:a,isOpen:d,setIsOpen:g,element:S.f}))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{md:3,sm:12},l.a.createElement(F,null,"Descrizione")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},i))),l.a.createElement(m.a,{className:"align-items-center my-3"},l.a.createElement(s.a,{md:3,sm:12},l.a.createElement(F,null,"Registrato da")),l.a.createElement(s.a,null,l.a.createElement("p",{align:"justify"},o))))}},668:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(147),c=a(2),l=a.n(c),r=a(783),m=a(784),s=a(787),i=a(785),o=function(e){var t=e.elements,a=e.currentElement,o=e.setCurrentElement,u=Object(c.useState)(!1),E=Object(n.a)(u,2),f=E[0],d=E[1],g=Object(c.useCallback)((function(){return d((function(e){return!e}))}),[d]),b=Object(c.useCallback)((function(e){return function(){o(e)}}),[o]),j=Object(c.useMemo)((function(){return t.map((function(e,t){return l.a.createElement(r.a,{disabled:e.disabled,onClick:b(e.type),key:t},e.type)}))}),[b,t]);return l.a.createElement(m.a,{isOpen:f,toggle:g},l.a.createElement(s.a,{caret:!0,block:!0},a),l.a.createElement(i.a,null,j))}}}]);
//# sourceMappingURL=12.11d58d92.chunk.js.map