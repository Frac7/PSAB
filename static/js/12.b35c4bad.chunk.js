(this.webpackJsonppsab=this.webpackJsonppsab||[]).push([[12],{490:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(502),o=t(538),l=t(492),i=t(493),c=t(609),u=t(610),d=t(611),m=t(612),p=t(613),w=t(81),g=function(e){var a=e.values,t=e.touched,n=e.errors,s=e.isSubmitting,o=e.handleSubmit,l=e.handleChange;return r.a.createElement(c.a,{onSubmit:o,noValidate:!0},r.a.createElement(u.a,null,r.a.createElement(d.a,{for:"email"},"E-mail"),r.a.createElement(m.a,{valid:t.email&&!n.email,type:"email",name:"email",id:"email",placeholder:"user@example.com",onChange:l,value:a.email}),n.email&&r.a.createElement(p.a,{color:"danger"},n.email)),r.a.createElement(u.a,null,r.a.createElement(d.a,{for:"password"},"Password"),r.a.createElement(m.a,{valid:t.email&&!n.password,type:"password",name:"password",id:"password",onChange:l,value:a.password}),n.password&&r.a.createElement(p.a,{color:"danger"},n.password)),r.a.createElement(w.b,{type:"submit",disabled:s},"Accedi"))},b=t(535),f={email:"",password:""},h=Object(b.c)().shape({email:Object(b.e)().email("E-mail non valida").required("Inserire l'e-mail"),password:Object(b.e)().required("Inserire la password")}),E=t(498),v=t(33),j=function(e){var a=e.history;Object(n.useEffect)((function(){window.localStorage.getItem("LoggedIn")&&a.push(v.d)}),[a]);var t=Object(n.useCallback)((function(e,t){var n=e.email,r=e.password,o=t.setSubmitting,l=t.setErrors,i=new s.a({Username:n,Password:r}),c=new s.b({Username:n,Pool:E.b});c.authenticateUser(i,{onSuccess:function(e){console.log(e),window.localStorage.setItem("LoggedIn",JSON.stringify(e)),o(!1),a.push(v.d)},onFailure:function(e){console.error(e),o(!1),l({password:e.message})},newPasswordRequired:function(e){console.log(e),c.completeNewPasswordChallenge(r,{name:n},this)}})}),[a]);return r.a.createElement(l.a,null,r.a.createElement(i.a,{md:{size:6,offset:3}},r.a.createElement(o.a,{initialValues:f,validationSchema:h,onSubmit:t},(function(e){return r.a.createElement(g,e)}))))};a.default=function(e){var a=e.history;return r.a.createElement(j,{history:a})}},498:function(e,a,t){"use strict";t.d(a,"b",(function(){return g}));var n=t(8),r=t(9),s=t(17),o=t(18),l=t(0),i=t.n(l),c=t(82),u=t(22),d=t(502),m=t(33),p=t(101),w=t(80),g=new d.d({UserPoolId:"us-east-1_nHjKBFfD6",ClientId:"3mdnhe3e6gdkou07as5v4scjqt"});a.a=function(e){var a=function(a){Object(o.a)(l,a);var t=Object(s.a)(l);function l(e){var a;Object(n.a)(this,l),a=t.call(this,e);var r=window.localStorage.getItem("LoggedIn");return a.state={auth:r},r&&!a.props.user.data&&a.props.loggedIn({data:JSON.parse(a.state.auth)}),a}return Object(r.a)(l,[{key:"render",value:function(){return this.state.auth?i.a.createElement(e,null):i.a.createElement(u.a,{to:m.f})}}]),l}(l.Component);return Object(c.b)((function(e){return{user:w.a.getUser(e)}}),{loggedIn:p.a})(a)}}}]);
//# sourceMappingURL=12.b35c4bad.chunk.js.map