{"version":3,"sources":["features/discover/containers/ElementListContainer.js","features/discover/map/index.js","features/discover/containers/DiscoverContainer.js","features/discover/index.js","shared/views/DiscoverLand.js","shared/views/ActivityProductOwnershipHandling.js","shared/views/DiscoverPortion.js","shared/views/LandPortionHandling.js","shared/views/CertificationHandling.js","shared/views/DiscoverActivityProduct.js","shared/element-dropdown/ElementSelector.js"],"names":["ElementListContainer","ElementWrapper","elements","Row","className","Col","md","sm","ListGroup","flush","map","props","index","ListGroupItem","key","elementWrappers","LAND","PORTION","PRODUCT","element","PROD_ACTIVITIES","MAINTENANCE_ACTIVITIES","connect","state","user","Selector","getUser","useState","currentElement","setCurrentElement","setElements","fetchErrors","setFetchErrors","isLoading","setIsLoading","useEffect","userAddress","contractInstance","window","web3","eth","Contract","contracts","ABI","address","methods","getTotal","call","from","then","total","console","log","parseInt","i","getById","result","push","id","catch","error","handleFetching","data","attributes","Container","fluid","type","size","Alert","color","length","withAuthentication","Title","StyledTitle","DiscoverLand","description","documents","align","tag","href","target","isOpen","setIsOpen","setData","hasErrors","setHasErrors","handleClick","useCallback","Object","keys","forEach","method","items","item","onClick","Modal","toggle","ModalHeader","ModalBody","upperIndex","lowerIndex","portion","registeredBy","DiscoverPortion","rest","useMemo","land","price","duration","expectedProduction","expMainActivityCost","expProdActivityCost","isLandOpen","setIsLandOpen","isHistoryOpen","setIsHistoryOpen","isDetailsOpen","setIsDetailsOpen","handleDetailsClick","icon","faChevronUp","faChevronDown","Collapse","toFixed","viewToRender","getByItem","certifier","DiscoverActivityProduct","isPortionOpen","setIsPortionOpen","ElementSelector","value","choices","DropdownItem","disabled","Dropdown","DropdownToggle","caret","block","DropdownMenu"],"mappings":"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","file":"static/js/12.11d58d92.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col, ListGroup, ListGroupItem } from 'reactstrap';\n\n/**\n * Container for the list of element (products, lands, ...).\n *\n * @param ElementWrapper\n * @param elements\n * @returns {JSX.Element}\n * @constructor\n * @component\n */\nconst ElementListContainer = ({ ElementWrapper, elements }) => (\n\t<Row className=\"my-3\">\n\t\t<Col md={12} sm={12}>\n\t\t\t<ListGroup flush>\n\t\t\t{elements.map((props, index) => (\n\t\t\t\t<ListGroupItem key={index}>\n\t\t\t\t\t<ElementWrapper {...props} />\n\t\t\t\t</ListGroupItem>\n\t\t\t))}\n\t\t\t</ListGroup>\n\t\t</Col>\n\t</Row>\n);\n\nElementListContainer.propTypes = {\n\t/**\n\t * Wrapper that shows element information\n\t */\n\tElementWrapper: PropTypes.func,\n\t/**\n\t * List of elements to show\n\t */\n\telements: PropTypes.array\n}\n\nexport default ElementListContainer;\n","import React from 'react';\nimport {\n\tDiscoverLand,\n\tDiscoverPortion,\n\tDiscoverActivityProduct,\n} from '../../../shared/views';\n\nimport {\n\tLAND,\n\tPORTION,\n\tPRODUCT,\n\tPROD_ACTIVITIES,\n\tMAINTENANCE_ACTIVITIES\n} from '../../../shared/values';\nimport contracts from '../../../shared/contracts';\n\nconst elementWrappers = {\n\t[LAND]: (props) => <DiscoverLand {...props} />,\n\t[PORTION]: (props) => <DiscoverPortion {...props} />,\n\t[PRODUCT]: (props) => <DiscoverActivityProduct {...props} element={PRODUCT}/>,\n\t[PROD_ACTIVITIES]: (props) => <DiscoverActivityProduct {...props} element={PROD_ACTIVITIES} />,\n\t[MAINTENANCE_ACTIVITIES]: (props) => <DiscoverActivityProduct {...props} element={MAINTENANCE_ACTIVITIES} />\n}\n\nconst handleFetching = (userAddress, setElements, setFetchErrors, setIsLoading, element) => {\n\tconst elements = [];\n\n\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\tcontractInstance.methods.getTotal()\n\t\t.call({ from : userAddress })\n\t\t.then((total) => {\n\t\t\tconsole.log(total);\n\t\t\ttotal = parseInt(total);\n\t\t\tif (!total) {\n\t\t\t\tsetElements(elements);\n\t\t\t\tsetFetchErrors(false);\n\t\t\t\tsetIsLoading(false);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < total; i++) {\n\t\t\t\tcontractInstance.methods.getById(i)\n\t\t\t\t\t.call({ from : userAddress })\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\tconsole.log(result);\n\t\t\t\t\t\telements.push({\n\t\t\t\t\t\t\t...result,\n\t\t\t\t\t\t\tid: i\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (i === total - 1) {\n\t\t\t\t\t\t\tsetElements(elements);\n\t\t\t\t\t\t\tsetFetchErrors(false);\n\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\tsetFetchErrors(true);\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.log(error);\n\t\t\tsetFetchErrors(true);\n\t\t\tsetIsLoading(false);\n\t\t});\n};\n\nexport { elementWrappers, handleFetching };\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Container, Row, Col, Alert } from 'reactstrap';\nimport { connect } from 'react-redux';\n\nimport ElementListContainer from './ElementListContainer';\nimport { ElementSelector } from '../../../shared/element-dropdown';\n\nimport {\n\tLAND,\n\tPORTION,\n\tPROD_ACTIVITIES,\n\tPRODUCT,\n\tMAINTENANCE_ACTIVITIES\n} from '../../../shared/values';\n\nimport { elementWrappers, handleFetching } from '../map';\n\nimport { Selector } from '../../../store/user/reducer';\nimport { StyledSpinner } from '../../../shared/styled';\n\n/**\n * Discover section, container for elements details.\n *\n * @param user\n * @returns {JSX.Element}\n * @constructor\n * @component\n */\nconst DiscoverContainer = ({ user }) => {\n\tconst [currentElement, setCurrentElement] = useState(LAND);\n\n\tconst [elements, setElements] = useState([]);\n\tconst [fetchErrors, setFetchErrors] = useState(false);\n\tconst [isLoading, setIsLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\thandleFetching(user.data.attributes['custom:eth_address'], setElements, setFetchErrors, setIsLoading, currentElement);\n\t}, [currentElement, user]);\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Row className=\"justify-content-between align-items-center\">\n\t\t\t\t<Col>\n\t\t\t\t\t<h1>Esplora {currentElement}</h1>\n\t\t\t\t</Col>\n\t\t\t\t<Col md={5} sm={12} className=\"justify-content-center\">\n\t\t\t\t\t<ElementSelector\n\t\t\t\t\t\telements={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: LAND\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: PORTION\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: PROD_ACTIVITIES\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: PRODUCT\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: MAINTENANCE_ACTIVITIES\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tcurrentElement={currentElement}\n\t\t\t\t\t\tsetCurrentElement={setCurrentElement}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t{isLoading && (\n\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t<Col md={1} sm={1}>\n\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t\t{fetchErrors && (\n\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t<Col md={12} sm={12}>\n\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t\t{!elements.length && (\n\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t<Col md={12} sm={12}>\n\t\t\t\t\t\t<Alert color=\"info\" className=\"my-3\">Nessun elemento disponibile</Alert>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t\t<ElementListContainer\n\t\t\t\telements={elements}\n\t\t\t\tElementWrapper={elementWrappers[currentElement]}\n\t\t\t/>\n\t\t</Container>\n\t)\n\n};\n\nDiscoverContainer.propTypes = {\n\t/**\n\t * Logged in user\n\t */\n\tuser: PropTypes.object\n};\n\nconst mapStateToProps = (state) => ({\n\tuser: Selector.getUser(state)\n});\n\nexport default connect(mapStateToProps)(DiscoverContainer);\n","import React from 'react';\n\nimport DiscoverContainer from './containers';\nimport withAuthentication from '../../shared/auth';\n\nconst Discover = () => <DiscoverContainer />;\n\nexport default withAuthentication(Discover);\n","import React from 'react';\nimport { Container, Row, Col, ListGroup, ListGroupItem } from 'reactstrap';\n\nimport { StyledTitle } from '../styled';\n\nconst Title = StyledTitle('h5');\n\nconst DiscoverLand = ({ description, documents }) => (\n\t<Container fluid>\n\t\t<Row className=\"align-items-center my-3\">\n\t\t\t<Col md={3} sm={12}>\n\t\t\t\t<Title>Descrizione</Title>\n\t\t\t</Col>\n\t\t\t<Col>\n\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t</Col>\n\t\t</Row>\n\t\t{documents && (\n\t\t<Row className=\"align-items-center my-3\">\n\t\t\t<Col md={3} sm={12}>\n\t\t\t\t<Title>Documenti</Title>\n\t\t\t</Col>\n\t\t\t<Col>\n\t\t\t\t<ListGroup flush>\n\t\t\t\t\t<ListGroupItem className=\"text-success\" tag=\"a\" href={documents} target=\"_blank\">Documento allegato</ListGroupItem>\n\t\t\t\t</ListGroup>\n\t\t\t</Col>\n\t\t</Row>)}\n\t</Container>\n);\n\nexport default DiscoverLand;\n","import React, { useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\n\nimport { Col, Container, Modal, ModalBody, ModalHeader, Row, Alert, ListGroup, ListGroupItem } from 'reactstrap';\n\nimport DiscoverActivityProduct from './DiscoverActivityProduct';\nimport { StyledFilledButton, StyledSpinner } from '../styled';\n\nimport contracts from '../contracts';\nimport { MAINTENANCE_ACTIVITIES, PORTION, PROD_ACTIVITIES, PRODUCT } from '../values';\nimport { Selector } from '../../store/user/reducer';\n\nconst ActivityProductOwnershipHandling = ({ id, isOpen, setIsOpen, user: { data: { attributes }} }) => {\n\tconst userAddress = attributes['custom:eth_address'];\n\n\tconst [data, setData] = useState({\n\t\t[PORTION]: [],\n\t\t[PRODUCT]: [],\n\t\t[PROD_ACTIVITIES]: [],\n\t\t[MAINTENANCE_ACTIVITIES]: []\n\t});\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [hasErrors, setHasErrors] = useState(false);\n\n\tconst handleClick = useCallback(() => {\n\t\tif (!isOpen) {\n\t\t\tsetIsOpen((isOpen) => !isOpen);\n\n\t\t\tObject.keys(data).forEach((element) => {\n\t\t\t\tconst method = element === PORTION ? 'getBuyersByPortion' : 'getByPortion';\n\t\t\t\tsetIsLoading(true);\n\t\t\t\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\t\t\t\tcontractInstance.methods[method](id)\n\t\t\t\t\t.call({ from: userAddress })\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\tconsole.log(result);\n\t\t\t\t\t\tif (element === PORTION) {\n\t\t\t\t\t\t\tsetData((data) => ({\n\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t[element]: result\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (result.length) {\n\t\t\t\t\t\t\t\tconst items = [];\n\n\t\t\t\t\t\t\t\tresult.forEach((id, index) => {\n\t\t\t\t\t\t\t\t\tcontractInstance.methods.getById(id)\n\t\t\t\t\t\t\t\t\t\t.call({ from: userAddress })\n\t\t\t\t\t\t\t\t\t\t.then((item) => {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(item);\n\t\t\t\t\t\t\t\t\t\t\titems.push(item);\n\n\t\t\t\t\t\t\t\t\t\t\tif (index === result.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetData((data) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t\t\t\t\t\t[element]: items\n\t\t\t\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t});\n\n\t\t\t});\n\t\t}\n\n\t}, [id, userAddress, isOpen, setIsOpen, setIsLoading, data, setData]);\n\n\treturn (\n\t\t<>\n\t\t\t<StyledFilledButton onClick={handleClick}>\n\t\t\t\tSfoglia cronologia\n\t\t\t</StyledFilledButton>\n\t\t\t<Modal className=\"modal-lg\" isOpen={isOpen} toggle={handleClick}>\n\t\t\t\t<ModalHeader toggle={handleClick}>\n\t\t\t\t\tDettagli Porzione #{id}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col md={1} sm={1}>\n\t\t\t\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasErrors && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col md={12} sm={12}>\n\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{Object.keys(data).map((element, upperIndex) => {\n\t\t\t\t\t\tif (element === PORTION) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t\t\t<Col md={3} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Possessore</Alert>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<ListGroup flush>\n\t\t\t\t\t\t\t\t\t\t\t\t{data[element].map((item, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ListGroupItem key={index}>{item}</ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn data[element].map(({id, description, portion, registeredBy}, lowerIndex) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<DiscoverActivityProduct\n\t\t\t\t\t\t\t\t\t\tkey={`${upperIndex}${lowerIndex}`}\n\t\t\t\t\t\t\t\t\t\telement={element}\n\t\t\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\t\t\tportion={portion}\n\t\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\t\tregisteredBy={registeredBy}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t</ModalBody>\n\t\t\t</Modal>\n\t\t</>\n\t)\n};\n\nexport default connect((state) => ({ user: Selector.getUser(state) }))(ActivityProductOwnershipHandling);\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { Collapse, Col, Container, Row, ListGroup, ListGroupItem } from 'reactstrap';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons/faChevronDown';\nimport { faChevronUp } from '@fortawesome/free-solid-svg-icons/faChevronUp';\n\nimport { StyledLinkButton, StyledTitle } from '../styled';\n\nimport { LAND } from '../values';\nimport LandPortionHandling from './LandPortionHandling';\nimport ActivityProductOwnershipHandling from './ActivityProductOwnershipHandling';\n\nconst Title = StyledTitle('h5');\n\nconst DiscoverPortion = ({ id, ...rest }) => {\n\tconst {\n\t\tland,\n\t\tdescription,\n\t\tdocuments,\n\t\tprice,\n\t\tduration,\n\t\texpectedProduction,\n\t\texpMainActivityCost,\n\t\texpProdActivityCost\n\t} = useMemo(() => {\n\t\tif (rest[0] && rest[1]) {\n\t\t\treturn {\n\t\t\t\t...rest[0],\n\t\t\t\t...rest[1]\n\t\t\t};\n\t\t} else {\n\t\t\treturn {};\n\t\t}\n\t}, [rest]);\n\n\tconst [isLandOpen, setIsLandOpen] = useState(false);\n\tconst [isHistoryOpen, setIsHistoryOpen] = useState(false);\n\n\tconst [isDetailsOpen, setIsDetailsOpen] = useState(false);\n\tconst handleDetailsClick = useCallback(() => {\n\t\tsetIsDetailsOpen((isOpen) => !isOpen);\n\t}, [setIsDetailsOpen])\n\tconst icon = useMemo(() => isDetailsOpen ? faChevronUp : faChevronDown, [isDetailsOpen]);\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Row className=\"align-items-center justify-content-end my-3\">\n\t\t\t\t<Col md={9} sm={12} align=\"end\">\n\t\t\t\t\t<ActivityProductOwnershipHandling\n\t\t\t\t\t\tsetIsOpen={setIsHistoryOpen}\n\t\t\t\t\t\tisOpen={isHistoryOpen}\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col md={3} sm={12}>\n\t\t\t\t\t<Title>Terreno</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<LandPortionHandling\n\t\t\t\t\t\tid={land}\n\t\t\t\t\t\tisOpen={isLandOpen}\n\t\t\t\t\t\tsetIsOpen={setIsLandOpen}\n\t\t\t\t\t\telement={LAND}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col md={3} sm={12}>\n\t\t\t\t\t<Title>Descrizione</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t{documents && (\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col md={3} sm={12}>\n\t\t\t\t\t<Title>Documenti</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<ListGroup flush>\n\t\t\t\t\t\t<ListGroupItem className=\"text-success\" tag=\"a\" href={documents} target=\"_blank\">Documento allegato</ListGroupItem>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t</Col>\n\t\t\t</Row>)}\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col align=\"center\">\n\t\t\t\t\t<StyledLinkButton color=\"link\" onClick={handleDetailsClick}>\n\t\t\t\t\t\tDati del contratto <FontAwesomeIcon icon={icon} />\n\t\t\t\t\t</StyledLinkButton>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Collapse isOpen={isDetailsOpen}>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col md={3} sm={12}>\n\t\t\t\t\t\t<Title>Canone</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">€ {price && (parseInt(price)/10).toFixed(2)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col md={3} sm={12}>\n\t\t\t\t\t\t<Title>Durata</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">{duration}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col md={3} sm={12}>\n\t\t\t\t\t\t<Title>Produzione attesa</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">{expectedProduction}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col md={3} sm={12}>\n\t\t\t\t\t\t<Title>Costi di manutenzione attesi</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">€ {expMainActivityCost && (parseInt(expMainActivityCost)/10).toFixed(2)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col md={3} sm={12}>\n\t\t\t\t\t\t<Title>Costi di produzione attesi</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">€ {expProdActivityCost && (parseInt(expProdActivityCost)/10).toFixed(2)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Collapse>\n\t\t</Container>\n\t);\n};\n\nexport default DiscoverPortion;\n","import React, { useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { Alert, Col, Container, Modal, ModalBody, ModalHeader, Row } from 'reactstrap';\n\nimport DiscoverLand from './DiscoverLand';\nimport DiscoverPortion from './DiscoverPortion';\nimport { StyledLinkButton, StyledSpinner } from '../styled';\n\nimport contracts from '../contracts';\nimport { LAND, PORTION } from '../values';\n\nimport { Selector } from '../../store/user/reducer';\n\nconst viewToRender = (props) => ({\n\t[LAND]: <DiscoverLand {...props} />,\n\t[PORTION]: <DiscoverPortion {...props} />\n});\n\nconst LandPortionHandling = ({ id, isOpen, setIsOpen, element, user: { data: { attributes }} }) => {\n\tconst userAddress = attributes['custom:eth_address'];\n\n\tconst [data, setData] = useState({});\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [hasErrors, setHasErrors] = useState(false);\n\n\tconst handleClick = useCallback(() => {\n\t\tif (!isOpen) {\n\t\t\tsetIsLoading(true);\n\t\t\tsetIsOpen((isOpen) => !isOpen);\n\n\t\t\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\t\t\tcontractInstance.methods.getById(id)\n\t\t\t\t.call({ from: userAddress })\n\t\t\t\t.then((result) => {\n\t\t\t\t\tconsole.log(result);\n\t\t\t\t\tsetData(result);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\n\t}, [id, userAddress, element, isOpen, setIsOpen, setIsLoading, setData]);\n\n\treturn (\n\t\t<>\n\t\t\t<StyledLinkButton color=\"link\" onClick={handleClick}>\n\t\t\t\t{element} #{id}\n\t\t\t</StyledLinkButton>\n\t\t\t<Modal className=\"modal-lg\" isOpen={isOpen} toggle={handleClick}>\n\t\t\t\t<ModalHeader toggle={handleClick}>\n\t\t\t\t\tDettagli {element} #{id}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col md={1} sm={1}>\n\t\t\t\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasErrors && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col md={12} sm={12}>\n\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{viewToRender(data)[element]}\n\t\t\t\t</ModalBody>\n\t\t\t</Modal>\n\t\t</>\n\t)\n};\n\nexport default connect((state) => ({ user: Selector.getUser(state) }))(LandPortionHandling);\n","import React, { useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\n\nimport { Col, Container, ListGroup, ListGroupItem, Modal, ModalBody, ModalHeader, Row, Alert } from 'reactstrap';\nimport { StyledFilledButton, StyledSpinner, StyledTitle } from '../styled';\n\nimport contracts from '../contracts';\nimport { Selector } from '../../store/user/reducer';\n\nconst Title = StyledTitle('h5');\n\nconst CertificationHandling = ({ id, isOpen, setIsOpen, element, user: { data: { attributes }} }) => {\n\tconst userAddress = attributes['custom:eth_address'];\n\n\tconst [data, setData] = useState([]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [hasErrors, setHasErrors] = useState(false);\n\n\tconst handleClick = useCallback(() => {\n\t\tif (!isOpen) {\n\t\t\tsetIsLoading(true);\n\t\t\tsetIsOpen((isOpen) => !isOpen);\n\n\t\t\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\t\t\tcontractInstance.methods.getByItem(id)\n\t\t\t\t.call({ from: userAddress })\n\t\t\t\t.then((result) => {\n\t\t\t\t\tconsole.log(result);\n\t\t\t\t\tsetData(result);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\n\t}, [id, userAddress, element, isOpen, setIsOpen, setIsLoading, setData]);\n\n\treturn (\n\t\t<>\n\t\t\t<StyledFilledButton onClick={handleClick}>\n\t\t\t\tSfoglia cronologia\n\t\t\t</StyledFilledButton>\n\t\t\t<Modal className=\"modal-lg\" isOpen={isOpen} toggle={handleClick}>\n\t\t\t\t<ModalHeader toggle={handleClick}>\n\t\t\t\t\tDettagli {element} #{id}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col md={1} sm={1}>\n\t\t\t\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasErrors && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col md={12} sm={12}>\n\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t<ListGroup flush>\n\t\t\t\t\t\t{data.map(({ description, certifier }, index) => (\n\t\t\t\t\t\t\t<ListGroupItem key={index}>\n\t\t\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t\t\t<Row className=\"my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"text-black-50\">Certificazione</h6>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col md={3} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Title>Descrizione</Title>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col md={3} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Title>Certificato da</Title>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<p align=\"justify\">{certifier}</p>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ListGroup>\n\t\t\t\t</ModalBody>\n\t\t\t</Modal>\n\t\t</>\n\t)\n};\n\nexport default connect((state) => ({ user: Selector.getUser(state) }))(CertificationHandling);\n","import React, { useState } from 'react';\nimport { Col, Container, Row } from 'reactstrap';\n\nimport { StyledTitle } from '../styled';\n\nimport LandPortionHandling from './LandPortionHandling';\n\nimport { PORTION } from '../values';\nimport CertificationHandling from './CertificationHandling';\n\nconst Title = StyledTitle('h5');\n\nconst DiscoverActivityProduct = ({ id, portion, description, registeredBy, element }) => {\n\tconst [isPortionOpen, setIsPortionOpen] = useState(false);\n\tconst [isHistoryOpen, setIsHistoryOpen] = useState(false);\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Row className=\"my-3\">\n\t\t\t\t<Col>\n\t\t\t\t\t<h6 className=\"text-black-50\">{element}</h6>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center justify-content-end my-3\">\n\t\t\t\t<Col md={9} sm={12} align=\"end\">\n\t\t\t\t\t<CertificationHandling\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tisOpen={isHistoryOpen}\n\t\t\t\t\t\tsetIsOpen={setIsHistoryOpen}\n\t\t\t\t\t\telement={element}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col md={3} sm={12}>\n\t\t\t\t\t<Title>Porzione</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<LandPortionHandling\n\t\t\t\t\t\tid={portion}\n\t\t\t\t\t\tisOpen={isPortionOpen}\n\t\t\t\t\t\tsetIsOpen={setIsPortionOpen}\n\t\t\t\t\t\telement={PORTION}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col md={3} sm={12}>\n\t\t\t\t\t<Title>Descrizione</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col md={3} sm={12}>\n\t\t\t\t\t<Title>Registrato da</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<p align=\"justify\">{registeredBy}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t);\n};\n\nexport default DiscoverActivityProduct;\n","import React, { useState, useCallback, useMemo } from 'react';\n\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\n\nconst ElementSelector = ({ elements, currentElement, setCurrentElement }) => {\n\tconst [isOpen, setIsOpen] = useState(false);\n\n\tconst toggle = useCallback(() => setIsOpen((isOpen) => !isOpen), [setIsOpen]);\n\tconst onClick = useCallback((value) => () => {\n\t\tsetCurrentElement(value);\n\t}, [setCurrentElement]);\n\n\tconst choices = useMemo(() => {\n\t\treturn elements.map((value, index) =>\n\t\t\t<DropdownItem disabled={value.disabled} onClick={onClick(value.type)} key={index}>{value.type}</DropdownItem>\n\t\t)\n\t}, [onClick, elements]);\n\n\treturn (\n\t\t<Dropdown\n\t\t\tisOpen={isOpen}\n\t\t\ttoggle={toggle}\n\t\t>\n\t\t\t<DropdownToggle caret block>\n\t\t\t\t{currentElement}\n\t\t\t</DropdownToggle>\n\t\t\t<DropdownMenu>\n\t\t\t\t{choices}\n\t\t\t</DropdownMenu>\n\t\t</Dropdown>\n\t)\n};\n\nexport default ElementSelector;\n"],"sourceRoot":""}