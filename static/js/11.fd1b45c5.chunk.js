(this.webpackJsonppsab=this.webpackJsonppsab||[]).push([[11],{487:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"LAND",(function(){return q})),a.d(n,"PORTION",(function(){return M})),a.d(n,"PROD_ACTIVITIES",(function(){return k})),a.d(n,"PRODUCT",(function(){return D})),a.d(n,"MAINTENANCE_ACTIVITIES",(function(){return T}));var r,i=a(0),o=a.n(i),c=a(140),l=a(491),u=a(492),d=a(493),m=a(538),s=a(609),p=a(610),b=a(611),E=a(612),v=a(613),g=a(81),f=function(e){var t=e.values,a=e.touched,n=e.errors,r=e.handleChange,l=Object(i.useState)(1),m=Object(c.a)(l,2),s=m[0],p=m[1],b=Object(i.useCallback)((function(e){return function(a){a.persist();var n=t.documents[e];r(a),""!==a.target.value&&void 0===n&&a.target.value!==n&&p(s+1)}}),[s,p]),g=Object(i.useMemo)((function(){for(var e=[],t=0;t<s;t++)e.push(o.a.createElement(u.a,{className:"my-3",form:!0,key:t},o.a.createElement(d.a,null,o.a.createElement(E.a,{valid:a.documents&&a.documents[t]&&!n.documents&&!n.documents[t],type:"file",name:"documents[".concat(t,"]"),id:"documents[".concat(t,"]"),onChange:b(t)}))));return e}),[s,a,n]);return o.a.createElement(o.a.Fragment,null,g,n.documents&&o.a.createElement(v.a,{color:"danger"},n.documents))},h=function(e){var t=e.values,a=e.touched,n=e.errors,r=e.isSubmitting,i=e.handleSubmit,c=e.handleChange;return o.a.createElement(s.a,{onSubmit:i,noValidate:!0},o.a.createElement(p.a,null,o.a.createElement(b.a,{for:"description"},"Descrizione"),o.a.createElement(E.a,{valid:a.description&&!n.description,type:"textarea",name:"description",id:"description",onChange:c,value:t.description}),n.description&&o.a.createElement(v.a,{color:"danger"},n.description)),o.a.createElement(p.a,null,o.a.createElement(b.a,{for:"documents"},"Documenti"),o.a.createElement(v.a,null,"Deve essere caricato un documento al minimo; una volta inserito un file, apparir\xe0 un nuovo campo di input per ulteriori file"),o.a.createElement(f,{values:t,errors:n,handleChange:c,touched:a})),o.a.createElement(g.b,{type:"submit",disabled:r},"Aggiungi"))},O=a(616),j=a(619),C=a(589),y=a(141),z=function(e){var t=e.values,a=e.touched,n=e.errors,r=e.isSubmitting,i=e.handleSubmit,c=e.handleChange;return o.a.createElement(s.a,{onSubmit:i,noValidate:!0},o.a.createElement(p.a,null,o.a.createElement(b.a,{for:"land"},"Terreno da dividere"),o.a.createElement(E.a,{valid:a.land&&!n.land,type:"number",name:"land",id:"land",onChange:c,value:t.land}),n.land&&o.a.createElement(v.a,{color:"danger"},n.land)),o.a.createElement(p.a,null,o.a.createElement(b.a,{for:"description"},"Descrizione"),o.a.createElement(E.a,{valid:a.description&&!n.description,type:"textarea",name:"description",id:"description",onChange:c,value:t.description}),n.description&&o.a.createElement(v.a,{color:"danger"},n.description)),o.a.createElement(p.a,null,o.a.createElement(b.a,{for:"documents"},"Documenti"),o.a.createElement(v.a,null,"Deve essere caricato un documento al minimo; una volta inserito un file, apparir\xe0 un nuovo campo di input per ulteriori file"),o.a.createElement(f,{values:t,errors:n,handleChange:c,touched:a})),o.a.createElement(p.a,{tag:"fieldset"},o.a.createElement("legend",null,"Dati del contratto"),o.a.createElement(p.a,null,o.a.createElement(b.a,{for:"price"},"Prezzo"),o.a.createElement(O.a,null,o.a.createElement(j.a,{addonType:"prepend",className:"align-items-center mx-3"},o.a.createElement(y.a,{icon:C.faEuroSign,size:"lg"})),o.a.createElement(E.a,{valid:a.price&&!n.price,type:"number",name:"price",id:"price",onChange:c,value:t.price})),n.price&&o.a.createElement(v.a,{color:"danger"},n.price)),o.a.createElement(p.a,null,o.a.createElement(b.a,{for:"duration"},"Durata"),o.a.createElement(E.a,{valid:a.duration&&!n.duration,type:"text",name:"duration",id:"duration",onChange:c,value:t.duration}),o.a.createElement(v.a,null,"Contratto perpetuo, contratto valido per ",o.a.createElement("i",null,"n")," anni, ..."),n.duration&&o.a.createElement(v.a,{color:"danger"},n.duration)),o.a.createElement(p.a,null,o.a.createElement(b.a,{for:"expectedProduction"},"Produzione attesa"),o.a.createElement(E.a,{valid:a.expectedProduction&&!n.expectedProduction,type:"text",name:"expectedProduction",id:"expectedProduction",onChange:c,value:t.expectedProduction}),n.expectedProduction&&o.a.createElement(v.a,{color:"danger"},n.expectedProduction)),o.a.createElement(p.a,null,o.a.createElement(b.a,{for:"expMainActivityCost"},"Costi di manutenzione attesi"),o.a.createElement(O.a,null,o.a.createElement(j.a,{addonType:"prepend",className:"align-items-center mx-3"},o.a.createElement(y.a,{icon:C.faEuroSign,size:"lg"})),o.a.createElement(E.a,{valid:a.expMainActivityCost&&!n.expMainActivityCost,type:"number",name:"expMainActivityCost",id:"expMainActivityCost",onChange:c,value:t.expMainActivityCost})),n.expMainActivityCost&&o.a.createElement(v.a,{color:"danger"},n.expMainActivityCost)),o.a.createElement(p.a,null,o.a.createElement(b.a,{for:"expProdActivityCost"},"Costi di produzione attesi"),o.a.createElement(O.a,null,o.a.createElement(j.a,{addonType:"prepend",className:"align-items-center mx-3"},o.a.createElement(y.a,{icon:C.faEuroSign,size:"lg"})),o.a.createElement(E.a,{valid:a.expProdActivityCost&&!n.expProdActivityCost,type:"number",name:"expMainActivityCost",id:"expMainActivityCost",onChange:c,value:t.expProdActivityCost})),n.expProdActivityCost&&o.a.createElement(v.a,{color:"danger"},n.expProdActivityCost))),o.a.createElement(g.b,{type:"submit",disabled:r},"Aggiungi"))},x=function(e){var t=e.values,a=e.touched,n=e.errors,r=e.isSubmitting,i=e.handleSubmit,c=e.handleChange;return o.a.createElement(s.a,{onSubmit:i,noValidate:!0},o.a.createElement(p.a,null,o.a.createElement(b.a,{for:"portion"},"Porzione relativa alla produzione"),o.a.createElement(E.a,{valid:a.portion&&!n.portion,type:"number",name:"portion",id:"portion",onChange:c,value:t.portion}),n.portion&&o.a.createElement(v.a,{color:"danger"},n.portion)),o.a.createElement(p.a,null,o.a.createElement(b.a,{for:"description"},"Descrizione"),o.a.createElement(E.a,{valid:a.description&&!n.description,type:"textarea",name:"description",id:"description",onChange:c,value:t.description}),n.description&&o.a.createElement(v.a,{color:"danger"},n.description)),o.a.createElement(g.b,{type:"submit",disabled:r},"Aggiungi"))},S=a(617),A=a(618),P=a(620),I=a(621),q="Terreno",M="Porzione di terreno",k="Attivit\xe0 legate alla produzione",D="Prodotto",T="Attivit\xe0 di manutenzione",N=function(e){var t=e.currentForm,a=e.setCurrentForm,r=Object(i.useState)(!1),l=Object(c.a)(r,2),u=l[0],d=l[1],m=Object(i.useCallback)((function(){return d((function(e){return!e}))}),[d]),s=Object(i.useCallback)((function(e){return function(){a(e)}}),[a]),p=Object(i.useMemo)((function(){return Object.keys(n).map((function(e,t){return o.a.createElement(S.a,{onClick:s(n[e]),key:t},n[e])}))}),[]);return o.a.createElement(A.a,{isOpen:u,toggle:m},o.a.createElement(P.a,{caret:!0,block:!0},t),o.a.createElement(I.a,null,p))},V=a(96),F=a(535),w=(r={},Object(V.a)(r,q,{component:function(e){return o.a.createElement(h,e)},initialValues:{description:"",documents:[]},validationSchema:Object(F.c)().shape({description:Object(F.e)().required("Il campo descrizione \xe8 obbligatorio"),documents:Object(F.a)().of(Object(F.e)()).min(1,"Inserire almeno un documento")})}),Object(V.a)(r,M,{component:function(e){return o.a.createElement(z,e)},initialValues:{land:null,description:"",price:null,duration:"",expectedProduction:"",expMainActivityCost:null,expProdActivityCost:null,buyer:"",documents:[]},validationSchema:Object(F.c)().shape({land:Object(F.b)().required("Selezionare il terreno al quale appartiene la porzione"),description:Object(F.e)().required("Il campo descrizione \xe8 obbligatorio"),price:Object(F.b)().required("Il costo relativo al contratto \xe8 obbligatorio"),duration:Object(F.e)().required("Le informazioni sulla durata del contratto sono obbligatorie"),expectedProduction:Object(F.e)().required("Le informazioni sulla produzione attesa sono obbligatorie"),expMainActivityCost:Object(F.b)().required("I costi attesi per le attivit\xe0 di manutenzione sono obbligatori"),expProdActivityCost:Object(F.b)().required("I costi attesi per la produzione sono obbligatori"),buyer:Object(F.e)().matches(/^0x[a-fA-F0-9]{40}$/g,"Il formato dell'indirizzo non \xe8 valido").length(42,"L'indirizzo \xe8 lungo esattamente 42 caratteri").required("L'indirizzo dell'acquirente \xe8 obbligatorio"),documents:Object(F.a)().of(Object(F.e)()).min(1,"Inserire almeno un documento")})}),Object(V.a)(r,D,{component:function(e){return o.a.createElement(x,e)},initialValues:{portion:null,description:""},validationSchema:Object(F.c)().shape({portion:Object(F.b)().required("Selezionare la porzione di terreno alla quale appartiene il prodotto"),description:Object(F.e)().required("Il campo descrizione \xe8 obbligatorio")})}),Object(V.a)(r,k,{component:function(e){return o.a.createElement(x,e)},initialValues:{portion:null,description:""},validationSchema:Object(F.c)().shape({portion:Object(F.b)().required("Selezionare la porzione di terreno alla quale appartiene l'attivit\xe0 di produzione"),description:Object(F.e)().required("Il campo descrizione \xe8 obbligatorio")})}),Object(V.a)(r,T,{component:function(e){return o.a.createElement(x,e)},initialValues:{portion:null,description:""},validationSchema:Object(F.c)().shape({portion:Object(F.b)().required("Selezionare la porzione di terreno alla quale appartiene l'attivit\xe0 di manutenzione"),description:Object(F.e)().required("Il campo descrizione \xe8 obbligatorio")})}),r),L=function(){var e=Object(i.useState)(q),t=Object(c.a)(e,2),a=t[0],n=t[1],r=Object(i.useMemo)((function(){return w[a]}),[a]),s=r.component,p=r.initialValues,b=r.validationSchema,E=Object(i.useCallback)((function(e,t){var a=t.setSubmitting,n=t.resetForm;setTimeout((function(){a(!1),n()}),2500)}),[]);return o.a.createElement(l.a,{fluid:!0},o.a.createElement(u.a,{className:"justify-content-between align-items-center"},o.a.createElement(d.a,null,o.a.createElement("h1",null,"Registra ",a)),o.a.createElement(d.a,{md:5,className:"justify-content-center"},o.a.createElement(N,{currentForm:a,setCurrentForm:n}))),o.a.createElement(u.a,null,o.a.createElement(d.a,{md:12},o.a.createElement(m.a,{initialValues:p,validationSchema:b,onSubmit:E},(function(e){return o.a.createElement(s,e)})))))},R=a(498);t.default=Object(R.a)((function(){return o.a.createElement(L,null)}))},498:function(e,t,a){"use strict";a.d(t,"b",(function(){return E}));var n=a(8),r=a(9),i=a(17),o=a(18),c=a(0),l=a.n(c),u=a(82),d=a(22),m=a(502),s=a(33),p=a(101),b=a(80),E=new m.d({UserPoolId:"us-east-1_nHjKBFfD6",ClientId:"3mdnhe3e6gdkou07as5v4scjqt"});t.a=function(e){var t=function(t){Object(o.a)(c,t);var a=Object(i.a)(c);function c(e){var t;Object(n.a)(this,c),t=a.call(this,e);var r=window.localStorage.getItem("LoggedIn");return t.state={auth:r},r&&!t.props.user.data&&t.props.loggedIn({data:JSON.parse(t.state.auth)}),t}return Object(r.a)(c,[{key:"render",value:function(){return this.state.auth?l.a.createElement(e,null):l.a.createElement(d.a,{to:s.f})}}]),c}(c.Component);return Object(u.b)((function(e){return{user:b.a.getUser(e)}}),{loggedIn:p.a})(t)}}}]);
//# sourceMappingURL=11.fd1b45c5.chunk.js.map