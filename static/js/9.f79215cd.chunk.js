(this.webpackJsonppsab=this.webpackJsonppsab||[]).push([[9],{632:function(e,t,n){"use strict";n.r(t);var a=n(198),i=n(2),r=n.n(i),c=n(26),s=n(120),o=n(641),l=n(642),u=n(643),p=n(665),d=n(966),m=n(970),y=n(971),b=n(972),f=n(973),g=n(974),E=n(118),v=n(650),T=n(200),h=n(663),O=n(649),j=n(58),_={object:"",description:""},C=Object(h.d)().shape({object:Object(h.c)().required("Specificare l'oggetto della certificazione"),description:Object(h.f)().required("La descrizione della certificazione \xe8 obbligatoria")}),w=function(e){var t=e.values,n=e.touched,c=e.errors,s=e.isSubmitting,p=e.handleSubmit,h=e.handleChange,j=e.resetForm,_=e.initialValues,C=e.currentForm,w=e.userAddress,S=Object(i.useState)([]),x=Object(a.a)(S,2),M=x[0],A=x[1],B=Object(i.useState)(!1),P=Object(a.a)(B,2),N=P[0],z=P[1],I=Object(i.useState)(!0),F=Object(a.a)(I,2),D=F[0],k=F[1];return Object(i.useEffect)((function(){j(_)}),[j,_]),Object(i.useEffect)((function(){A([]),function(e,t,n,a,i,r){i(!0);var c=new window.web3.eth.Contract(O.a[r].ABI,O.a[r].address);c.methods.getTotal().call({from:e}).then((function(r){if(!(r=parseInt(r)))return t([]),void i(!1);for(var s=function(s){n||c.methods.getById(s).call({from:e}).then((function(e){t((function(t){return[].concat(Object(T.a)(t),[Object(v.a)(Object(v.a)({},e),{},{id:s})])})),s===r-1&&i(!1)})).catch((function(e){i(!1),a(!0)}))},o=0;o<r;o++)s(o)})).catch((function(e){i(!1),a(!0)}))}(w,A,N,z,k,C)}),[C,w,A,N,z,k]),D?r.a.createElement(o.a,{fluid:!0},r.a.createElement(l.a,{className:"my-3 justify-content-center align-content-center align-items-center"},r.a.createElement(u.a,{xl:"auto",sm:"auto"},r.a.createElement(E.e,{size:"large"})))):N?r.a.createElement(d.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi certificabili"):M.length?r.a.createElement(m.a,{onSubmit:p,noValidate:!0},r.a.createElement(y.a,null,r.a.createElement(b.a,{for:"portion"},"Oggetto della certificazione"),r.a.createElement(f.a,{valid:n.object&&!c.object,type:"select",name:"object",id:"object",onChange:h,value:t.object,disabled:s},r.a.createElement("option",{value:""}),M.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.id," - ",e.description)}))),c.object&&r.a.createElement(g.a,{color:"danger"},c.object)),r.a.createElement(y.a,null,r.a.createElement(b.a,{for:"description"},"Descrizione"),r.a.createElement(f.a,{valid:n.description&&!c.description,type:"textarea",name:"description",id:"description",onChange:h,value:t.description,disabled:s}),c.description&&r.a.createElement(g.a,{color:"danger"},c.description)),r.a.createElement(E.b,{type:"submit",disabled:s},"Certifica")):r.a.createElement(d.a,{color:"info",className:"my-3"},"Nessun elemento disponibile per la certificazione")},S=n(692),x=n(683),M=n(710),A=n(119),B=n(39),P=Object(s.b)((function(e){return{user:A.a.getUser(e)}}))((function(e){var t=e.user,n=Object(c.g)();Object(i.useEffect)((function(){t.data&&(t.data.attributes["custom:role"]!==j.l.indexOf(j.a).toString()&&n.push(B.d))}),[t,n]);var s=Object(i.useState)(j.h),d=Object(a.a)(s,2),m=d[0],y=d[1],b=Object(i.useState)(!1),f=Object(a.a)(b,2),g=f[0],E=f[1],v=Object(i.useState)(!1),T=Object(a.a)(v,2),h=T[0],A=T[1],P=Object(i.useState)(!1),N=Object(a.a)(P,2),z=N[0],I=N[1],F=Object(i.useCallback)((function(e,n){var a=n.setSubmitting,i=n.resetForm;A(!0);!function(e,t,n,a,i){var r=e.object,c=e.description,s=new window.web3.eth.Contract(O.a[n].ABI,O.a[n].address),o=i===j.h?"Product":"Production";s.methods["certify".concat(o)](r,c).send({from:a}).then((function(e){t(!1)})).catch((function(e){t(!0)}))}(e,(function(e){i(_),a(!1),I(e),E(!0),A(!1)}),m,t.data.username,m)}),[I,E,m,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{fluid:!0},r.a.createElement(l.a,{className:"justify-content-between align-items-center"},r.a.createElement(u.a,null,r.a.createElement("h1",null,"Certifica ",m)),r.a.createElement(u.a,{xl:5,sm:12,className:"justify-content-center"},r.a.createElement(x.a,{elements:[{type:j.h},{type:j.i}],currentElement:m,setCurrentElement:y}))),h&&r.a.createElement(M.a,null),r.a.createElement(l.a,null,r.a.createElement(u.a,{xl:12,sm:12},r.a.createElement(p.a,{initialValues:_,validationSchema:C,onSubmit:F},(function(e){return r.a.createElement(w,Object.assign({currentForm:m,userAddress:t.data.username},e))}))))),r.a.createElement(S.f,{isOpen:g,setIsOpen:E,hasErrors:z}))})),N=n(656),z=n(729),I=Object(z.a)(P);t.default=Object(N.a)(I,B.b)},649:function(e,t,n){"use strict";var a,i=n(33),r=n(668),c=n(669),s=n(670),o=n(671),l=n(672),u=n(58),p=(a={},Object(i.a)(a,u.d,{ABI:r.a,address:"0xc021380b552Ae43883E74c6c99824145A1456e95"}),Object(i.a)(a,u.g,{ABI:c.a,address:"0x8038Cf6a8bd39D01713184b573872a038a05c768"}),Object(i.a)(a,u.h,{ABI:s.a,address:"0x0E8ddcC72053F225B1Da63284951359515C91638"}),Object(i.a)(a,u.e,{ABI:o.a,address:"0x27D99F499085B5413f6F6553A6Fd821d1452B2E9"}),Object(i.a)(a,u.i,{ABI:l.a,address:"0x2242bC8fFbBdf2A7A698D5d46112e08A7FD146b1"}),a);t.a=p},651:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l}));var a=n(650),i=n(200),r=n(649),c=n(58),s=function(e,t,n,s){n(!0);var o=new window.web3.eth.Contract(r.a[c.d].ABI,r.a[c.d].address);o.methods.getByOwner(e).call({from:e}).then((function(r){if(!r.length)return t([]),void n(!1);r.forEach((function(c,l){o.methods.getById(c).call({from:e}).then((function(e){t((function(t){return[].concat(Object(i.a)(t),[Object(a.a)(Object(a.a)({},e),{},{id:c})])})),l===r.length-1&&n(!1)})).catch((function(e){s(!0),n(!1)}))}))})).catch((function(e){s(!0),n(!1)}))},o=function(e,t,n,s){n(!0);var o=new window.web3.eth.Contract(r.a[c.g].ABI,r.a[c.g].address);o.methods.getByOwner(e).call({from:e}).then((function(r){if(!r.length)return t([]),void n(!1);r.forEach((function(c,l){o.methods.getById(c).call({from:e}).then((function(e){t((function(t){return[].concat(Object(i.a)(t),[Object(a.a)(Object(a.a)({},e[0]),{},{id:c})])})),l===r.length-1&&n(!1)})).catch((function(e){s(!0),n(!1)}))}))})).catch((function(e){n(!1),s(!0)}))},l=function(e,t,n,s){n(!0);var o=new window.web3.eth.Contract(r.a[c.g].ABI,r.a[c.g].address);o.methods.getByBuyer(e).call({from:e}).then((function(r){if(!r.length)return t([]),void n(!1);r.forEach((function(c,l){o.methods.getById(c).call({from:e}).then((function(s){s[1].buyer===e&&(t((function(e){return[].concat(Object(i.a)(e),[Object(a.a)(Object(a.a)({},s[0]),{},{id:c})])})),l===r.length-1&&n(!1))})).catch((function(e){s(!0),n(!1)}))}))})).catch((function(e){n(!1),s(!0)}))}},656:function(e,t,n){"use strict";var a=n(2),i=n.n(a),r=n(120),c=n(26),s=n(641),o=n(642),l=n(643),u=n(966),p=n(118),d=n(39),m=n(27),y=n(119);t.a=function(e,t){return Object(r.b)((function(e){return{user:y.a.getUser(e)}}),{requestUser:m.f})((function(n){var r=n.requestUser,m=n.user,y=m.data,b=m.isLoading,f=m.isError;return Object(a.useEffect)((function(){y||r()}),[r,y]),b?i.a.createElement(s.a,{fluid:!0},i.a.createElement(o.a,{className:"my-3 justify-content-center align-content-center align-items-center"},i.a.createElement(l.a,{xl:"auto",sm:"auto"},i.a.createElement(p.e,{size:"large"})))):f?i.a.createElement(s.a,{fluid:!0},i.a.createElement(o.a,{className:"justify-content-center align-content-center align-items-center"},i.a.createElement(l.a,{xl:12,sm:12},i.a.createElement(u.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento dell'account")))):y?i.a.createElement(e,null):i.a.createElement(c.a,{to:{pathname:d.f,state:{from:t}}})}))}},668:function(e){e.exports=JSON.parse('{"a":[{"inputs":[{"internalType":"string","name":"_description","type":"string"}],"name":"register","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"bytes32","name":"_document","type":"bytes32"},{"internalType":"bytes32","name":"_base64","type":"bytes32"}],"name":"registerDocument","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"address","name":"_contractAddress","type":"address"}],"name":"divide","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"getById","outputs":[{"components":[{"internalType":"string","name":"description","type":"string"},{"internalType":"bytes32[]","name":"documents","type":"bytes32[]"},{"internalType":"bytes32[]","name":"hashes","type":"bytes32[]"},{"internalType":"bool","name":"divided","type":"bool"}],"internalType":"struct Land.Data","name":"","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getByOwner","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"getOwnerByLand","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"getTotal","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true}]}')},669:function(e){e.exports=JSON.parse('{"a":[{"inputs":[{"internalType":"uint256","name":"_landId","type":"uint256"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"address","name":"_source","type":"address"}],"name":"register","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_landId","type":"uint256"},{"internalType":"string","name":"_description","type":"string"}],"name":"register","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"bytes32","name":"_document","type":"bytes32"},{"internalType":"bytes32","name":"_base64","type":"bytes32"}],"name":"registerDocument","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_portionId","type":"uint256"},{"internalType":"uint256","name":"_price","type":"uint256"},{"internalType":"uint256","name":"_duration","type":"uint256"},{"internalType":"string","name":"_expectedProduction","type":"string"},{"internalType":"string","name":"_periodicity","type":"string"},{"internalType":"uint256","name":"_expectedMaintenanceCost","type":"uint256"},{"internalType":"uint256","name":"_expectedProdActivityCost","type":"uint256"},{"internalType":"address","name":"_buyer","type":"address"}],"name":"defineTerms","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"address","name":"_buyer","type":"address"},{"internalType":"address","name":"_source","type":"address"}],"name":"sell","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"address","name":"_buyer","type":"address"}],"name":"sell","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"ownershipExpiration","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"getById","outputs":[{"components":[{"internalType":"uint256","name":"land","type":"uint256"},{"internalType":"string","name":"description","type":"string"},{"internalType":"bytes32[]","name":"documents","type":"bytes32[]"},{"internalType":"bytes32[]","name":"hashes","type":"bytes32[]"},{"internalType":"bool","name":"hasValue","type":"bool"}],"internalType":"struct Portion.Data","name":"","type":"tuple"},{"components":[{"internalType":"uint256","name":"price","type":"uint256"},{"internalType":"uint256","name":"duration","type":"uint256"},{"internalType":"string","name":"expectedProduction","type":"string"},{"internalType":"string","name":"periodicity","type":"string"},{"internalType":"uint256","name":"expectedMaintenanceCost","type":"uint256"},{"internalType":"uint256","name":"expectedProdActivityCost","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"buyer","type":"address"}],"internalType":"struct Portion.TermsOfSale","name":"","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"_land","type":"uint256"}],"name":"getByLand","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"getByOwner","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"_buyer","type":"address"}],"name":"getByBuyer","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"getBuyersByPortion","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"getTotal","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"address","name":"_contractAddress","type":"address"}],"name":"registerProduct","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"address","name":"_contractAddress","type":"address"}],"name":"registerProductionActivity","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"address","name":"_contractAddress","type":"address"}],"name":"registerMaintenance","outputs":[],"stateMutability":"nonpayable","type":"function"}]}')},670:function(e){e.exports=JSON.parse('{"a":[{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"address","name":"_source","type":"address"}],"name":"certify","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"string","name":"_description","type":"string"}],"name":"certify","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getByCertifier","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"getById","outputs":[{"components":[{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"portion","type":"uint256"},{"internalType":"address","name":"registeredBy","type":"address"}],"internalType":"struct Recordable.Data","name":"","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"_item","type":"uint256"}],"name":"getByItem","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getByOperator","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"getByPortion","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"getCertificationById","outputs":[{"components":[{"internalType":"string","name":"description","type":"string"},{"internalType":"address","name":"certifier","type":"address"}],"internalType":"struct Certifiable.Certification","name":"","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"getTotal","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"address","name":"_source","type":"address"}],"name":"register","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"register","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"string","name":"_description","type":"string"}],"name":"certifyProduct","outputs":[],"stateMutability":"nonpayable","type":"function"}]}')},671:function(e){e.exports=JSON.parse('{"a":[{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"getById","outputs":[{"components":[{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"portion","type":"uint256"},{"internalType":"address","name":"registeredBy","type":"address"}],"internalType":"struct Recordable.Data","name":"","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getByOperator","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"getByPortion","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"getTotal","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"address","name":"_source","type":"address"}],"name":"register","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"register","outputs":[],"stateMutability":"nonpayable","type":"function"}]}')},672:function(e){e.exports=JSON.parse('{"a":[{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"string","name":"_description","type":"string"},{"internalType":"address","name":"_source","type":"address"}],"name":"certify","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"string","name":"_description","type":"string"}],"name":"certify","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getByCertifier","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"getById","outputs":[{"components":[{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"portion","type":"uint256"},{"internalType":"address","name":"registeredBy","type":"address"}],"internalType":"struct Recordable.Data","name":"","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"_item","type":"uint256"}],"name":"getByItem","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getByOperator","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"getByPortion","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"getCertificationById","outputs":[{"components":[{"internalType":"string","name":"description","type":"string"},{"internalType":"address","name":"certifier","type":"address"}],"internalType":"struct Certifiable.Certification","name":"","type":"tuple"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"getTotal","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"address","name":"_source","type":"address"}],"name":"register","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_description","type":"string"},{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"register","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"string","name":"_description","type":"string"}],"name":"certifyProduction","outputs":[],"stateMutability":"nonpayable","type":"function"}]}')},683:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(198),i=n(2),r=n.n(i),c=n(975),s=n(976),o=n(981),l=n(980),u=function(e){var t=e.elements,n=e.currentElement,u=e.setCurrentElement,p=Object(i.useState)(!1),d=Object(a.a)(p,2),m=d[0],y=d[1],b=Object(i.useCallback)((function(){return y((function(e){return!e}))}),[y]),f=Object(i.useCallback)((function(e){return function(){u(e)}}),[u]),g=Object(i.useMemo)((function(){return t.map((function(e,t){return r.a.createElement(c.a,{disabled:e.disabled,onClick:f(e.type),key:t},e.type)}))}),[f,t]);return r.a.createElement(s.a,{isOpen:m,toggle:b},r.a.createElement(o.a,{caret:!0,block:!0},n),r.a.createElement(l.a,null,g))}},692:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return N})),n.d(t,"a",(function(){return D})),n.d(t,"g",(function(){return k})),n.d(t,"b",(function(){return V}));var a=n(2),i=n.n(a),r=n(970),c=n(971),s=n(972),o=n(973),l=n(974),u=n(118),p=function(e){var t=e.reference,n=e.values,p=e.touched,d=e.errors,m=e.isSubmitting,y=e.handleSubmit,b=e.handleChange,f=e.resetForm,g=e.initialValues;return Object(a.useEffect)((function(){f(g)}),[f,g]),i.a.createElement(r.a,{innerRef:t,onSubmit:y,noValidate:!0},i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"description"},"Descrizione"),i.a.createElement(o.a,{valid:p.description&&!d.description,type:"textarea",name:"description",id:"description",onChange:b,value:n.description}),d.description&&i.a.createElement(l.a,{color:"danger"},d.description)),i.a.createElement(u.b,{type:"submit",disabled:m},"Aggiungi"))},d=n(198),m=n(641),y=n(642),b=n(643),f=n(966),g=n(651),E=function(e){var t=e.reference,n=e.values,p=e.touched,E=e.errors,v=e.isSubmitting,T=e.handleSubmit,h=e.handleChange,O=e.resetForm,j=e.initialValues,_=e.userAddress;Object(a.useEffect)((function(){O(j)}),[O,j]);var C=Object(a.useState)([]),w=Object(d.a)(C,2),S=w[0],x=w[1],M=Object(a.useState)(!1),A=Object(d.a)(M,2),B=A[0],P=A[1],N=Object(a.useState)(!0),z=Object(d.a)(N,2),I=z[0],F=z[1];return Object(a.useEffect)((function(){Object(g.a)(_,x,F,P)}),[_]),I?i.a.createElement(m.a,{fluid:!0},i.a.createElement(y.a,{className:"my-3 justify-content-center align-content-center align-items-center"},i.a.createElement(b.a,{xl:"auto",sm:"auto"},i.a.createElement(u.e,{size:"large"})))):B?i.a.createElement(f.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento dei terreni"):S.length?i.a.createElement(r.a,{innerRef:t,onSubmit:T,noValidate:!0},i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"land"},"Terreno da dividere"),i.a.createElement(o.a,{valid:p.land&&!E.land,type:"select",name:"land",id:"land",onChange:h,value:n.land,disabled:v},i.a.createElement("option",{value:""}),S.map((function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.id," - ",e.description)}))),E.land&&i.a.createElement(l.a,{color:"danger"},E.land)),i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"description"},"Descrizione"),i.a.createElement(o.a,{valid:p.description&&!E.description,type:"textarea",name:"description",id:"description",onChange:h,value:n.description}),E.description&&i.a.createElement(l.a,{color:"danger"},E.description)),i.a.createElement(u.b,{type:"submit",disabled:v},"Aggiungi")):i.a.createElement(f.a,{color:"info",className:"my-3"},"Nessun terreno disponibile per la suddivisione")},v=n(650),T=n(200),h=n(649),O=n(58),j=function(e){var t=e.values,n=e.touched,p=e.errors,g=e.isSubmitting,E=e.handleSubmit,j=e.handleChange,_=e.resetForm,C=e.initialValues,w=e.userAddress,S=Object(a.useState)([]),x=Object(d.a)(S,2),M=x[0],A=x[1],B=Object(a.useState)(!1),P=Object(d.a)(B,2),N=P[0],z=P[1],I=Object(a.useState)(!0),F=Object(d.a)(I,2),D=F[0],k=F[1];return Object(a.useEffect)((function(){_(C)}),[_,C]),Object(a.useEffect)((function(){var e=new window.web3.eth.Contract(h.a[O.g].ABI,h.a[O.g].address);e.methods.getTotal().call({from:w}).then((function(t){(t=parseInt(t))||(A([]),k(!1));for(var n=function(n){e.methods.getById(n).call({from:w}).then((function(e){A((function(t){return[].concat(Object(T.a)(t),[Object(v.a)(Object(v.a)({},e),{},{id:n})])})),n===t-1&&k(!1)})).catch((function(e){z(!0),k(!1)}))},a=0;a<t;a++)n(a)})).catch((function(e){z(!0),k(!1)}))}),[w]),D?i.a.createElement(m.a,{fluid:!0},i.a.createElement(y.a,{className:"my-3 justify-content-center align-content-center align-items-center"},i.a.createElement(b.a,{xl:"auto",sm:"auto"},i.a.createElement(u.e,{size:"large"})))):N?i.a.createElement(f.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento delle porzioni"):M.length?i.a.createElement(r.a,{onSubmit:E,noValidate:!0},i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"portion"},"Porzione relativa all'oggetto della registrazione"),i.a.createElement(o.a,{valid:n.portion&&!p.portion,type:"select",name:"portion",id:"portion",onChange:j,value:t.portion,disabled:g},i.a.createElement("option",{value:""}),M.map((function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.id," - ",e[0].description)}))),p.portion&&i.a.createElement(l.a,{color:"danger"},p.portion)),i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"description"},"Descrizione"),i.a.createElement(o.a,{valid:n.description&&!p.description,type:"textarea",name:"description",id:"description",onChange:j,value:t.description,disabled:g}),p.description&&i.a.createElement(l.a,{color:"danger"},p.description)),i.a.createElement(u.b,{type:"submit",disabled:g},"Aggiungi")):i.a.createElement(f.a,{color:"info",className:"my-3"},"Nessuna porzione di terreno disponibile per registrare l'elemento")},_=n(760),C=function(e){var t=Object(_.a)(Date.now()),n=e.split(".");return"".concat(t,".").concat(n[n.length-1])},w=function(e){var t=e.touched,n=e.errors,r=e.setFieldValue,c=e.isSubmitting,u=Object(a.useCallback)((function(e){e.persist();var t=e.currentTarget.files;if(t&&t.length){var n=t[0],a=new FileReader;a.addEventListener("load",(function(){var e=a.result;r("document",{file:n,name:C(n.name),base64:e})})),a.readAsDataURL(n)}else r("document",{})}),[r]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{for:"documents"},"Documenti"),i.a.createElement(y.a,{className:"my-3",form:!0},i.a.createElement(b.a,{xl:12,xs:12},i.a.createElement(o.a,{valid:t.document&&n.document,type:"file",name:"document",id:"document",onChange:u,disabled:c}),n.document&&(n.document.name||n.document.file)&&i.a.createElement(l.a,{color:"danger"},n.document.name||n.document.file||n.document.base64)),i.a.createElement(b.a,null,i.a.createElement(l.a,null,"Il documento \xe8 obbligatorio"))))},S=n(812),x=n(813),M=n(814),A=n(153),B=n(687),P=n(761),N=function(e){var t=e.isOpen,n=e.setIsOpen,r=e.hasErrors;Object(a.useEffect)((function(){setTimeout((function(){t&&n(!1)}),5e3)}),[t,n]);var c=Object(a.useCallback)((function(){return i.a.createElement(S.a,{style:{position:"fixed",bottom:"10%",right:"10%"},color:"primary",isOpen:t},i.a.createElement(x.a,null,i.a.createElement(A.a,{icon:B.faCheck,color:"#006D77"})," Registrazione completata"),i.a.createElement(M.a,null,"L'elemento \xe8 stato aggiunto con successo"))}),[t]),s=Object(a.useCallback)((function(){return i.a.createElement(S.a,{style:{position:"fixed",bottom:"10%",right:"10%"},color:"primary",isOpen:t},i.a.createElement(x.a,null,i.a.createElement(A.a,{icon:P.faTimes,color:"#D9534F"})," Si \xe8 verificato un errore durante la registrazione"),i.a.createElement(M.a,null,"L'elemento non \xe8 stato aggiunto"))}),[t]);return r?i.a.createElement(s,null):i.a.createElement(c,null)},z=n(977),I=n(979),F=n(762),D=function(e){var t=e.values,n=e.touched,p=e.errors,E=e.isSubmitting,v=e.handleSubmit,T=e.handleChange,h=e.initialValues,O=e.resetForm,j=e.userAddress,_=Object(a.useState)([]),C=Object(d.a)(_,2),w=C[0],S=C[1],x=Object(a.useState)(!1),M=Object(d.a)(x,2),B=M[0],P=M[1],N=Object(a.useState)(!0),D=Object(d.a)(N,2),k=D[0],V=D[1];return Object(a.useEffect)((function(){O(h)}),[O,h]),Object(a.useEffect)((function(){!E&&Object(g.c)(j,S,V,P)}),[j,S,V,P,E]),k?i.a.createElement(m.a,{fluid:!0},i.a.createElement(y.a,{className:"my-3 justify-content-center align-content-center align-items-center"},i.a.createElement(b.a,{xl:"auto",sm:"auto"},i.a.createElement(u.e,{size:"large"})))):B?i.a.createElement(f.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento delle porzioni di terreno"):w.length?i.a.createElement(r.a,{onSubmit:v,noValidate:!0},i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"portion"},"Porzione relativa"),i.a.createElement(o.a,{valid:n.portion&&!p.portion,type:"select",name:"portion",id:"portion",onChange:T,value:t.portion,disabled:E},i.a.createElement("option",{value:""}),w.map((function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.id," - ",e.description)}))),p.portion&&i.a.createElement(l.a,{color:"danger"},p.portion)),i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"address"},"Address acquirente"),i.a.createElement(o.a,{valid:n.address&&!p.address,type:"text",name:"address",id:"address",placeholder:"0xa1b2c3d4e5f6...",onChange:T,value:t.address,disabled:E}),p.address&&i.a.createElement(l.a,{color:"danger"},p.address)),i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"price"},"Prezzo"),i.a.createElement(z.a,null,i.a.createElement(I.a,{addonType:"prepend",className:"align-items-center mx-3"},i.a.createElement(A.a,{icon:F.faEuroSign,size:"lg"})),i.a.createElement(o.a,{valid:n.price&&!p.price,type:"number",name:"price",id:"price",onChange:T,value:t.price,disabled:E})),p.price&&i.a.createElement(l.a,{color:"danger"},p.price)),i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"duration"},"Durata"),i.a.createElement(o.a,{valid:n.duration&&!p.duration,type:"number",name:"duration",id:"duration",onChange:T,value:t.duration,disabled:E}),i.a.createElement(l.a,null,"Inserire 0 se perpetuo, altrimenti indicare il numero di anni"),p.duration&&i.a.createElement(l.a,{color:"danger"},p.duration)),i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"expectedProduction"},"Produzione attesa"),i.a.createElement(o.a,{valid:n.expectedProduction&&!p.expectedProduction,type:"text",name:"expectedProduction",id:"expectedProduction",onChange:T,value:t.expectedProduction,disabled:E}),p.expectedProduction&&i.a.createElement(l.a,{color:"danger"},p.expectedProduction)),i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"periodicity"},"Periodicit\xe0"),i.a.createElement(o.a,{valid:n.periodicity&&!p.periodicity,type:"text",name:"periodicity",id:"periodicity",onChange:T,value:t.periodicity,disabled:E}),i.a.createElement(l.a,null,"Ogni estate, ..."),p.periodicity&&i.a.createElement(l.a,{color:"danger"},p.periodicity)),i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"expMainActivityCost"},"Costi di manutenzione attesi"),i.a.createElement(z.a,null,i.a.createElement(I.a,{addonType:"prepend",className:"align-items-center mx-3"},i.a.createElement(A.a,{icon:F.faEuroSign,size:"lg"})),i.a.createElement(o.a,{valid:n.expMainActivityCost&&!p.expMainActivityCost,type:"number",name:"expMainActivityCost",id:"expMainActivityCost",onChange:T,value:t.expMainActivityCost,disabled:E})),p.expMainActivityCost&&i.a.createElement(l.a,{color:"danger"},p.expMainActivityCost)),i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"expProdActivityCost"},"Costi di produzione attesi"),i.a.createElement(z.a,null,i.a.createElement(I.a,{addonType:"prepend",className:"align-items-center mx-3"},i.a.createElement(A.a,{icon:F.faEuroSign,size:"lg"})),i.a.createElement(o.a,{valid:n.expProdActivityCost&&!p.expProdActivityCost,type:"number",name:"expProdActivityCost",id:"expProdActivityCost",onChange:T,value:t.expProdActivityCost,disabled:E})),p.expProdActivityCost&&i.a.createElement(l.a,{color:"danger"},p.expProdActivityCost)),i.a.createElement(u.b,{type:"submit",disabled:E},"Aggiungi")):i.a.createElement(f.a,{color:"info",className:"my-3"},"Nessuna porzione di terreno disponibile per il trasferimento di propriet\xe0 o per la vendita")},k=function(e){var t=e.values,n=e.touched,p=e.errors,E=e.isSubmitting,v=e.handleSubmit,T=e.handleChange,h=e.resetForm,O=e.initialValues,j=e.userAddress,_=Object(a.useState)([]),C=Object(d.a)(_,2),w=C[0],S=C[1],x=Object(a.useState)(!1),M=Object(d.a)(x,2),A=M[0],B=M[1],P=Object(a.useState)(!0),N=Object(d.a)(P,2),z=N[0],I=N[1];return Object(a.useEffect)((function(){h(O)}),[h,O]),Object(a.useEffect)((function(){!E&&Object(g.c)(j,S,I,B),!E&&Object(g.b)(j,S,I,B)}),[j,S,I,B,E]),z?i.a.createElement(m.a,{fluid:!0},i.a.createElement(y.a,{className:"my-3 justify-content-center align-content-center align-items-center"},i.a.createElement(b.a,{xl:"auto",sm:"auto"},i.a.createElement(u.e,{size:"large"})))):A?i.a.createElement(f.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento delle porzioni di terreno"):w.length?i.a.createElement(r.a,{onSubmit:v,noValidate:!0},i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"portion"},"Porzione relativa"),i.a.createElement(o.a,{valid:n.portion&&!p.portion,type:"select",name:"portion",id:"portion",onChange:T,value:t.portion,disabled:E},i.a.createElement("option",{value:""}),w.map((function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.id," - ",e.description)}))),p.portion&&i.a.createElement(l.a,{color:"danger"},p.portion)),i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"address"},"Address"),i.a.createElement(o.a,{valid:n.address&&!p.address,type:"text",name:"address",id:"address",placeholder:"0xa1b2c3d4e5f6...",onChange:T,value:t.address,disabled:E}),p.address&&i.a.createElement(l.a,{color:"danger"},p.address)),i.a.createElement(u.b,{type:"submit",disabled:E},"Trasferisci")):i.a.createElement(f.a,{color:"info",className:"my-3"},"Nessuna porzione di terreno disponibile per il trasferimento di propriet\xe0 o per la vendita")},V=function(e){var t=e.reference,n=e.values,p=e.touched,E=e.errors,v=e.isSubmitting,T=e.handleSubmit,h=e.handleChange,j=e.setFieldValue,_=e.resetForm,C=e.initialValues,S=e.userAddress;Object(a.useEffect)((function(){_(C)}),[_,C]);var x=Object(a.useState)([]),M=Object(d.a)(x,2),A=M[0],B=M[1],P=Object(a.useState)(!1),N=Object(d.a)(P,2),z=N[0],I=N[1],F=Object(a.useState)(!0),D=Object(d.a)(F,2),k=D[0],V=D[1];return Object(a.useEffect)((function(){switch(V(!0),B([]),n.element){case O.d:Object(g.a)(S,B,V,I);break;case O.g:Object(g.c)(S,B,V,I);break;default:V(!1)}}),[n.element,S]),k?i.a.createElement(m.a,{fluid:!0},i.a.createElement(y.a,{className:"my-3 justify-content-center align-content-center align-items-center"},i.a.createElement(b.a,{xl:"auto",sm:"auto"},i.a.createElement(u.e,{size:"large"})))):i.a.createElement(i.a.Fragment,null,!A.length&&i.a.createElement(f.a,{color:"info",className:"my-3"},"Nessun elemento disponibile per la registrazione di documenti"),z&&i.a.createElement(f.a,{color:"danger",className:"my-3"},"Si \xe8 verificato un errore nel caricamento degli elementi"),i.a.createElement(r.a,{innerRef:t,onSubmit:T,noValidate:!0},i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"element"},"Elemento per il quale registrare il documento"),i.a.createElement(o.a,{valid:p.element&&!E.element,type:"select",name:"element",id:"element",onChange:h,value:n.element,disabled:v},i.a.createElement("option",{value:""}),i.a.createElement("option",{value:O.d},O.d),i.a.createElement("option",{value:O.g},O.g)),E.element&&i.a.createElement(l.a,{color:"danger"},E.element)),i.a.createElement(c.a,null,i.a.createElement(s.a,{for:"id"},n.element),i.a.createElement(o.a,{valid:p.id&&!E.id,type:"select",name:"id",id:"id",onChange:h,value:n.id,disabled:v},i.a.createElement("option",{value:""}),A.map((function(e,t){return i.a.createElement("option",{key:t,value:e.id},e.id," - ",e.description)}))),E.id&&i.a.createElement(l.a,{color:"danger"},E.id)),i.a.createElement(c.a,null,i.a.createElement(w,{isSubmitting:v,setFieldValue:j,values:n,errors:E,handleChange:h,touched:p})),i.a.createElement(u.b,{type:"submit",disabled:v},"Aggiungi")))}},710:function(e,t,n){"use strict";var a=n(2),i=n.n(a),r=n(641),c=n(642),s=n(643),o=n(978);t.a=function(){return i.a.createElement(r.a,{fluid:!0},i.a.createElement(c.a,{className:"my-3 justify-content-center align-content-center align-items-center"},i.a.createElement(s.a,{xl:"12",sm:"12"},i.a.createElement(o.a,{animated:!0,value:"100",className:"progress-bar-custom"}))))}},729:function(e,t,n){"use strict";var a=n(198),i=n(2),r=n.n(i),c=n(120),s=n(665),o=n(663),l=n(641),u=n(642),p=n(643),d=n(763),m=n.n(d),y=n(970),b=n(971),f=n(972),g=n(973),E=n(974),v=n(118),T=function(e){var t=e.values,n=e.touched,a=e.errors,i=e.isSubmitting,c=e.handleSubmit,s=e.handleChange;return r.a.createElement(y.a,{onSubmit:c,noValidate:!0},r.a.createElement(b.a,null,r.a.createElement(f.a,{for:"phrase"},"Seed Phrase"),r.a.createElement(g.a,{valid:n.phrase&&!a.phrase,type:"textarea",name:"phrase",id:"phrase",onChange:s,value:t.phrase}),a.phrase&&r.a.createElement(E.a,{color:"danger"},a.phrase),r.a.createElement(E.a,null,"Inserire la frase composta da 12 parole utilizzata per sbloccare il wallet")),r.a.createElement(v.b,{type:"submit",disabled:i},"Conferma"))},h=n(119);t.a=function(e){return Object(c.b)((function(e){return{user:h.a.getUser(e)}}))((function(t){var n=t.user.data.username,c=Object(i.useState)("HDWalletProvider"===window.web3.currentProvider.constructor.name),d=Object(a.a)(c,2),y=d[0],b=d[1],f=Object(i.useCallback)((function(e,t){var a=e.phrase,i=t.setSubmitting,r=t.setErrors;i(!1);try{var c=new m.a({mnemonic:a,providerOrUrl:"http://localhost:7545",shareNonce:!1});c.getAddresses().includes(n.toLowerCase())?(window.web3.setProvider(c),window.web3.eth.defaultAccount=n,b(!0)):r({phrase:"L'address dell'account non \xe8 incluso in questo wallet"})}catch(s){r({phrase:s.message})}}),[n,b]);return y?r.a.createElement(e,null):r.a.createElement(l.a,{fluid:!0},r.a.createElement(u.a,{className:"justify-content-center align-content-center align-items-center"},r.a.createElement(p.a,{xl:8,sm:8},r.a.createElement("h3",null,"Seed Phrase"),r.a.createElement("p",null,"Inserire la Seed Phrase del proprio wallet per continuare"))),r.a.createElement(u.a,{className:"justify-content-center align-content-center align-items-center"},r.a.createElement(p.a,{xl:8,sm:8},r.a.createElement(s.a,{initialValues:{phrase:"",index:0},validationSchema:Object(o.d)().shape({index:Object(o.c)().min(0,"L'indice deve essere maggiore o uguale a 0").integer("L'indice deve essere un numero intero").required("Inserire l'indice dell'address"),phrase:Object(o.f)().required("Inserire la seed phrase.").matches(/([a-z]*){12}/,"La frase deve contenere esattamente 12 parole")}),onSubmit:f},(function(e){return r.a.createElement(T,e)})))))}))}},787:function(e,t){},792:function(e,t){}}]);
//# sourceMappingURL=9.f79215cd.chunk.js.map