{"version":3,"sources":["features/discover/containers/ElementListContainer.js","features/discover/map/index.js","features/discover/containers/DiscoverContainer.js","features/discover/index.js","shared/views/DiscoverLand.js","shared/views/ActivityProductOwnershipHandling.js","shared/views/DiscoverPortion.js","shared/views/LandPortionHandling.js","shared/views/CertificationHandling.js","shared/views/DiscoverActivityProduct.js","shared/element-dropdown/ElementSelector.js"],"names":["ElementListContainer","ElementWrapper","elements","Row","className","Col","xl","sm","ListGroup","flush","map","props","index","ListGroupItem","key","elementWrappers","LAND","PORTION","PRODUCT","element","PROD_ACTIVITIES","MAINTENANCE_ACTIVITIES","connect","state","user","Selector","getUser","useState","currentElement","setCurrentElement","setElements","fetchErrors","setFetchErrors","isLoading","setIsLoading","useEffect","userAddress","contractInstance","window","web3","eth","Contract","contracts","ABI","address","methods","getTotal","call","from","then","total","parseInt","i","getById","result","push","id","catch","error","handleFetching","data","attributes","Container","fluid","type","size","Alert","color","length","withAuthentication","Title","StyledTitle","DiscoverLand","description","documents","align","tag","href","target","isOpen","setIsOpen","setData","hasErrors","setHasErrors","handleClick","useCallback","Object","keys","forEach","method","items","item","onClick","Modal","toggle","ModalHeader","ModalBody","upperIndex","lowerIndex","portion","registeredBy","DiscoverPortion","rest","useMemo","land","price","periodicity","duration","expectedProduction","expectedMaintenanceCost","expectedProdActivityCost","isLandOpen","setIsLandOpen","isHistoryOpen","setIsHistoryOpen","isDetailsOpen","setIsDetailsOpen","handleDetailsClick","icon","faChevronUp","faChevronDown","Collapse","toFixed","Date","toLocaleDateString","viewToRender","getByItem","getCertificationById","certification","certifier","DiscoverActivityProduct","isPortionOpen","setIsPortionOpen","ElementSelector","value","choices","DropdownItem","disabled","Dropdown","DropdownToggle","caret","block","DropdownMenu"],"mappings":"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","file":"static/js/12.3cc550a9.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Row, Col, ListGroup, ListGroupItem } from 'reactstrap';\n\n/**\n * Container for the list of element (products, lands, ...).\n *\n * @param ElementWrapper\n * @param elements\n * @returns {JSX.Element}\n * @constructor\n * @component\n */\nconst ElementListContainer = ({ ElementWrapper, elements }) => (\n\t<Row className=\"my-3\">\n\t\t<Col xl={12} sm={12}>\n\t\t\t<ListGroup flush>\n\t\t\t{elements.map((props, index) => (\n\t\t\t\t<ListGroupItem key={index}>\n\t\t\t\t\t<ElementWrapper {...props} />\n\t\t\t\t</ListGroupItem>\n\t\t\t))}\n\t\t\t</ListGroup>\n\t\t</Col>\n\t</Row>\n);\n\nElementListContainer.propTypes = {\n\t/**\n\t * Wrapper that shows element information\n\t */\n\tElementWrapper: PropTypes.func,\n\t/**\n\t * List of elements to show\n\t */\n\telements: PropTypes.array\n}\n\nexport default ElementListContainer;\n","import React from 'react';\nimport {\n\tDiscoverLand,\n\tDiscoverPortion,\n\tDiscoverActivityProduct,\n} from '../../../shared/views';\n\nimport {\n\tLAND,\n\tPORTION,\n\tPRODUCT,\n\tPROD_ACTIVITIES,\n\tMAINTENANCE_ACTIVITIES\n} from '../../../shared/values';\nimport contracts from '../../../shared/contracts';\n\nconst elementWrappers = {\n\t[LAND]: (props) => <DiscoverLand {...props} />,\n\t[PORTION]: (props) => <DiscoverPortion {...props} />,\n\t[PRODUCT]: (props) => <DiscoverActivityProduct {...props} element={PRODUCT}/>,\n\t[PROD_ACTIVITIES]: (props) => <DiscoverActivityProduct {...props} element={PROD_ACTIVITIES} />,\n\t[MAINTENANCE_ACTIVITIES]: (props) => <DiscoverActivityProduct {...props} element={MAINTENANCE_ACTIVITIES} />\n}\n\nconst handleFetching = (userAddress, setElements, setFetchErrors, setIsLoading, element) => {\n\tconst elements = [];\n\n\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\tcontractInstance.methods.getTotal()\n\t\t.call({ from : userAddress })\n\t\t.then((total) => {\n\t\t\ttotal = parseInt(total);\n\t\t\tif (!total) {\n\t\t\t\tsetElements(elements);\n\t\t\t\tsetFetchErrors(false);\n\t\t\t\tsetIsLoading(false);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < total; i++) {\n\t\t\t\tcontractInstance.methods.getById(i)\n\t\t\t\t\t.call({ from: userAddress })\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\telements.push({\n\t\t\t\t\t\t\t...result,\n\t\t\t\t\t\t\tid: i\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (i === total - 1) {\n\t\t\t\t\t\t\tsetElements(elements);\n\t\t\t\t\t\t\tsetFetchErrors(false);\n\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tsetFetchErrors(true);\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t})\n\t\t.catch((error) => {\n\t\t\tsetFetchErrors(true);\n\t\t\tsetIsLoading(false);\n\t\t});\n};\n\nexport { elementWrappers, handleFetching };\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Container, Row, Col, Alert } from 'reactstrap';\nimport { connect } from 'react-redux';\n\nimport ElementListContainer from './ElementListContainer';\nimport { ElementSelector } from '../../../shared/element-dropdown';\n\nimport {\n\tLAND,\n\tPORTION,\n\tPROD_ACTIVITIES,\n\tPRODUCT,\n\tMAINTENANCE_ACTIVITIES\n} from '../../../shared/values';\n\nimport { elementWrappers, handleFetching } from '../map';\n\nimport { Selector } from '../../../store/user/reducer';\nimport { StyledSpinner } from '../../../shared/styled';\n\n/**\n * Discover section, container for elements details.\n *\n * @param user\n * @returns {JSX.Element}\n * @constructor\n * @component\n */\nconst DiscoverContainer = ({ user }) => {\n\tconst [currentElement, setCurrentElement] = useState(LAND);\n\n\tconst [elements, setElements] = useState([]);\n\tconst [fetchErrors, setFetchErrors] = useState(false);\n\tconst [isLoading, setIsLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\thandleFetching(user.data.attributes['custom:eth_address'], setElements, setFetchErrors, setIsLoading, currentElement);\n\t}, [currentElement, user]);\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Row className=\"justify-content-between align-items-center\">\n\t\t\t\t<Col>\n\t\t\t\t\t<h1>Esplora {currentElement}</h1>\n\t\t\t\t</Col>\n\t\t\t\t<Col xl={5} sm={12} className=\"justify-content-center\">\n\t\t\t\t\t<ElementSelector\n\t\t\t\t\t\telements={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: LAND\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: PORTION\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: PROD_ACTIVITIES\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: PRODUCT\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: MAINTENANCE_ACTIVITIES\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tcurrentElement={currentElement}\n\t\t\t\t\t\tsetCurrentElement={setCurrentElement}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t{isLoading && (\n\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t<Col xl={1} sm={1}>\n\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t\t{fetchErrors && (\n\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t\t{!elements.length && (\n\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t<Alert color=\"info\" className=\"my-3\">Nessun elemento disponibile</Alert>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t)}\n\t\t\t<ElementListContainer\n\t\t\t\telements={elements}\n\t\t\t\tElementWrapper={elementWrappers[currentElement]}\n\t\t\t/>\n\t\t</Container>\n\t)\n\n};\n\nDiscoverContainer.propTypes = {\n\t/**\n\t * Logged in user\n\t */\n\tuser: PropTypes.object\n};\n\nconst mapStateToProps = (state) => ({\n\tuser: Selector.getUser(state)\n});\n\nexport default connect(mapStateToProps)(DiscoverContainer);\n","import React from 'react';\n\nimport DiscoverContainer from './containers';\nimport withAuthentication from '../../shared/auth';\n\nconst Discover = () => <DiscoverContainer />;\n\nexport default withAuthentication(Discover);\n","import React from 'react';\nimport { Container, Row, Col, ListGroup, ListGroupItem } from 'reactstrap';\n\nimport { StyledTitle } from '../styled';\n\nconst Title = StyledTitle('h5');\n\nconst DiscoverLand = ({ description, documents }) => (\n\t<Container fluid>\n\t\t<Row className=\"align-items-center my-3\">\n\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t<Title>Descrizione</Title>\n\t\t\t</Col>\n\t\t\t<Col>\n\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t</Col>\n\t\t</Row>\n\t\t{documents && (\n\t\t<Row className=\"align-items-center my-3\">\n\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t<Title>Documenti</Title>\n\t\t\t</Col>\n\t\t\t<Col>\n\t\t\t\t<ListGroup flush>\n\t\t\t\t\t<ListGroupItem className=\"text-success\" tag=\"a\" href={documents} target=\"_blank\">Documento allegato</ListGroupItem>\n\t\t\t\t</ListGroup>\n\t\t\t</Col>\n\t\t</Row>)}\n\t</Container>\n);\n\nexport default DiscoverLand;\n","import React, { useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\n\nimport { Col, Container, Modal, ModalBody, ModalHeader, Row, Alert } from 'reactstrap';\n\nimport DiscoverActivityProduct from './DiscoverActivityProduct';\nimport { StyledFilledButton, StyledSpinner, StyledTitle } from '../styled';\n\nimport contracts from '../contracts';\nimport { MAINTENANCE_ACTIVITIES, PORTION, PROD_ACTIVITIES, PRODUCT } from '../values';\nimport { Selector } from '../../store/user/reducer';\n\nconst Title = StyledTitle('h5');\n\nconst ActivityProductOwnershipHandling = ({ id, isOpen, setIsOpen, user: { data: { attributes }} }) => {\n\tconst userAddress = attributes['custom:eth_address'];\n\n\tconst [data, setData] = useState({\n\t\t[PORTION]: [],\n\t\t[PRODUCT]: [],\n\t\t[PROD_ACTIVITIES]: [],\n\t\t[MAINTENANCE_ACTIVITIES]: []\n\t});\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [hasErrors, setHasErrors] = useState(false);\n\n\tconst handleClick = useCallback(() => {\n\t\tsetIsOpen((isOpen) => !isOpen);\n\t\tif (!isOpen) {\n\n\t\t\tObject.keys(data).forEach((element) => {\n\t\t\t\tconst method = element === PORTION ? 'getBuyersByPortion' : 'getByPortion';\n\t\t\t\tsetIsLoading(true);\n\t\t\t\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\t\t\t\tcontractInstance.methods[method](id)\n\t\t\t\t\t.call({ from: userAddress })\n\t\t\t\t\t.then((result) => {\n\t\t\t\t\t\tif (element === PORTION) {\n\t\t\t\t\t\t\tsetData((data) => ({\n\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t[element]: result\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (result.length) {\n\t\t\t\t\t\t\t\tconst items = [];\n\n\t\t\t\t\t\t\t\tresult.forEach((id, index) => {\n\t\t\t\t\t\t\t\t\tcontractInstance.methods.getById(id)\n\t\t\t\t\t\t\t\t\t\t.call({ from: userAddress })\n\t\t\t\t\t\t\t\t\t\t.then((item) => {\n\t\t\t\t\t\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\tif (index === result.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\t\tsetData((data) => ({\n\t\t\t\t\t\t\t\t\t\t\t\t\t...data,\n\t\t\t\t\t\t\t\t\t\t\t\t\t[element]: items\n\t\t\t\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t});\n\n\t\t\t});\n\t\t}\n\n\t}, [id, userAddress, isOpen, setIsOpen, setIsLoading, data, setData]);\n\n\treturn (\n\t\t<>\n\t\t\t<StyledFilledButton onClick={handleClick}>\n\t\t\t\tSfoglia cronologia\n\t\t\t</StyledFilledButton>\n\t\t\t<Modal className=\"modal-lg\" isOpen={isOpen} toggle={handleClick}>\n\t\t\t\t<ModalHeader toggle={handleClick}>\n\t\t\t\t\tDettagli Porzione #{id}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={1} sm={1}>\n\t\t\t\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasErrors && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{Object.keys(data).map((element, upperIndex) => {\n\t\t\t\t\t\tif (element === PORTION) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Container fluid key={upperIndex}>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Title>Possessori</Title>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col xl={9} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t{data[PORTION].map((address, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<p align=\"justify\" key={index}>{address}</p>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn data[element].map(({id, description, portion, registeredBy}, lowerIndex) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DiscoverActivityProduct\n\t\t\t\t\t\t\t\t\tkey={`${upperIndex}${lowerIndex}`}\n\t\t\t\t\t\t\t\t\telement={element}\n\t\t\t\t\t\t\t\t\tdescription={description}\n\t\t\t\t\t\t\t\t\tportion={portion}\n\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\tregisteredBy={registeredBy}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t})}\n\t\t\t\t</ModalBody>\n\t\t\t</Modal>\n\t\t</>\n\t)\n};\n\nexport default connect((state) => ({ user: Selector.getUser(state) }))(ActivityProductOwnershipHandling);\n","import React, { useCallback, useMemo, useState } from 'react';\nimport { Collapse, Col, Container, Row, ListGroup, ListGroupItem } from 'reactstrap';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronDown } from '@fortawesome/free-solid-svg-icons/faChevronDown';\nimport { faChevronUp } from '@fortawesome/free-solid-svg-icons/faChevronUp';\n\nimport { StyledLinkButton, StyledTitle } from '../styled';\n\nimport { LAND } from '../values';\nimport LandPortionHandling from './LandPortionHandling';\nimport ActivityProductOwnershipHandling from './ActivityProductOwnershipHandling';\n\nconst Title = StyledTitle('h5');\n\nconst DiscoverPortion = ({ id, ...rest }) => {\n\tconst {\n\t\tland,\n\t\tdescription,\n\t\tdocuments,\n\t\tprice,\n\t\tperiodicity,\n\t\tduration,\n\t\texpectedProduction,\n\t\texpectedMaintenanceCost,\n\t\texpectedProdActivityCost\n\t} = useMemo(() => {\n\t\tif (rest[0] && rest[1]) {\n\t\t\treturn {\n\t\t\t\t...rest[0],\n\t\t\t\t...rest[1]\n\t\t\t};\n\t\t} else {\n\t\t\treturn {};\n\t\t}\n\t}, [rest]);\n\n\tconst [isLandOpen, setIsLandOpen] = useState(false);\n\tconst [isHistoryOpen, setIsHistoryOpen] = useState(false);\n\n\tconst [isDetailsOpen, setIsDetailsOpen] = useState(false);\n\tconst handleDetailsClick = useCallback(() => {\n\t\tsetIsDetailsOpen((isOpen) => !isOpen);\n\t}, [setIsDetailsOpen])\n\tconst icon = useMemo(() => isDetailsOpen ? faChevronUp : faChevronDown, [isDetailsOpen]);\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Row className=\"align-items-center justify-content-end my-3\">\n\t\t\t\t<Col xl={9} sm={12} align=\"end\">\n\t\t\t\t\t<ActivityProductOwnershipHandling\n\t\t\t\t\t\tsetIsOpen={setIsHistoryOpen}\n\t\t\t\t\t\tisOpen={isHistoryOpen}\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Terreno</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<LandPortionHandling\n\t\t\t\t\t\tid={land}\n\t\t\t\t\t\tisOpen={isLandOpen}\n\t\t\t\t\t\tsetIsOpen={setIsLandOpen}\n\t\t\t\t\t\telement={LAND}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Descrizione</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t{documents && (\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Documenti</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<ListGroup flush>\n\t\t\t\t\t\t<ListGroupItem className=\"text-success\" tag=\"a\" href={documents} target=\"_blank\">Documento allegato</ListGroupItem>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t</Col>\n\t\t\t</Row>)}\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col align=\"center\">\n\t\t\t\t\t<StyledLinkButton color=\"link\" onClick={handleDetailsClick}>\n\t\t\t\t\t\tDati del contratto <FontAwesomeIcon icon={icon} />\n\t\t\t\t\t</StyledLinkButton>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Collapse isOpen={isDetailsOpen}>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Canone</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">€ {price && (parseInt(price)/100).toFixed(2)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Durata</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">{duration ? `Fino al ${new Date(parseInt(duration)).toLocaleDateString()}` : 'Perpetua'}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Produzione attesa</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">{expectedProduction}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Periodicità</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">{periodicity}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Costi di manutenzione attesi</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">€ {expectedMaintenanceCost && (parseInt(expectedMaintenanceCost)/100).toFixed(2)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t<Title>Costi di produzione attesi</Title>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<p align=\"justify\">€ {expectedProdActivityCost && (parseInt(expectedProdActivityCost)/100).toFixed(2)}</p>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Collapse>\n\t\t</Container>\n\t);\n};\n\nexport default DiscoverPortion;\n","import React, { useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\nimport { Alert, Col, Container, Modal, ModalBody, ModalHeader, Row } from 'reactstrap';\n\nimport DiscoverLand from './DiscoverLand';\nimport DiscoverPortion from './DiscoverPortion';\nimport { StyledLinkButton, StyledSpinner } from '../styled';\n\nimport contracts from '../contracts';\nimport { LAND, PORTION } from '../values';\n\nimport { Selector } from '../../store/user/reducer';\n\nconst viewToRender = (props) => ({\n\t[LAND]: <DiscoverLand {...props} />,\n\t[PORTION]: <DiscoverPortion {...props} />\n});\n\nconst LandPortionHandling = ({ id, isOpen, setIsOpen, element, user: { data: { attributes }} }) => {\n\tconst userAddress = attributes['custom:eth_address'];\n\n\tconst [data, setData] = useState({});\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [hasErrors, setHasErrors] = useState(false);\n\n\tconst handleClick = useCallback(() => {\n\t\tsetIsOpen((isOpen) => !isOpen);\n\t\tif (!isOpen) {\n\t\t\tsetIsLoading(true);\n\n\t\t\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\t\t\tcontractInstance.methods.getById(id)\n\t\t\t\t.call({ from: userAddress })\n\t\t\t\t.then((result) => {\n\t\t\t\t\tsetData({\n\t\t\t\t\t\t...result,\n\t\t\t\t\t\tid\n\t\t\t\t\t});\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\n\t}, [id, userAddress, element, isOpen, setIsOpen, setIsLoading, setData]);\n\n\treturn (\n\t\t<>\n\t\t\t<StyledLinkButton color=\"link\" onClick={handleClick}>\n\t\t\t\t{element} #{id}\n\t\t\t</StyledLinkButton>\n\t\t\t<Modal className=\"modal-lg\" isOpen={isOpen} toggle={handleClick}>\n\t\t\t\t<ModalHeader toggle={handleClick}>\n\t\t\t\t\tDettagli {element} #{id}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={1} sm={1}>\n\t\t\t\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasErrors && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{viewToRender(data)[element]}\n\t\t\t\t</ModalBody>\n\t\t\t</Modal>\n\t\t</>\n\t)\n};\n\nexport default connect((state) => ({ user: Selector.getUser(state) }))(LandPortionHandling);\n","import React, { useState, useCallback } from 'react';\nimport { connect } from 'react-redux';\n\nimport { Col, Container, ListGroup, ListGroupItem, Modal, ModalBody, ModalHeader, Row, Alert } from 'reactstrap';\nimport { StyledFilledButton, StyledSpinner, StyledTitle } from '../styled';\n\nimport contracts from '../contracts';\nimport { Selector } from '../../store/user/reducer';\n\nconst Title = StyledTitle('h5');\n\nconst CertificationHandling = ({ id, isOpen, setIsOpen, element, user: { data: { attributes }} }) => {\n\tconst userAddress = attributes['custom:eth_address'];\n\n\tconst [data, setData] = useState([]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [hasErrors, setHasErrors] = useState(false);\n\n\tconst handleClick = useCallback(() => {\n\t\tsetIsOpen((isOpen) => !isOpen);\n\t\tif (!isOpen) {\n\t\t\tsetIsLoading(true);\n\n\t\t\tconst contractInstance = new window.web3.eth.Contract(contracts[element].ABI, contracts[element].address);\n\t\t\tcontractInstance.methods.getByItem(id)\n\t\t\t\t.call({ from: userAddress })\n\t\t\t\t.then((result) => {\n\t\t\t\t\tif (result.length) {\n\t\t\t\t\t\tif (!hasErrors) {\n\t\t\t\t\t\t\tresult.forEach((id, index) => {\n\t\t\t\t\t\t\t\tcontractInstance.methods.getCertificationById(id)\n\t\t\t\t\t\t\t\t\t.call({ from: userAddress })\n\t\t\t\t\t\t\t\t\t.then((certification) => {\n\t\t\t\t\t\t\t\t\t\tsetData((data) => {\n\t\t\t\t\t\t\t\t\t\t\tdata.push(certification);\n\t\t\t\t\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tif (index === result.length - 1) {\n\t\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetHasErrors(true);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\n\t}, [id, userAddress, element, isOpen, setIsOpen, setIsLoading, setData, hasErrors, setHasErrors]);\n\n\treturn (\n\t\t<>\n\t\t\t<StyledFilledButton onClick={handleClick}>\n\t\t\t\tSfoglia cronologia\n\t\t\t</StyledFilledButton>\n\t\t\t<Modal className=\"modal-lg\" isOpen={isOpen} toggle={handleClick}>\n\t\t\t\t<ModalHeader toggle={handleClick}>\n\t\t\t\t\tDettagli {element} #{id}</ModalHeader>\n\t\t\t\t<ModalBody>\n\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={1} sm={1}>\n\t\t\t\t\t\t\t\t\t<StyledSpinner size=\"large\"/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t{hasErrors && (\n\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t<Row className=\"justify-content-center align-content-center align-items-center\">\n\t\t\t\t\t\t\t\t<Col xl={12} sm={12}>\n\t\t\t\t\t\t\t\t\t<Alert color=\"danger\" className=\"my-3\">Si è verificato un errore nel caricamento degli elementi</Alert>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t)}\n\t\t\t\t\t<ListGroup flush>\n\t\t\t\t\t\t{data.map(({ description, certifier }, index) => (\n\t\t\t\t\t\t\t<ListGroupItem key={index}>\n\t\t\t\t\t\t\t\t<Container fluid>\n\t\t\t\t\t\t\t\t\t<Row className=\"my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"text-black-50\">Certificazione</h6>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Title>Descrizione</Title>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t\t\t\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t\t\t\t\t\t\t<Title>Certificato da</Title>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t<p align=\"justify\">{certifier}</p>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ListGroup>\n\t\t\t\t</ModalBody>\n\t\t\t</Modal>\n\t\t</>\n\t)\n};\n\nexport default connect((state) => ({ user: Selector.getUser(state) }))(CertificationHandling);\n","import React, { useState } from 'react';\nimport { Col, Container, Row } from 'reactstrap';\n\nimport { StyledTitle } from '../styled';\n\nimport LandPortionHandling from './LandPortionHandling';\n\nimport { PORTION } from '../values';\nimport CertificationHandling from './CertificationHandling';\n\nconst Title = StyledTitle('h5');\n\nconst DiscoverActivityProduct = ({ id, portion, description, registeredBy, element }) => {\n\tconst [isPortionOpen, setIsPortionOpen] = useState(false);\n\tconst [isHistoryOpen, setIsHistoryOpen] = useState(false);\n\n\treturn (\n\t\t<Container fluid>\n\t\t\t<Row className=\"my-3\">\n\t\t\t\t<Col>\n\t\t\t\t\t<h6 className=\"text-black-50\">{element}</h6>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center justify-content-end my-3\">\n\t\t\t\t<Col xl={9} sm={12} align=\"end\">\n\t\t\t\t\t<CertificationHandling\n\t\t\t\t\t\tid={id}\n\t\t\t\t\t\tisOpen={isHistoryOpen}\n\t\t\t\t\t\tsetIsOpen={setIsHistoryOpen}\n\t\t\t\t\t\telement={element}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Porzione</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<LandPortionHandling\n\t\t\t\t\t\tid={portion}\n\t\t\t\t\t\tisOpen={isPortionOpen}\n\t\t\t\t\t\tsetIsOpen={setIsPortionOpen}\n\t\t\t\t\t\telement={PORTION}\n\t\t\t\t\t/>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Descrizione</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<p align=\"justify\">{description}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t<Row className=\"align-items-center my-3\">\n\t\t\t\t<Col xl={3} sm={12}>\n\t\t\t\t\t<Title>Registrato da</Title>\n\t\t\t\t</Col>\n\t\t\t\t<Col>\n\t\t\t\t\t<p align=\"justify\">{registeredBy}</p>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t</Container>\n\t);\n};\n\nexport default DiscoverActivityProduct;\n","import React, { useState, useCallback, useMemo } from 'react';\n\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\n\nconst ElementSelector = ({ elements, currentElement, setCurrentElement }) => {\n\tconst [isOpen, setIsOpen] = useState(false);\n\n\tconst toggle = useCallback(() => setIsOpen((isOpen) => !isOpen), [setIsOpen]);\n\tconst onClick = useCallback((value) => () => {\n\t\tsetCurrentElement(value);\n\t}, [setCurrentElement]);\n\n\tconst choices = useMemo(() => {\n\t\treturn elements.map((value, index) =>\n\t\t\t<DropdownItem disabled={value.disabled} onClick={onClick(value.type)} key={index}>{value.type}</DropdownItem>\n\t\t)\n\t}, [onClick, elements]);\n\n\treturn (\n\t\t<Dropdown\n\t\t\tisOpen={isOpen}\n\t\t\ttoggle={toggle}\n\t\t>\n\t\t\t<DropdownToggle caret block>\n\t\t\t\t{currentElement}\n\t\t\t</DropdownToggle>\n\t\t\t<DropdownMenu>\n\t\t\t\t{choices}\n\t\t\t</DropdownMenu>\n\t\t</Dropdown>\n\t)\n};\n\nexport default ElementSelector;\n"],"sourceRoot":""}